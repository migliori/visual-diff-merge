{"version":3,"file":"file-browser.min.js","mappings":"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","sources":["webpack://diff-files/webpack/universalModuleDefinition","webpack://diff-files/./src/components/browser/FileBrowserManager.js","webpack://diff-files/./src/components/viewer/BrowserUIManager.js","webpack://diff-files/./src/constants/Selectors.js","webpack://diff-files/./src/utils/AlertManager.js","webpack://diff-files/./src/utils/BaseSingleton.js","webpack://diff-files/./src/utils/DOMUtils.js","webpack://diff-files/./src/utils/Debug.js","webpack://diff-files/./src/utils/DiffConfigManager.js","webpack://diff-files/./src/utils/IconRegistry.js","webpack://diff-files/./src/utils/LoaderManager.js","webpack://diff-files/./src/utils/TranslationManager.js","webpack://diff-files/webpack/bootstrap","webpack://diff-files/webpack/runtime/define property getters","webpack://diff-files/webpack/runtime/hasOwnProperty shorthand","webpack://diff-files/webpack/runtime/make namespace object","webpack://diff-files/./src/file-browser.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn ","/**\n * File Browser Manager\n * Handles file selection, comparison, and diff visualization\n *\n * This component is responsible for the file browser UI in diff-viewer/file-browser.php\n */\n\nimport Selectors from '../../constants/Selectors';\nimport { Debug } from '../../utils/Debug';\nimport { TranslationManager } from '../../utils/TranslationManager';\nimport { LoaderManager } from '../../utils/LoaderManager';\nimport AlertManager from '../../utils/AlertManager';\nimport { DiffConfigManager } from '../../utils/DiffConfigManager';\n\n/**\n * Manages the file browser UI and functionality\n */\nexport class FileBrowserManager {\n    /**\n     * @param {Object} options - Configuration options\n     */\n    constructor(options = {}) {\n        // Check if we have the new single select or the old dual selects\n        this.compareFileSelect = document.getElementById('compare-file');\n        this.oldFileSelect = document.getElementById('old-file');\n        this.newFileSelect = document.getElementById('new-file');\n\n        // Debug: Log which elements were found\n        Debug.log('FileBrowserManager: Constructor - Element detection', {\n            compareFileSelect: !!this.compareFileSelect,\n            oldFileSelect: !!this.oldFileSelect,\n            newFileSelect: !!this.newFileSelect\n        }, 2);\n\n        // Initialize loader manager\n        this.loaderManager = LoaderManager.getInstance();\n\n        // Initialize translation manager\n        this.translationManager = TranslationManager.getInstance();\n\n        // Initialize asynchronously to ensure server config is loaded\n        this.initAsync(options);\n    }\n\n    /**\n     * Async initialization to ensure server config is loaded first\n     * @param {Object} options - Configuration options\n     */\n    async initAsync(options = {}) {\n        try {\n            // Initialize the DiffConfigManager with the options\n            const configManager = DiffConfigManager.getInstance();\n            await configManager.initialize({\n                container: 'vdm-diff__viewer',\n                ...options\n            });\n\n            // Now proceed with normal initialization\n            this.init();\n        } catch (error) {\n            Debug.error('FileBrowserManager: Error during async initialization', error, 1);\n            // Proceed with normal initialization even if server config failed\n            this.init();\n        }\n    }\n\n    /**\n     * Initialize the file browser\n     */\n    init() {\n        Debug.log('FileBrowserManager: Initializing', null, 2);\n\n        // Check if we have the new single select system\n        if (this.compareFileSelect) {\n            Debug.log('FileBrowserManager: Using new single file select system', null, 2);\n            // No need for sync in single select mode\n        } else if (this.oldFileSelect && this.newFileSelect) {\n            Debug.log('FileBrowserManager: Using legacy dual file select system', null, 2);\n            // Add event listeners to selectors for legacy mode\n            this.oldFileSelect.addEventListener('change', () => this.syncFileSelections());\n            this.newFileSelect.addEventListener('change', () => {\n                // When user manually selects a new file, we don't sync\n            });\n        } else {\n            Debug.warn('FileBrowserManager: No valid file select elements found', null, 1);\n        }\n\n        // Form submit handler\n        const form = document.getElementById('vdm-file-comparison-form');\n        if (form) {\n            form.addEventListener('submit', (event) => this.handleComparison(event));\n        } else {\n            Debug.warn('FileBrowserManager: Form element not found', null, 1);\n        }\n\n        // Initial sync\n        this.syncFileSelections();\n\n        Debug.log('FileBrowserManager: Initialization complete', null, 2);\n    }\n\n    /**\n     * Handle file comparison form submission\n     * @param {Event} event - Form submit event\n     */\n    async handleComparison(event) {\n        event.preventDefault();\n        Debug.log('FileBrowserManager: Handling comparison', null, 2);\n\n        // Get the AlertManager instance to clear any existing alerts\n        const alertManager = AlertManager.getInstance();\n        alertManager.hideAlert();\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n\n        // Clear any existing content immediately before loading new content\n        this.clearUI();\n\n        // Show the container wrapper if it's hidden\n        if (containerWrapper?.classList.contains('vdm-d-none')) {\n            containerWrapper.classList.remove('vdm-d-none');\n        }\n\n        // Show an early loader before starting the process\n        const loaderId = this.loaderManager.showEarlyLoader(\n            this.translationManager.get('loadingContent', 'Processing content...')\n        );\n\n        try {\n            // Clean up previous instances first\n            this.cleanupPreviousInstance();\n\n            // 1. Gather selected file data\n            const fileData = this.getSelectedFilesData();\n\n            // 2. Fetch file contents\n            this.loaderManager.updateLoaderMessage(loaderId, this.translationManager.get('loadingContent', 'Loading file contents...'));\n            const contents = await this.fetchFileContents(fileData);\n\n            // Check for identical content\n            if (contents.old === contents.new) {\n                Debug.log('FileBrowserManager: File contents are identical', null, 2);\n                this.loaderManager.hideMainLoader(loaderId);\n                this.handleIdenticalContent();\n                return;\n            }\n\n            // 3. Configure diffConfig\n            this.configureDiffData(fileData, contents);\n\n            // 4. Process diff data\n            this.loaderManager.updateLoaderMessage(loaderId, this.translationManager.get('processingChunks', 'Processing diff...'));\n            const result = await this.processDiff();\n\n            // Skip if identical content\n            if (result.identical) {\n                Debug.log('FileBrowserManager: Files contain identical content according to backend', null, 2);\n                this.loaderManager.hideMainLoader(loaderId);\n                this.handleIdenticalContent();\n                return;\n            }\n\n            // 5. Update diffConfig with result - but preserve runtime values\n            const configManager = DiffConfigManager.getInstance();\n\n            // Preserve existing serverSaveEnabled value that was set by FileBrowserManager\n            const existingServerSaveEnabled = configManager.get('serverSaveEnabled');\n\n            configManager.setDiffConfig(result);\n\n            // Restore the preserved serverSaveEnabled if it was defined\n            if (existingServerSaveEnabled !== null && existingServerSaveEnabled !== undefined) {\n                configManager.set('serverSaveEnabled', existingServerSaveEnabled);\n                Debug.log('FileBrowserManager: Restored serverSaveEnabled after setDiffConfig', existingServerSaveEnabled, 2);\n            }\n\n            // 6. Initialize the UI manager\n            this.loaderManager.updateLoaderMessage(loaderId, this.translationManager.get('loadingDiff', 'Initializing viewer...'));\n            const uiManagerSuccess = await this.initializeUIManager();\n\n            if (!uiManagerSuccess) {\n                Debug.error('FileBrowserManager: Failed to initialize UI manager', null, 1);\n                this.loaderManager.hideMainLoader(loaderId);\n                return;\n            }\n\n            // 7. Initialize diff viewer\n            await this.initializeDiffViewer();\n\n            // Note: We don't hide the loader here since DiffViewer will adopt it\n        } catch (error) {\n            Debug.error('FileBrowserManager: Error during comparison', error, 1);\n            // Hide the loader if there's an error\n            this.loaderManager.hideMainLoader(loaderId);\n\n            // Get elements for error display\n            const viewerElement = document.getElementById('vdm-diff__viewer');\n            this.handleError(error, null, viewerElement);\n        }\n    }\n\n    /**\n     * Clean up previous instances\n     */\n    cleanupPreviousInstance() {\n        // Clean up previous instances if they exist\n        if (window.diffViewer) {\n            try {\n                Debug.log('FileBrowserManager: Cleaning up previous DiffViewer instance', null, 2);\n                window.diffViewer.destroy();\n                window.diffViewer = null;\n            } catch (e) {\n                Debug.warn('FileBrowserManager: Error destroying previous diffViewer', e, 1);\n            }\n        }\n\n        if (window.vdmBrowserUIManager) {\n            try {\n                Debug.log('FileBrowserManager: Cleaning up previous BrowserUIManager instance', null, 2);\n                window.vdmBrowserUIManager.destroy();\n                window.vdmBrowserUIManager = null;\n            } catch (e) {\n                Debug.warn('FileBrowserManager: Error destroying previous BrowserUIManager', e, 1);\n            }\n        }\n    }\n\n    /**\n     * Initialize the UI manager\n     * @returns {Promise<boolean>} Success status\n     */\n    async initializeUIManager() {\n        Debug.log('FileBrowserManager: Initializing UI manager', null, 2);\n\n        // Import the BrowserUIManager if available\n        if (typeof BrowserUIManager !== 'undefined') {\n            try {\n                // Create new instance with the global window.diffConfig\n                window.vdmBrowserUIManager = new BrowserUIManager(window.diffConfig);\n\n                // Initialize with container\n                const initResult = await window.vdmBrowserUIManager.initialize(Selectors.CONTAINER.WRAPPER);\n\n                if (initResult) {\n                    return true;\n                } else {\n                    Debug.warn('FileBrowserManager: BrowserUIManager initialize returned false, falling back to manual UI creation', null, 1);\n                    return this.createBasicUIElements();\n                }\n            } catch (error) {\n                Debug.error('FileBrowserManager: BrowserUIManager initialize failed', error, 1);\n                Debug.warn('FileBrowserManager: Falling back to manual UI creation due to BrowserUIManager error', null, 1);\n                return this.createBasicUIElements();\n            }\n        } else {\n            Debug.warn('FileBrowserManager: BrowserUIManager not available, UI elements must be created manually', null, 1);\n            // Fallback: Create basic UI elements manually\n            return this.createBasicUIElements();\n        }\n    }\n\n    /**\n     * Initialize the diff viewer\n     * @returns {Promise<boolean>} Success status\n     */\n    async initializeDiffViewer() {\n        Debug.log('FileBrowserManager: Initializing diff viewer', null, 2);\n\n        // Check if DiffViewer is available\n        if (typeof DiffViewer !== 'undefined') {\n            const configManager = DiffConfigManager.getInstance();\n\n            // Update container with correct selector ID\n            configManager.set('container', Selectors.DIFF.VIEWER.replace('#', ''));\n\n            // Ensure the runtime properties are set at the top level where DiffViewer expects them\n            if (!window.diffConfig.fileRefId && window.diffConfig.new?.ref_id) {\n                configManager.set('fileRefId', window.diffConfig.new.ref_id);\n                Debug.log('FileBrowserManager: Setting top-level fileRefId from new.ref_id', window.diffConfig.new.ref_id, 1);\n            }\n\n            // SECURITY: Use safe filenames and fileRefIds, not server paths\n            if (!window.diffConfig.newFileName && window.diffConfig.new?.filename) {\n                configManager.set('newFileName', window.diffConfig.new.filename);\n                Debug.log('FileBrowserManager: Setting top-level newFileName from new.filename', window.diffConfig.new.filename, 1);\n            }\n\n            // Always explicitly set serverSaveEnabled if we have file references\n            // Use the value that was just set or the current value\n            const currentFileRefId = window.diffConfig.fileRefId || window.diffConfig.new?.ref_id || '';\n            const hasFileRefs = !!(currentFileRefId || window.diffConfig.oldFileRefId || window.diffConfig.old?.ref_id);\n            configManager.set('serverSaveEnabled', hasFileRefs);\n            Debug.log('FileBrowserManager: Setting serverSaveEnabled', {\n                hasFileRefs,\n                currentFileRefId,\n                oldFileRefId: window.diffConfig.oldFileRefId || window.diffConfig.old?.ref_id\n            }, 1);\n\n            // DEBUG log the final diffConfig properties before initialization\n            Debug.log('FileBrowserManager: Final diffConfig settings before initialization', {\n                fileRefId: window.diffConfig.fileRefId,\n                oldFileRefId: window.diffConfig.oldFileRefId,\n                newFileName: window.diffConfig.newFileName,\n                oldFileName: window.diffConfig.oldFileName,\n                serverSaveEnabled: window.diffConfig.serverSaveEnabled,\n                demoEnabled: window.diffConfig.demoEnabled\n            }, 1);\n\n            // Validate the diff data before attempting to initialize\n            if (!window.diffConfig.diffData ||\n                !Array.isArray(window.diffConfig.diffData.chunks) ||\n                window.diffConfig.diffData.chunks.length === 0) {\n\n                Debug.warn('FileBrowserManager: No valid diff data found for initialization', {\n                    hasDiffData: !!window.diffConfig.diffData,\n                    diffDataKeys: window.diffConfig.diffData ? Object.keys(window.diffConfig.diffData) : []\n                }, 1);\n\n                // Get container element\n                const viewerContainer = document.getElementById(window.diffConfig.container);\n                if (viewerContainer) {\n                    viewerContainer.innerHTML = `\n                        <div class=\"${Selectors.UTILITY.ALERT_WARNING}\">\n                            <h4>No Differences Found</h4>\n                            <p>The files appear to be identical or the diff engine couldn't process them correctly.</p>\n                            <p>Try selecting different files to compare.</p>\n                        </div>\n                    `;\n                }\n\n                // Return early to prevent initialization errors\n                return false;\n            }\n\n            // Create a new DiffViewer instance\n            window.diffViewer = new DiffViewer(window.diffConfig);\n\n            // Initialize the viewer\n            const initResult = await window.diffViewer.initialize();\n\n            Debug.log('FileBrowserManager: DiffViewer initialization result', initResult, 2);\n            Debug.log('FileBrowserManager: BrowserUIManager available', !!window.vdmBrowserUIManager, 2);\n\n            // Ensure theme elements are available and visible when diff UI is successfully displayed\n            if (initResult) {\n                // Always ensure the BrowserUIManager has generated theme elements and make them visible\n                if (window.vdmBrowserUIManager) {\n                    // First ensure theme switcher exists (regenerate if needed)\n                    const themeSwitcherId = Selectors.THEME.SWITCHER.name();\n                    const themeSwitcherExists = !!document.getElementById(themeSwitcherId);\n                    Debug.log('FileBrowserManager: Theme switcher exists in DOM', themeSwitcherExists, 2);\n\n                    if (!themeSwitcherExists) {\n                        Debug.log('FileBrowserManager: Theme switcher not found, regenerating', null, 2);\n                        window.vdmBrowserUIManager.generateThemeSwitcher();\n                    }\n\n                    // Always call showThemeElements to ensure proper visibility\n                    if (typeof window.vdmBrowserUIManager.showThemeElements === 'function') {\n                        Debug.log('FileBrowserManager: Calling showThemeElements after DiffViewer initialization', null, 2);\n                        window.vdmBrowserUIManager.showThemeElements();\n                    }\n                } else {\n                    Debug.warn('FileBrowserManager: BrowserUIManager not available, cannot show theme elements', null, 1);\n                }\n            } else {\n                Debug.warn('FileBrowserManager: DiffViewer initialization failed, not showing theme elements', null, 1);\n            }\n\n            return initResult;\n        } else if (typeof window.enableDiffViewer === 'function') {\n            // Fall back to the global enableDiffViewer function if available\n            Debug.log('FileBrowserManager: DiffViewer not available, falling back to enableDiffViewer', null, 2);\n            return window.enableDiffViewer();\n        } else {\n            Debug.error('FileBrowserManager: DiffViewer not available', null, 1);\n            throw new Error('DiffViewer not available');\n        }\n    }\n\n    /**\n     * Get selected files data\n     * @returns {Object} Selected files data\n     */\n    getSelectedFilesData() {\n        Debug.log('FileBrowserManager: Getting selected files data', null, 3);\n\n        // Check if we're using the new single select system\n        if (this.compareFileSelect) {\n            Debug.log('FileBrowserManager: Using single select system', null, 3);\n\n            if (this.compareFileSelect.selectedIndex < 0) {\n                throw new Error('No file selected');\n            }\n\n            const selectedOption = this.compareFileSelect.options[this.compareFileSelect.selectedIndex];\n            if (!selectedOption) {\n                throw new Error('Selected option not found');\n            }\n\n            const oldRefId = selectedOption.getAttribute('data-old-ref-id');\n            const newRefId = selectedOption.getAttribute('data-new-ref-id');\n            const oldPath = selectedOption.getAttribute('data-old-path');\n            const newPath = selectedOption.getAttribute('data-new-path');\n\n            if (!oldRefId || !newRefId) {\n                throw new Error('Missing file reference IDs in selected option');\n            }\n\n            Debug.log('FileBrowserManager: Single select data', {\n                oldRefId, newRefId, oldPath, newPath\n            }, 3);\n\n            return {\n                old: {\n                    path: oldPath,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: oldRefId\n                },\n                new: {\n                    path: newPath,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: newRefId\n                }\n            };\n        }\n\n        // Fallback to legacy dual select system\n        if (this.oldFileSelect && this.newFileSelect) {\n            Debug.log('FileBrowserManager: Using legacy dual select system', null, 3);\n            return {\n                old: {\n                    path: this.oldFileSelect.value,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: this.oldFileSelect.options[this.oldFileSelect.selectedIndex]\n                        .getAttribute('data-ref-id')\n                },\n                new: {\n                    path: this.newFileSelect.value,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: this.newFileSelect.options[this.newFileSelect.selectedIndex]\n                        .getAttribute('data-ref-id')\n                }\n            };\n        }\n\n        throw new Error('No valid file selection elements found');\n    }\n\n    /**\n     * Fetch file contents\n     * @param {Object} fileData - File data object\n     * @returns {Promise<Object>} File contents\n     */\n    async fetchFileContents(fileData) {\n        Debug.log('FileBrowserManager: Fetching file contents', fileData, 3);\n\n        // Use the API endpoint to safely retrieve file content\n        const fetchFile = async (filePath, refId) => {\n            // SECURITY: Always use fileRefId when available\n            if (refId) {\n                Debug.log('FileBrowserManager: Using reference ID for file', { filePath, refId }, 3);\n\n                // Get API URL from DiffConfigManager (which has the latest server config)\n                const configManager = DiffConfigManager.getInstance();\n                const baseApiUrl = configManager.get('apiBaseUrl') || window.diffConfig?.apiBaseUrl || '../api/';\n                const apiUrl = `${baseApiUrl}get-file-content.php?refId=${encodeURIComponent(refId)}`;\n\n                Debug.log('FileBrowserManager: API URL', { apiUrl, baseApiUrl }, 3);\n                const response = await fetch(apiUrl);\n\n                if (!response.ok) {\n                    throw new Error(`Failed to load file: ${filePath} (Status: ${response.status})`);\n                }\n\n                const data = await response.json();\n                return data.content;\n            }\n            // Last resort: try direct fetch of the file path (should be a relative path only)\n            else {\n                Debug.log('FileBrowserManager: Using direct path for file', { filePath }, 3);\n\n                // SECURITY: Ensure the path is not absolute or contains dangerous patterns\n                if (filePath.match(/^(\\/|\\\\|https?:|file:|[a-zA-Z]:\\\\)/i)) {\n                    throw new Error(`Invalid file path format: ${filePath}`);\n                }\n\n                const response = await fetch(filePath);\n\n                if (!response.ok) {\n                    throw new Error(`Failed to load file: ${filePath} (Status: ${response.status})`);\n                }\n\n                return await response.text();\n            }\n        };\n\n        try {\n            const oldContent = await fetchFile(fileData.old.path, fileData.old.refId);\n            const newContent = await fetchFile(fileData.new.path, fileData.new.refId);\n\n            // Check if contents are identical\n            if (oldContent === newContent) {\n                Debug.log('FileBrowserManager: Files contain identical content', null, 2);\n\n                return {\n                    old: oldContent,\n                    new: newContent,\n                    identical: true\n                };\n            }\n\n            return {\n                old: oldContent,\n                new: newContent\n            };\n        } catch (error) {\n            Debug.error('FileBrowserManager: Failed to load one or both files', error, 1);\n            throw error;\n        }\n    }\n\n    /**\n     * Configure diff data\n     * @param {Object} fileData - File data object\n     * @param {Object} contents - File contents\n     */\n    configureDiffData(fileData, contents) {\n        Debug.log('FileBrowserManager: Configuring diff data', fileData, 3);\n\n        // DEBUG: Log file reference data before configuration\n        Debug.log('FileBrowserManager: File reference data before configuration', {\n            old: {\n                refId: fileData.old.refId,\n                path: fileData.old.path\n            },\n            new: {\n                refId: fileData.new.refId,\n                path: fileData.new.path\n            }\n        }, 1);\n\n        // Extract just the filenames (not paths) for security\n        const oldFileName = fileData.old.path.split('/').pop();\n        const newFileName = fileData.new.path.split('/').pop();\n\n        const configManager = DiffConfigManager.getInstance();\n\n        // Set the old file data\n        configManager.update({\n            old: {\n                type: 'file',\n                content: contents.old,\n                path: fileData.old.path,\n                ref_id: fileData.old.refId,\n                filename: oldFileName\n            },\n            new: {\n                type: 'file',\n                content: contents.new,\n                path: fileData.new.path,\n                ref_id: fileData.new.refId,\n                filename: newFileName\n            },\n            filepath: newFileName,\n            fileRefId: fileData.new.refId || '',\n            oldFileRefId: fileData.old.refId || '',\n            newFileName: newFileName,\n            oldFileName: oldFileName,\n            serverSaveEnabled: !!(fileData.new.refId || fileData.old.refId)\n        });\n\n        // DEBUG: Log the configured diffConfig\n        Debug.log('FileBrowserManager: Configured diffConfig file references', {\n            fileRefId: window.diffConfig.fileRefId,\n            oldFileRefId: window.diffConfig.oldFileRefId,\n            newFileName: window.diffConfig.newFileName,\n            oldFileName: window.diffConfig.oldFileName,\n            serverSaveEnabled: window.diffConfig.serverSaveEnabled,\n            old: {\n                ref_id: window.diffConfig.old.ref_id,\n                filename: window.diffConfig.old.filename\n            },\n            new: {\n                ref_id: window.diffConfig.new.ref_id,\n                filename: window.diffConfig.new.filename\n            }\n        }, 1);\n    }\n\n    /**\n     * Process diff with API\n     * @returns {Promise<Object>} API response\n     */\n    async processDiff() {\n        Debug.log('FileBrowserManager: Processing diff with API', null, 2);\n        // Use endpoint discovery if available\n        let diffProcessorEndpoint;\n\n        try {\n            // Try to use the global endpoint discovery instance\n            if (window.vdmEndpointDiscovery) {\n                diffProcessorEndpoint = await window.vdmEndpointDiscovery.getEndpoint('diffProcessor');\n                Debug.log('FileBrowserManager: Endpoint discovery found endpoint', diffProcessorEndpoint, 2);\n            } else {\n                // Fall back to config or default - use DiffConfigManager for latest server config\n                const configManager = DiffConfigManager.getInstance();\n                const baseApiUrl = configManager.get('apiBaseUrl') || window.diffConfig?.apiBaseUrl || '../api/';\n                diffProcessorEndpoint = window.diffConfig?.apiEndpoints?.diffProcessor || `${baseApiUrl}diff-processor.php`;\n                Debug.log('FileBrowserManager: Using fallback endpoint', diffProcessorEndpoint, 2);\n            }\n        } catch (error) {\n            Debug.warn('FileBrowserManager: Error discovering endpoints', error, 1);\n            // Fall back to config or default - use DiffConfigManager for latest server config\n            const configManager = DiffConfigManager.getInstance();\n            const baseApiUrl = configManager.get('apiBaseUrl') || window.diffConfig?.apiBaseUrl || '../api/';\n            diffProcessorEndpoint = window.diffConfig?.apiEndpoints?.diffProcessor || `${baseApiUrl}diff-processor.php`;\n        }\n\n        const response = await fetch(diffProcessorEndpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(window.diffConfig)\n        });\n\n        if (!response.ok) {\n            Debug.error('FileBrowserManager: API request failed', {\n                status: response.status,\n                statusText: response.statusText\n            }, 1);\n            throw new Error(`API request failed: ${response.status} ${response.statusText}`);\n        }\n\n        const result = await response.json();\n\n        if (result.error) {\n            Debug.error('FileBrowserManager: API returned error', result.error, 1);\n            throw new Error(result.error);\n        }\n\n        // Initialize TranslationManager with server-provided data\n        const translationManager = TranslationManager.getInstance();\n        if (result.config && result.config.translations) {\n            const lang = result.config.lang || 'en';\n            Debug.log(`FileBrowserManager: Initializing TranslationManager with \"${lang}\" language from server response`, result.config.translations, 2);\n            translationManager.initialize(lang, result.config.translations);\n        }\n\n        // Move all properties from the nested config object to the root level\n        if (result.config && typeof result.config === 'object') {\n            Debug.log('FileBrowserManager: Moving all properties from config to root level', result.config, 2);\n\n            // Loop through all properties in config and move them to the root level\n            Object.keys(result.config).forEach(key => {\n                // Only copy if the property doesn't already exist at root level\n                // or if it does exist but is empty/undefined\n                // EXCEPTION: Never overwrite serverSaveEnabled as it's determined by FileBrowserManager\n                if (key === 'serverSaveEnabled') {\n                    Debug.log('FileBrowserManager: Preserving existing serverSaveEnabled, not overwriting from server',\n                        { existing: result.serverSaveEnabled, fromServer: result.config[key] }, 2);\n                    return; // Skip this key\n                }\n\n                if (result[key] === undefined ||\n                    (key === 'diffData' && (!result[key]?.chunks || result[key].chunks.length === 0))) {\n                    Debug.log(`FileBrowserManager: Moving ${key} from config to root level`, result.config[key], 3);\n                    result[key] = result.config[key];\n                }\n            });\n        }\n\n        return result;\n    }\n\n    /**\n     * Update diff config with API response\n     * @param {Object} result - API response\n     */\n    updateDiffConfig(result) {\n        Debug.log('FileBrowserManager: Updating diff config with API response', null, 3);\n        // Make sure we have a valid result\n        if (!result || typeof result !== 'object') {\n            Debug.error('FileBrowserManager: Invalid result from API', result, 1);\n            this.diffConfig.diffData = {\n                old: [],\n                new: [],\n                chunks: []\n            };\n            return;\n        }\n\n        // PRIORITIZE SERVER TRANSLATIONS - Do this first, before anything else\n        if (result.config?.translations) {\n            // Make sure translations are set in window.diffConfig immediately\n            if (!window.diffConfig) {\n                window.diffConfig = {};\n            }\n\n            window.diffConfig.lang = result.config.lang || 'en';\n            window.diffConfig.translations = result.config.translations;\n\n            // Also update this.diffConfig\n            this.diffConfig.lang = result.config.lang || 'en';\n            this.diffConfig.translations = result.config.translations;\n\n            Debug.log('FileBrowserManager: Server translations set in window.diffConfig', {\n                lang: window.diffConfig.lang,\n                translationCount: Object.keys(window.diffConfig.translations).length\n            }, 1);\n        }\n\n        // Add demoEnabled flag from the server response\n        if (result.config && result.config.demoEnabled !== undefined) {\n            this.diffConfig.demoEnabled = result.config.demoEnabled;\n            Debug.log('FileBrowserManager: Demo mode flag set from server', this.diffConfig.demoEnabled, 2);\n        }\n\n        // Handle case where the diffData is directly provided\n        if (result.diffData) {\n            this.diffConfig.diffData = {\n                old: result.diffData.old || [],\n                new: result.diffData.new || [],\n                chunks: result.diffData.chunks || []\n            };\n        }\n        // Handle case where diff components are at the root level\n        else if (result.old || result.new || result.chunks) {\n            this.diffConfig.diffData = {\n                old: result.old?.lines || [],\n                new: result.new?.lines || [],\n                chunks: result.chunks || []\n            };\n        }\n        // Handle case where we have data but in an unexpected format\n        else if (result.success === true && result.config) {\n            // Try to extract diffData from the config\n            if (result.config.diffData) {\n                this.diffConfig.diffData = result.config.diffData;\n            } else {\n                // Create empty structure as fallback\n                this.diffConfig.diffData = {\n                    old: [],\n                    new: [],\n                    chunks: []\n                };\n                Debug.warn('FileBrowserManager: API returned success but no diffData was found in the response', result, 2);\n            }\n        }\n        // Fallback when no recognizable diff data is found\n        else {\n            // Create empty structure as fallback\n            this.diffConfig.diffData = {\n                old: [],\n                new: [],\n                chunks: []\n            };\n            Debug.warn('FileBrowserManager: Could not extract diff data from API response', result, 2);\n        }\n\n        // Additional validations\n        if (!Array.isArray(this.diffConfig.diffData.old)) {\n            this.diffConfig.diffData.old = [];\n            Debug.warn('FileBrowserManager: diffData.old is not an array, using empty array instead', null, 2);\n        }\n\n        if (!Array.isArray(this.diffConfig.diffData.new)) {\n            this.diffConfig.diffData.new = [];\n            Debug.warn('FileBrowserManager: diffData.new is not an array, using empty array instead', null, 2);\n        }\n\n        if (!Array.isArray(this.diffConfig.diffData.chunks)) {\n            this.diffConfig.diffData.chunks = [];\n            Debug.warn('FileBrowserManager: diffData.chunks is not an array, using empty array instead', null, 2);\n        }\n\n        // Retain any other useful configuration from the result\n        if (result.config) {\n            // Extract useful configurations but avoid overriding already set values\n            const { debug, theme, apiEndpoint } = result.config;\n\n            if (debug !== undefined && this.diffConfig.debug === undefined) {\n                this.diffConfig.debug = debug;\n            }\n\n            if (theme && !this.diffConfig.theme) {\n                this.diffConfig.theme = theme;\n            }\n\n            if (apiEndpoint && !this.diffConfig.apiEndpoint) {\n                this.diffConfig.apiEndpoint = apiEndpoint;\n            }\n        }\n\n        // Preserve existing apiBaseUrl before updating window.diffConfig\n        const existingApiBaseUrl = window.diffConfig?.apiBaseUrl;\n\n        // Make diffConfig globally available\n        window.diffConfig = { ...this.diffConfig };\n\n        // Restore apiBaseUrl if it was previously set (client-side preference)\n        // But give priority to server-provided apiBaseUrl\n        if (result.config?.apiBaseUrl) {\n            // Server provided apiBaseUrl takes priority\n            window.diffConfig.apiBaseUrl = result.config.apiBaseUrl;\n            this.diffConfig.apiBaseUrl = result.config.apiBaseUrl;\n        } else if (existingApiBaseUrl) {\n            // Fall back to existing client-side apiBaseUrl\n            window.diffConfig.apiBaseUrl = existingApiBaseUrl;\n            this.diffConfig.apiBaseUrl = existingApiBaseUrl;\n        }\n    }\n\n    /**\n     * Process API response, checking for demo mode\n     * @param {Object} result - API response\n     * @returns {boolean} Whether demo mode was detected and processed\n     */\n    processDemoResponse(result) {\n        // Check if this was a demo response\n        if (result.demo && result.simulated) {\n            Debug.log('FileBrowserManager: Demo mode detected', null, 2);\n\n            // Get the alert manager\n            const alertManager = AlertManager.getInstance();\n\n            // Get translation manager for proper messaging\n            const translationManager = TranslationManager.getInstance();\n            const title = translationManager.get('demoModeTitle', 'Simulation Complete');\n            const message = result.message || translationManager.get('demoModeMessage', 'This is a demonstration only. Files will not be modified.');\n            const simulated = translationManager.get('demoModeSimulated', 'Your merge choices would have been applied successfully in a real environment.');\n\n            // Show demo message using the existing alert manager\n            const demoMessage = `\n                <strong>${title}</strong><br>\n                ${message}<br>\n                ${simulated}\n            `;\n\n            // Use the warning type to make it stand out\n            alertManager.showWarning(demoMessage, {\n                timeout: 0,\n                translate: false\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Handle error\n     * @param {Error} error - Error object\n     * @param {HTMLElement} loadingElement - Loading element\n     * @param {HTMLElement} viewerElement - Viewer element\n     */\n    handleError(error, loadingElement, viewerElement) {\n        Debug.error('FileBrowserManager: Error processing diff', error, 1);\n\n        // Hide loading indicator\n        if (loadingElement) loadingElement.style.display = 'none';\n\n        // Show error in viewer using AlertManager\n        if (viewerElement) {\n            viewerElement.style.display = 'flex';\n            viewerElement.innerHTML = ''; // Clear existing content\n\n            // Use AlertManager to create the alert\n            const alertManager = AlertManager.getInstance();\n            const errorMessage = `\n                <h4>Error Processing Diff</h4>\n                <p>${error.message}</p>\n            `;\n\n            const alertElement = alertManager.showError(errorMessage, {\n                timeout: 0, // Don't auto-dismiss\n                translate: false, // Error message doesn't need translation\n                className: 'm-3' // Add margin for better appearance\n            });\n\n            viewerElement.appendChild(alertElement);\n        }\n    }\n\n    /**\n     * Clear the UI elements before loading new content\n     * This method is called immediately when the form is submitted\n     */\n    clearUI() {\n        Debug.log('FileBrowserManager: Clearing UI', null, 2);\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n\n        if (containerWrapper) {\n            Debug.log('FileBrowserManager: Container wrapper found, current HTML length:', containerWrapper.innerHTML.length, 2);\n\n            // Log all current children before preservation\n            const currentChildren = Array.from(containerWrapper.children);\n            Debug.log('FileBrowserManager: Current children before preservation:', currentChildren.map(child => `${child.tagName}#${child.id || 'no-id'}.${child.className || 'no-class'}`), 2);\n\n            // Save elements that should be preserved before clearing\n            const elementsToPreserve = [];\n\n            // Save .vdm-user-content elements\n            const userContentElements = containerWrapper.querySelectorAll('.vdm-user-content');\n            userContentElements.forEach(element => {\n                elementsToPreserve.push(element);\n                element.remove(); // Remove from DOM temporarily\n            });\n\n            // Note: We no longer preserve theme selectors during clearUI as they will be\n            // recreated appropriately based on whether diff UI is needed or not\n\n            // Clear the container content while keeping its structure\n            Debug.log(`FileBrowserManager: Clearing container innerHTML, current content: \"${containerWrapper.innerHTML.substring(0, 100)}...\"`, null, 2);\n            containerWrapper.innerHTML = '';\n\n            // Restore only user content elements (theme selectors will be recreated as needed)\n            if (elementsToPreserve.length > 0) {\n                Debug.log(`FileBrowserManager: Restoring ${elementsToPreserve.length} preserved elements (user content only)`, null, 2);\n                elementsToPreserve.forEach((element, index) => {\n                    Debug.log(`FileBrowserManager: Restoring element ${index + 1}: ${element.tagName}#${element.id || 'no-id'}.${element.className || 'no-class'}`, null, 3);\n                    containerWrapper.appendChild(element);\n                });\n            } else {\n                Debug.log('FileBrowserManager: No elements to restore', null, 2);\n            }\n\n            // Log final state\n            const finalChildren = Array.from(containerWrapper.children);\n            Debug.log('FileBrowserManager: Final children after restoration:', finalChildren.map(child => `${child.tagName}#${child.id || 'no-id'}.${child.className || 'no-class'}`), 2);\n        }\n\n        // Clear any result messages\n        const resultContainer = document.getElementById('vdm-merge__result');\n        if (resultContainer) {\n            resultContainer.innerHTML = '';\n            resultContainer.classList.add('vdm-d-none');\n        }\n\n        // Clean up any existing dynamic elements\n        const existingViewers = document.querySelectorAll('.vdm-diff__viewer, .vdm-diff-ui');\n        existingViewers.forEach(element => {\n            element.innerHTML = '';\n            // Either remove the element or hide it\n            element.classList.add('vdm-d-none');\n        });\n\n        Debug.log('FileBrowserManager: UI cleared', null, 2);\n    }\n\n    /**\n     * Sync file selections (only for legacy dual select system)\n     */\n    syncFileSelections() {\n        Debug.log('FileBrowserManager: Syncing file selections', null, 3);\n\n        // Only sync if we're using the legacy dual select system\n        if (this.compareFileSelect) {\n            Debug.log('FileBrowserManager: Skipping sync - using single select system', null, 3);\n            return;\n        }\n\n        if (!this.oldFileSelect || !this.newFileSelect) {\n            Debug.warn('FileBrowserManager: Cannot sync file selections - select elements not found', null, 2);\n            return;\n        }\n\n        // Get the filename from the selected old file\n        const oldValue = this.oldFileSelect.value;\n        const oldFileName = oldValue.split('/').pop();\n\n        // Try to find a matching file in the new files dropdown\n        let matchFound = false;\n\n        // First try exact match\n        for (let i = 0; i < this.newFileSelect.options.length; i++) {\n            const newOption = this.newFileSelect.options[i];\n            const newFileName = newOption.value.split('/').pop();\n\n            if (newFileName === oldFileName) {\n                this.newFileSelect.selectedIndex = i;\n                matchFound = true;\n                break;\n            }\n        }\n\n        // If no exact match, try extension match\n        if (!matchFound) {\n            const fileExt = oldFileName.split('.').pop();\n            for (let i = 0; i < this.newFileSelect.options.length; i++) {\n                const newValue = this.newFileSelect.options[i].value;\n                if (newValue.endsWith('.' + fileExt)) {\n                    this.newFileSelect.selectedIndex = i;\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Handle identical content case\n     */\n    handleIdenticalContent() {\n        Debug.log('FileBrowserManager: Files contain identical content', null, 2);\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n\n        // Make sure the container wrapper is visible\n        if (containerWrapper) {\n            containerWrapper.classList.remove('vdm-d-none');\n        }\n\n        // Hide or remove theme selector when no diff UI is needed\n        this.hideThemeSelector();\n\n        // Also hide theme elements via BrowserUIManager if available\n        if (window.vdmBrowserUIManager && typeof window.vdmBrowserUIManager.hideThemeElements === 'function') {\n            window.vdmBrowserUIManager.hideThemeElements();\n        }\n\n        // Get translation manager and retrieve the message\n        const translationManager = TranslationManager.getInstance();\n        const message = translationManager.get('identicalContentMessage', 'The contents are identical. There\\'s nothing to merge.');\n\n        // Use AlertManager to create the alert\n        const alertManager = AlertManager.getInstance();\n\n        // Create alert container if it doesn't exist\n        let alertContainer = containerWrapper.querySelector('.vdm-alert-container');\n        if (!alertContainer) {\n            alertContainer = document.createElement('div');\n            alertContainer.className = 'vdm-alert-container';\n\n            // Find .vdm-user-content if it exists, otherwise prepend to containerWrapper\n            const userContent = containerWrapper.querySelector('.vdm-user-content');\n            if (userContent) {\n                userContent.after(alertContainer);\n            } else {\n                containerWrapper.prepend(alertContainer);\n            }\n        }\n\n        // Set alert container as the container for the alert\n        alertManager.container = alertContainer;\n\n        // Show the alert in the proper container\n        alertManager.showInfo(message, {\n            timeout: 0, // Don't auto-dismiss\n            translate: false, // Message is already translated\n            className: 'vdm-mb-3', // Add margin bottom for spacing\n            container: alertContainer\n        });\n\n        // Hide the diff viewer elements but keep our alert visible\n        if (containerWrapper) {\n            // Get any existing diffViewer content inside the container and hide it\n            const diffContainer = containerWrapper.querySelector(Selectors.DIFF.CONTAINER);\n            if (diffContainer) {\n                diffContainer.style.display = 'none';\n            }\n\n            Debug.log('FileBrowserManager: Hidden diff container for identical content', null, 2);\n        }\n\n        // Make sure any existing diff viewer instances are destroyed\n        this.cleanupPreviousInstance();\n    }\n\n    /**\n     * Create basic UI elements manually when BrowserUIManager is not available\n     * @returns {boolean} Success status\n     */\n    createBasicUIElements() {\n        Debug.log('FileBrowserManager: Creating basic UI elements manually', null, 2);\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n        if (!containerWrapper) {\n            Debug.error('FileBrowserManager: Container wrapper not found', Selectors.CONTAINER.WRAPPER, 1);\n            return false;\n        }\n\n        // Create the main diff viewer container\n        const diffViewerId = Selectors.DIFF.VIEWER.replace('#', '');\n        let diffViewer = document.getElementById(diffViewerId);\n\n        if (!diffViewer) {\n            diffViewer = document.createElement('div');\n            diffViewer.id = diffViewerId;\n            diffViewer.className = 'vdm-diff-ui';\n            containerWrapper.appendChild(diffViewer);\n\n            Debug.log('FileBrowserManager: Created diff viewer element', { id: diffViewerId }, 2);\n        }\n\n        // Create the diff container inside the viewer\n        const diffContainerId = Selectors.DIFF.CONTAINER.replace('#', '');\n        let diffContainer = document.getElementById(diffContainerId);\n\n        if (!diffContainer) {\n            diffContainer = document.createElement('div');\n            diffContainer.id = diffContainerId;\n            diffContainer.className = 'vdm-diff__container';\n            diffViewer.appendChild(diffContainer);\n\n            Debug.log('FileBrowserManager: Created diff container element', { id: diffContainerId }, 2);\n        }\n\n        // Create the basic structure for left and right panes\n        if (!diffContainer.querySelector('.vdm-diff__pane--left')) {\n            const leftPane = document.createElement('div');\n            leftPane.className = 'vdm-diff__pane vdm-diff__pane--left';\n            leftPane.innerHTML = '<div class=\"vdm-diff__content\"></div>';\n            diffContainer.appendChild(leftPane);\n        }\n\n        if (!diffContainer.querySelector('.vdm-diff__pane--right')) {\n            const rightPane = document.createElement('div');\n            rightPane.className = 'vdm-diff__pane vdm-diff__pane--right';\n            rightPane.innerHTML = '<div class=\"vdm-diff__content\"></div>';\n            diffContainer.appendChild(rightPane);\n        }\n\n        Debug.log('FileBrowserManager: Basic UI elements created successfully', null, 2);\n        return true;\n    }\n\n    /**\n     * Hide theme selector and switcher when no diff UI is needed (identical files)\n     */\n    hideThemeSelector() {\n        Debug.log('FileBrowserManager: Hiding theme selector for identical content', null, 2);\n\n        // Hide theme switcher container\n        const themeSwitcher = document.getElementById(Selectors.THEME.SWITCHER.name());\n        if (themeSwitcher) {\n            themeSwitcher.style.display = 'none';\n            Debug.log('FileBrowserManager: Hidden theme switcher container', themeSwitcher.id, 2);\n        }\n\n        // Hide theme selector wrapper if it exists independently\n        const themeSelectorWrapper = document.querySelector(`.${Selectors.THEME_SWITCHER.WRAPPER.name()}`);\n        if (themeSelectorWrapper) {\n            themeSelectorWrapper.style.display = 'none';\n            Debug.log('FileBrowserManager: Hidden theme selector wrapper', null, 2);\n        }\n\n        // Hide individual theme selector if it exists\n        const themeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        if (themeSelector) {\n            themeSelector.style.display = 'none';\n            Debug.log('FileBrowserManager: Hidden theme selector', themeSelector.id, 2);\n        }\n    }\n}\n\n// Expose to global scope\nif (typeof window !== 'undefined') {\n    // Initialize when DOM is ready\n    document.addEventListener('DOMContentLoaded', function() {\n        window.fileBrowserManager = new FileBrowserManager();\n    });\n}\n","import { Debug } from '../../utils/Debug';\nimport Selectors from '../../constants/Selectors';\nimport { DOMUtils } from '../../utils/DOMUtils';\nimport { TranslationManager } from '../../utils/TranslationManager';\n\n/**\n * Manages browser UI generation for file-browser.php\n * This component handles the dynamic generation of UI elements that were previously\n * hardcoded in the PHP file, ensuring proper use of selectors and translations.\n */\nexport class BrowserUIManager {\n    /**\n     * @param {DiffViewer|Object} diffViewer - Parent diff viewer instance or options object\n     */\n    constructor (diffViewer) {\n        // Handle both DiffViewer instance or options object\n        if (diffViewer && diffViewer.options) {\n            this.diffViewer = diffViewer;\n            this.options = diffViewer.options;\n        } else {\n            this.diffViewer = null;\n            this.options = diffViewer || {};\n        }\n\n        this.container = null;\n        this.elements = {\n            themeSwitcher: null,\n            diffContainer: null,\n            mergeControls: null\n        };\n\n        // Get the translation manager instance\n        this.translationManager = TranslationManager.getInstance();\n\n        // Log translation state for debugging\n        let translationsSource;\n\n        // Extract nested ternary operations into separate statements\n        const hasWindowConfig = !!window.diffConfig?.translations;\n        const hasOptionsTranslations = !!this.options?.translations;\n\n        if (this.translationManager.isInitialized()) {\n            translationsSource = 'TranslationManager';\n        } else if (hasWindowConfig) {\n            translationsSource = 'window.diffConfig';\n        } else if (hasOptionsTranslations) {\n            translationsSource = 'options';\n        } else {\n            translationsSource = 'none';\n        }\n\n        const lang = this.translationManager.getLanguage();\n\n        Debug.log(`BrowserUIManager: Created with \"${lang}\" translations from ${translationsSource}`,\n                 this.translationManager.getAllTranslations(), 2);\n    }\n\n    /**\n     * Set the DiffViewer instance\n     * @param {DiffViewer} diffViewer - The DiffViewer instance\n     */\n    setDiffViewer(diffViewer) {\n        if (diffViewer && diffViewer.options) {\n            this.diffViewer = diffViewer;\n            this.options = diffViewer.options;\n            Debug.log('BrowserUIManager: Updated DiffViewer reference', null, 3);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Get translations from options\n     * @returns {Object} Translations object\n     */\n    getTranslations() {\n        // First, try to get translations from the TranslationManager\n        if (this.translationManager && this.translationManager.isInitialized()) {\n            Debug.log('BrowserUIManager: Using translations from TranslationManager', this.translationManager.getAllTranslations(), 3);\n            return this.translationManager.getAllTranslations();\n        }\n\n        // Second, try to auto-initialize TranslationManager with window.diffConfig\n        if (window.diffConfig?.translations && typeof window.diffConfig.translations === 'object') {\n            Debug.log('BrowserUIManager: Auto-initializing TranslationManager from window.diffConfig', window.diffConfig.translations, 3);\n            this.translationManager.initialize(\n                window.diffConfig.lang || 'en',\n                window.diffConfig.translations\n            );\n            return this.translationManager.getAllTranslations();\n        }\n\n        // Fall back to local options if nothing else works\n        if (this.options?.translations && typeof this.options.translations === 'object') {\n            Debug.log('BrowserUIManager: Using translations from local options', this.options.translations, 3);\n            return this.options.translations;\n        }\n\n        Debug.log('BrowserUIManager: No translations found, using empty object', null, 3);\n        return {};\n    }\n\n    /**\n     * Initialize UI components\n     * @param {string} containerSelector - Container element selector\n     */\n    initialize(containerSelector = Selectors.CONTAINER.WRAPPER) {\n        Debug.log('BrowserUIManager: Initializing UI components', null, 2);\n\n        this.container = document.querySelector(containerSelector);\n\n        if (!this.container) {\n            Debug.error('BrowserUIManager: Container element not found', null, 2);\n            return false;\n        }\n\n        // Change the order of generation - create diff container first\n        this.generateDiffContainer();\n        this.generateThemeSwitcher();\n        this.generateThemeSelector();\n        this.generateMergeControls();\n\n        Debug.log('BrowserUIManager: UI components generated', null, 2);\n        return true;\n    }\n\n    /**\n     * Generate theme switcher UI\n     */\n    generateThemeSwitcher() {\n        Debug.log('BrowserUIManager: Generating theme switcher', null, 3);\n\n        // Get the ID without the # prefix for createElement\n        const themeSwitcherId = Selectors.THEME.SWITCHER.name();\n        const themeLoadingId = Selectors.THEME.LOADING_INDICATOR.name();\n        const themeToggleId = Selectors.THEME.TOGGLE.name();\n\n        // Check if theme switcher already exists and if it's still valid to reuse\n        let themeSwitcher = document.getElementById(themeSwitcherId);\n\n        if (themeSwitcher) {\n            // Verify that the theme switcher is in a proper context (not orphaned)\n            // and that the diff UI is being displayed (not in \"identical files\" mode)\n            const diffContainer = document.getElementById(Selectors.DIFF.CONTAINER.name());\n\n            if (diffContainer || this.container.contains(themeSwitcher)) {\n                Debug.log('BrowserUIManager: Reusing existing theme switcher', themeSwitcherId, 2);\n                // Store reference to existing element\n                this.elements.themeSwitcher = themeSwitcher;\n\n                // Ensure it's properly positioned in the container\n                if (themeSwitcher.parentNode !== this.container) {\n                    this.container.appendChild(themeSwitcher);\n                }\n\n                // Make sure it's visible and properly styled - but don't force display here\n                // as it will be controlled by showThemeElements()/hideThemeElements()\n                themeSwitcher.style.position = 'relative';\n                return;\n            } else {\n                // Theme switcher exists but context is invalid, remove it and create new one\n                Debug.log('BrowserUIManager: Removing orphaned theme switcher', themeSwitcherId, 2);\n                themeSwitcher.remove();\n                themeSwitcher = null;\n            }\n        }\n\n        // Create new theme switcher element\n        Debug.log('BrowserUIManager: Creating new theme switcher', themeSwitcherId, 2);\n        themeSwitcher = document.createElement('div');\n        themeSwitcher.id = themeSwitcherId;\n        themeSwitcher.className = `${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.JUSTIFY_CONTENT_BETWEEN.name()} ${Selectors.UTILITY.PADDING_2.name()}`;\n        themeSwitcher.style.cssText = 'display: none !important; position: relative;';\n\n        // Create theme switcher wrapper\n        const switcherWrapper = document.createElement('div');\n        switcherWrapper.className = Selectors.THEME_SWITCHER.WRAPPER.name();\n\n        // Get SVG icons for light/dark mode\n        const sunIcon = DOMUtils.getIconHtml('sun', { classes: Selectors.UTILITY.MARGIN_END_2.name() });\n        const moonIcon = DOMUtils.getIconHtml('moon', { classes: Selectors.UTILITY.MARGIN_START_2.name() });\n\n        // Create theme switcher content with toggle\n        switcherWrapper.innerHTML = `\n            <span class=\"${Selectors.THEME_SWITCHER.LABEL.name()} ${Selectors.UTILITY.MARGIN_END_2.name()}\">${sunIcon}</span>\n            <label class=\"${Selectors.THEME_SWITCHER.CONTROL.name()}\" for=\"${themeToggleId}\">\n                <input type=\"checkbox\" id=\"${themeToggleId}\" checked>\n                <span class=\"${Selectors.THEME_SWITCHER.SLIDER.name()} ${Selectors.THEME_SWITCHER.SLIDER_ROUND.name()}\"></span>\n            </label>\n            <span class=\"${Selectors.THEME_SWITCHER.LABEL.name()} ${Selectors.UTILITY.MARGIN_START_2.name()} \">${moonIcon}</span>\n        `;\n\n        // Append elements to theme switcher\n        themeSwitcher.appendChild(switcherWrapper);\n\n        // Create a separate container for the loader outside the theme switcher hierarchy\n        const loadingContainer = document.createElement('div');\n        loadingContainer.id = themeLoadingId;\n        loadingContainer.style.display = 'none';\n        loadingContainer.style.position = 'absolute';\n        loadingContainer.style.zIndex = '1000';\n\n        // Append theme switcher to container\n        this.container.appendChild(themeSwitcher);\n\n        // Append loading container to body for proper positioning\n        document.body.appendChild(loadingContainer);\n\n        // Store reference\n        this.elements.themeSwitcher = themeSwitcher;\n        this.elements.themeLoadingContainer = loadingContainer;\n\n        // Watch for the vdm-diff__container to have 'loaded' class\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach(() => {\n                const diffContainer = document.getElementById(Selectors.DIFF.CONTAINER.name());\n                if (diffContainer && diffContainer.classList.contains('loaded')) {\n                    // If the container is loaded, make the theme switcher visible\n                    if (themeSwitcher) {\n                        themeSwitcher.style.cssText = 'display: flex !important; position: relative;';\n                    }\n                    // Disconnect the observer once we've made the change\n                    observer.disconnect();\n                }\n            });\n        });\n\n        // Start observing the container's parent element for child changes\n        const containerParent = this.container || document.body;\n        observer.observe(containerParent, {\n            subtree: true,\n            childList: true,\n            attributes: true,\n            attributeFilter: ['class']\n        });\n    }\n\n    /**\n     * Generate theme selector UI\n     * @returns {Object|null} The theme selector container and select element, or null if creation failed\n     */\n    generateThemeSelector() {\n        Debug.log('BrowserUIManager: Generating theme selector', null, 3);\n\n        // Get the ID without the # prefix for createElement\n        const themeSelectorId = Selectors.THEME.SELECTOR.name();\n        const themeSwitcherId = Selectors.THEME.SWITCHER.name();\n\n        // Check if theme selector already exists and if it's still valid to reuse\n        let existingSelector = document.getElementById(themeSelectorId);\n        let selectorContainer = null;\n\n        if (existingSelector) {\n            selectorContainer = existingSelector.parentNode;\n            // Verify that the theme selector is in a proper context (not orphaned)\n            const themeSwitcher = document.getElementById(themeSwitcherId);\n\n            if (themeSwitcher && themeSwitcher.contains(selectorContainer)) {\n                Debug.log('BrowserUIManager: Reusing existing theme selector', themeSelectorId, 2);\n                // Store reference to existing elements\n                this.elements.themeSelector = existingSelector;\n                this.elements.themeSelectorContainer = selectorContainer;\n                return { container: selectorContainer, selectElement: existingSelector };\n            } else {\n                // Theme selector exists but context is invalid, remove it and create new one\n                Debug.log('BrowserUIManager: Removing orphaned theme selector', themeSelectorId, 2);\n                if (selectorContainer && selectorContainer.parentNode) {\n                    selectorContainer.parentNode.removeChild(selectorContainer);\n                }\n                existingSelector = null;\n                selectorContainer = null;\n            }\n        }\n\n        // Get theme switcher container - theme selector must be inside it\n        const themeSwitcherContainer = document.getElementById(themeSwitcherId);\n        if (!themeSwitcherContainer) {\n            Debug.warn('BrowserUIManager: No theme switcher container found for theme selector', null, 2);\n            return null;\n        }\n\n        // Create new theme selector container and element\n        Debug.log('BrowserUIManager: Creating new theme selector', themeSelectorId, 2);\n\n        // Create the container using utility classes\n        selectorContainer = document.createElement('div');\n        selectorContainer.className = `${Selectors.THEME_SELECTOR.WRAPPER.name()} ${Selectors.UTILITY.MARGIN_END_3.name()}`;\n\n        // Create select element\n        const selectElement = document.createElement('select');\n        selectElement.id = themeSelectorId;\n        selectElement.className = `${Selectors.UTILITY.FORM_SELECT.name()} ${Selectors.UTILITY.FORM_SELECT.name()}`;\n\n        // Append select to container\n        selectorContainer.appendChild(selectElement);\n\n        // Insert the selector container at the beginning of the theme switcher\n        themeSwitcherContainer.insertBefore(selectorContainer, themeSwitcherContainer.firstChild);\n\n        // Store references\n        this.elements.themeSelector = selectElement;\n        this.elements.themeSelectorContainer = selectorContainer;\n\n        Debug.log('BrowserUIManager: Theme selector created and added to DOM', null, 2);\n        return { container: selectorContainer, selectElement: selectElement };\n    }\n\n    /**\n     * Generate diff container UI\n     */\n    generateDiffContainer() {\n        Debug.log('BrowserUIManager: Generating diff container', null, 3);\n\n        // Get IDs without the # prefix for createElement\n        const diffContainerId = Selectors.DIFF.CONTAINER.name();\n        const viewerId = Selectors.DIFF.VIEWER.name();\n\n        // Create diff container\n        const diffContainer = document.createElement('div');\n        diffContainer.id = diffContainerId;\n\n        // Create viewer element\n        const viewerElement = document.createElement('div');\n        viewerElement.id = viewerId;\n        viewerElement.className = Selectors.UTILITY.MARGIN_TOP_2.name();\n        viewerElement.style.display = 'none';\n\n        // Set up a mutation observer to watch for display changes on the viewer element\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (mutation.type === 'attributes' &&\n                    mutation.attributeName === 'style' &&\n                    viewerElement.style.display !== 'none') {\n                    // If viewer becomes visible, show the theme switcher\n                    if (this.elements.themeSwitcher) {\n                        this.elements.themeSwitcher.style.display = 'flex';\n                    }\n                }\n            });\n        });\n\n        // Start observing the viewer element for style changes\n        observer.observe(viewerElement, { attributes: true });\n\n        // Append elements to diff container\n        diffContainer.appendChild(viewerElement);\n\n        // Append diff container to container\n        this.container.appendChild(diffContainer);\n\n        // Store reference and log creation\n        this.elements.diffContainer = diffContainer;\n\n        // Verify the element was created\n        const createdViewer = document.getElementById(viewerId);\n        Debug.log(`BrowserUIManager: Viewer element (${viewerId}) created successfully: ${!!createdViewer}`, null, 3);\n    }\n\n    /**\n     * Generate merge controls UI using translations from DiffViewer\n     */\n    generateMergeControls() {\n        Debug.log('BrowserUIManager: Generating merge controls structure only', null, 3);\n\n        // Get translations from options\n        const translations = this.getTranslations();\n\n        // Get IDs without the # prefix for createElement\n        const previewButtonId = Selectors.MERGE.BUTTON_PREVIEW.name();\n        const toggleButtonId = Selectors.MERGE.DESTINATION_TOGGLE.name();\n        const toggleIconId = Selectors.MERGE.TOGGLE_ICON.name();\n        const toggleTextId = Selectors.MERGE.TOGGLE_TEXT.name();\n        const dropdownId = Selectors.MERGE.DESTINATION_DROPDOWN.name();\n        const applyButtonId = Selectors.MERGE.BUTTON_APPLY.name();\n\n        // Create merge controls container\n        const mergeControls = document.createElement('div');\n        mergeControls.className = `${Selectors.MERGE.CONTROLS_ACTIONS.name()} ${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.ALIGN_ITEMS_CENTER.name()} ${Selectors.UTILITY.JUSTIFY_CONTENT_BETWEEN.name()} ${Selectors.UTILITY.MARGIN_Y_2.name()} ${Selectors.UTILITY.PADDING_2.name()}`;\n\n        // Create preview button section\n        const previewSection = document.createElement('div');\n\n        const previewButton = document.createElement('button');\n        previewButton.id = previewButtonId;\n        previewButton.className = `${Selectors.UTILITY.BUTTON.name()} ${Selectors.UTILITY.BUTTON_INFO.name()}`;\n        previewButton.type = 'button';\n        previewButton.innerHTML = `${DOMUtils.getIconHtml('eye', { classes: Selectors.UTILITY.MARGIN_END_2.name() })}${translations.preview || 'Preview'}`;\n\n        previewSection.appendChild(previewButton);\n\n        // Create merge controls section\n        const mergeSection = document.createElement('div');\n        mergeSection.className = `${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.ALIGN_ITEMS_CENTER.name()}`;\n\n        // Create a group for toggle button and dropdown - using input-group styling approach\n        const toggleGroup = document.createElement('div');\n        toggleGroup.className = `${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.ALIGN_ITEMS_STRETCH.name()} ${Selectors.UTILITY.MARGIN_END_3.name()}`;\n        // Add class for styling instead of inline style\n        toggleGroup.classList.add('vdm-input-group');\n\n        // Create destination toggle button\n        const toggleButton = document.createElement('button');\n        toggleButton.id = toggleButtonId;\n        toggleButton.className = `${Selectors.UTILITY.BUTTON.name()} ${Selectors.UTILITY.BUTTON_FLAT.name()} vdm-input-group__prepend`;\n        toggleButton.type = 'button'; // Explicitly set type to button\n\n        const toggleIcon = document.createElement('span');\n        toggleIcon.id = toggleIconId;\n        toggleIcon.innerHTML = DOMUtils.getIconHtml('plus-circle', { classes: Selectors.UTILITY.MARGIN_END_2.name() });\n\n        const toggleText = document.createElement('span');\n        toggleText.id = toggleTextId;\n        toggleText.setAttribute('title', translations.saveToOriginalTooltip || 'Replace the current file with merged content');\n        toggleText.textContent = translations.saveToOriginal || 'Save to original';\n\n        toggleButton.appendChild(toggleIcon);\n        toggleButton.appendChild(toggleText);\n\n        // Create empty destination dropdown - IMPORTANT CHANGE: No options added\n        const dropdown = document.createElement('select');\n        dropdown.id = dropdownId;\n        dropdown.className = `${Selectors.UTILITY.FORM_SELECT.name()} vdm-input-group__append vdm-select-auto-width`;\n        // No options are added here - This will be handled by MergeUIController\n\n        // Add toggle button and dropdown to the toggle group with no spacing between them\n        toggleGroup.appendChild(toggleButton);\n        toggleGroup.appendChild(dropdown);\n\n        // Create apply merge button\n        const applyButton = document.createElement('button');\n        applyButton.id = applyButtonId;\n        applyButton.className = `${Selectors.UTILITY.BUTTON.name()} ${Selectors.UTILITY.BUTTON_PRIMARY.name()} vdm-nowrap`;\n        applyButton.type = 'button';\n        applyButton.innerHTML = (translations.applyMerge || 'Apply Merge') + ` ${DOMUtils.getIconHtml('file-circle-plus', { classes: Selectors.UTILITY.MARGIN_START_2.name() })}`;\n        applyButton.style.whiteSpace = 'nowrap';\n        applyButton.style.display = 'inline-flex';\n        applyButton.style.alignItems = 'center';\n\n        // Append toggle group and apply button to merge section\n        mergeSection.appendChild(toggleGroup);\n        mergeSection.appendChild(applyButton);\n\n        // Append sections to merge controls\n        mergeControls.appendChild(previewSection);\n        mergeControls.appendChild(mergeSection);\n\n        // Append merge controls to container\n        this.container.appendChild(mergeControls);\n\n        // Store reference\n        this.elements.mergeControls = mergeControls;\n\n        Debug.log('BrowserUIManager: Created empty merge controls structure (options will be populated by MergeUIController)', null, 2);\n    }\n\n    /**\n     * Show theme loading indicator using the LoaderManager\n     */\n    showThemeLoading() {\n        const loadingContainer = this.elements.themeLoadingContainer;\n        const themeSwitcher = this.elements.themeSwitcher;\n\n        if (loadingContainer && themeSwitcher) {\n            // Get the translated message\n            const message = TranslationManager.getInstance().get('loadingTheme', 'Loading theme...');\n\n            // Use proper CSS classes for styling\n            loadingContainer.innerHTML = `\n                <div class=\"vdm-theme__loading-spinner\"></div>\n                <span>${message}</span>\n            `;\n\n            // Add styling for the translucid background and rounded corners\n            loadingContainer.className = 'vdm-theme__loading-indicator';\n\n            // Get the position of the theme switcher\n            const rect = themeSwitcher.getBoundingClientRect();\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n            // Position the loader just above the theme switcher\n            loadingContainer.style.top = (rect.top + scrollTop - 40) + 'px';\n\n            // Make the loader visible\n            loadingContainer.style.display = 'flex';\n        }\n    }\n\n    /**\n     * Hide theme loading indicator\n     */\n    hideThemeLoading() {\n        const loadingContainer = this.elements.themeLoadingContainer;\n        if (loadingContainer) {\n            loadingContainer.style.display = 'none';\n        }\n    }\n\n    /**\n     * Clean up event handlers and resources\n     */\n    destroy() {\n        Debug.log('BrowserUIManager: Destroying UI components', null, 2);\n\n        // Hide any active theme loader\n        this.hideThemeLoading();\n\n        // Remove generated elements (except theme switcher which should be preserved across instances)\n        // Note: Theme switcher is preserved by FileBrowserManager.clearUI() to maintain user experience\n        // if (this.elements.themeSwitcher && this.elements.themeSwitcher.parentNode) {\n        //     this.elements.themeSwitcher.parentNode.removeChild(this.elements.themeSwitcher);\n        // }\n\n        if (this.elements.diffContainer && this.elements.diffContainer.parentNode) {\n            this.elements.diffContainer.parentNode.removeChild(this.elements.diffContainer);\n        }\n\n        if (this.elements.mergeControls && this.elements.mergeControls.parentNode) {\n            this.elements.mergeControls.parentNode.removeChild(this.elements.mergeControls);\n        }\n\n        // Reset references but keep theme switcher and theme selector references if they still exist in DOM\n        const existingThemeSwitcher = document.getElementById(Selectors.THEME.SWITCHER.name());\n        const existingThemeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        const existingThemeSelectorContainer = existingThemeSelector ? existingThemeSelector.parentNode : null;\n\n        this.elements = {\n            themeSwitcher: existingThemeSwitcher || null,  // Keep reference if still in DOM\n            themeSelector: existingThemeSelector || null,  // Keep theme selector reference too\n            themeSelectorContainer: existingThemeSelectorContainer || null,  // Keep container reference\n            diffContainer: null,\n            mergeControls: null\n        };\n\n        // Clear DiffViewer reference\n        this.diffViewer = null;\n\n        Debug.log('BrowserUIManager: UI components destroyed', null, 2);\n    }\n\n    /**\n     * Hide theme UI elements when no diff is being displayed (identical files)\n     */\n    hideThemeElements() {\n        Debug.log('BrowserUIManager: Hiding theme elements for identical content', null, 2);\n\n        if (this.elements.themeSwitcher) {\n            // Use important to ensure hiding works\n            this.elements.themeSwitcher.style.cssText = 'display: none !important; position: relative;';\n            Debug.log('BrowserUIManager: Hidden theme switcher', this.elements.themeSwitcher.id, 2);\n        }\n\n        // Also hide any standalone theme selector\n        const themeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        if (themeSelector) {\n            themeSelector.style.display = 'none';\n            Debug.log('BrowserUIManager: Hidden standalone theme selector', themeSelector.id, 2);\n        }\n    }\n\n    /**\n     * Show theme UI elements when diff is being displayed\n     */\n    showThemeElements() {\n        Debug.log('BrowserUIManager: Showing theme elements for diff content', null, 2);\n\n        if (this.elements.themeSwitcher) {\n            // Use important to override the initial !important hiding\n            this.elements.themeSwitcher.style.cssText = 'display: flex !important; position: relative;';\n            Debug.log('BrowserUIManager: Shown theme switcher', this.elements.themeSwitcher.id, 2);\n        }\n\n        // Also show any standalone theme selector\n        const themeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        if (themeSelector) {\n            themeSelector.style.display = 'block';\n            Debug.log('BrowserUIManager: Shown standalone theme selector', themeSelector.id, 2);\n        }\n    }\n}\n","/**\n * Centralized selectors for DOM elements\n * Using this object allows for easier maintenance and refactoring\n * All selectors include their prefix (# for IDs, . for classes)\n */\n\n// Import Debug for warning messages\nimport { Debug } from '../utils/Debug';\n\n// Create a proxy handler to intercept property access\nconst selectorHandler = {\n  get(target, prop) {\n    // Handle the name() method\n    if (prop === 'name') {\n      return function() {\n        if (target.startsWith('#') || target.startsWith('.')) {\n          return target.substring(1);\n        } else {\n          Debug.warn(`Selector '${target}' doesn't start with '.' or '#' but name() was called on it`);\n          return target;\n        }\n      };\n    }\n\n    // Add toString method to allow direct usage in DOM methods\n    if (prop === 'toString' || prop === Symbol.toPrimitive) {\n      return function() {\n        return String(target);\n      };\n    }\n\n    // Return the original property\n    return target[prop];\n  }\n};\n\n// Function to process all selectors with the proxy\nconst processSelectors = (obj) => {\n  const result = {};\n\n  for (const key in obj) {\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      result[key] = processSelectors(obj[key]);\n    } else if (typeof obj[key] === 'string') {\n      // Apply the proxy to each selector string\n      result[key] = new Proxy(Object(String(obj[key])), selectorHandler);\n    } else {\n      result[key] = obj[key];\n    }\n  }\n\n  return result;\n};\n\n// Override utility selectors with values from window.diffConfig.ui if available\nconst getUtilitySelectors = () => {\n  // Default utility selectors\n  const defaultUtilitySelectors = {\n    BUTTON: '.vdm-btn',\n    BUTTON_PRIMARY: '.vdm-btn--primary',\n    BUTTON_SECONDARY: '.vdm-btn--secondary',\n    BUTTON_INFO: '.vdm-btn--info',\n    BUTTON_SUCCESS: '.vdm-btn--success',\n    BUTTON_WARNING: '.vdm-btn--warning',\n    BUTTON_DANGER: '.vdm-btn--danger',\n    BUTTON_FLAT: '.vdm-btn--flat',\n    BUTTON_SMALL: '.vdm-btn-sm',\n    BUTTON_EXTRA_SMALL: '.vdm-btn-xs',\n    BUTTON_LARGE: '.vdm-btn-lg',\n    ALERT: '.vdm-alert',\n    ALERT_PREFIX: '.vdm-alert--',\n    ALERT_INFO: '.vdm-alert--info',\n    ALERT_SUCCESS: '.vdm-alert--success',\n    ALERT_WARNING: '.vdm-alert--warning',\n    ALERT_DANGER: '.vdm-alert--danger',\n    FORM_SELECT: '.vdm-select',\n    FORM_SELECT_SM: '.vdm-select-sm',\n    FLEX: '.vdm-d-flex',\n    FLEX_COLUMN: '.vdm-flex-column',\n    JUSTIFY_CONTENT_BETWEEN: '.vdm-justify-content-between',\n    JUSTIFY_CONTENT_CENTER: '.vdm-justify-content-center',\n    ALIGN_ITEMS_CENTER: '.vdm-align-items-center',\n    ALIGN_ITEMS_STRETCH: '.vdm-align-items-stretch',\n    PADDING_2: '.vdm-p-2',\n    PADDING_3: '.vdm-p-3',\n    MARGIN_2: '.vdm-m-2',\n    MARGIN_TOP_2: '.vdm-mt-2',\n    MARGIN_BOTTOM_2: '.vdm-mb-2',\n    MARGIN_START_1: '.vdm-ms-1',\n    MARGIN_START_2: '.vdm-ms-2',\n    MARGIN_END_2: '.vdm-me-2',\n    MARGIN_END_3: '.vdm-me-3',\n    MARGIN_X_1: '.vdm-mx-1',\n    MARGIN_Y_2: '.vdm-my-2',\n    MARGIN_END_1: '.vdm-me-1'\n  };\n\n  // If window.diffConfig exists and has UI settings, override with those\n  if (window.diffConfig && window.diffConfig.ui) {\n    try {\n      // Map PHP ui settings to our selector format\n      if (window.diffConfig.ui.button) {\n        defaultUtilitySelectors.BUTTON = '.' + window.diffConfig.ui.button;\n      }\n      if (window.diffConfig.ui.buttonPrimary) {\n        defaultUtilitySelectors.BUTTON_PRIMARY = '.' + window.diffConfig.ui.buttonPrimary;\n      }\n      if (window.diffConfig.ui.buttonSecondary) {\n        defaultUtilitySelectors.BUTTON_SECONDARY = '.' + window.diffConfig.ui.buttonSecondary;\n      }\n      if (window.diffConfig.ui.buttonInfo) {\n        defaultUtilitySelectors.BUTTON_INFO = '.' + window.diffConfig.ui.buttonInfo;\n      }\n      if (window.diffConfig.ui.buttonSuccess) {\n        defaultUtilitySelectors.BUTTON_SUCCESS = '.' + window.diffConfig.ui.buttonSuccess;\n      }\n      if (window.diffConfig.ui.buttonWarning) {\n        defaultUtilitySelectors.BUTTON_WARNING = '.' + window.diffConfig.ui.buttonWarning;\n      }\n      if (window.diffConfig.ui.buttonDanger) {\n        defaultUtilitySelectors.BUTTON_DANGER = '.' + window.diffConfig.ui.buttonDanger;\n      }\n      if (window.diffConfig.ui.buttonFlat) {\n        defaultUtilitySelectors.BUTTON_FLAT = '.' + window.diffConfig.ui.buttonFlat;\n      }\n      if (window.diffConfig.ui.alert) {\n        defaultUtilitySelectors.ALERT = '.' + window.diffConfig.ui.alert;\n      }\n      if (window.diffConfig.ui.alertInfo) {\n        defaultUtilitySelectors.ALERT_INFO = '.' + window.diffConfig.ui.alertInfo;\n      }\n      if (window.diffConfig.ui.alertSuccess) {\n        defaultUtilitySelectors.ALERT_SUCCESS = '.' + window.diffConfig.ui.alertSuccess;\n      }\n      if (window.diffConfig.ui.alertWarning) {\n        defaultUtilitySelectors.ALERT_WARNING = '.' + window.diffConfig.ui.alertWarning;\n      }\n      if (window.diffConfig.ui.alertDanger) {\n        defaultUtilitySelectors.ALERT_DANGER = '.' + window.diffConfig.ui.alertDanger;\n      }\n\n      Debug.log('Overriding UI selectors with config values', window.diffConfig.ui, 2);\n    } catch (e) {\n      Debug.error('Error applying UI selector overrides from config', e, 1);\n    }\n  }\n\n  return defaultUtilitySelectors;\n};\n\nconst baseSelectors = {\n    // Code display\n    CODE: {\n        LINE_CONTENT: '.vdm-code__line-content',\n        LINE_EMPTY: '.vdm-code__line--empty',\n        LINE_NUMBER: '.vdm-code__line-number',\n        TABLE: '.vdm-code__table'\n    },\n\n    // Container elements\n    CONTAINER: {\n        ROOT: '#vdm-container',\n        WRAPPER: '#vdm-container__wrapper'\n    },\n\n    // Copy functionality\n    COPY: {\n        BUTTON: '.vdm-code__copy-btn',\n        COPIED: '.vdm-code__copy--copied',\n        ICON: '.vdm-code__copy-icon',\n        MODAL: {\n            ACTIONS: '.vdm-modal__copy-actions',\n            BUTTON: '.vdm-modal__copy-btn',\n            DIALOG: '.vdm-modal__copy-dialog',\n            INSTRUCTIONS: '.vdm-modal__copy-instructions',\n            TEXTAREA: '.vdm-modal__copy-textarea-container',\n            TEXTAREA_ELEM: '.vdm-modal__copy-textarea'\n        },\n        PROCESSING: '.vdm-code__copy--processing',\n        TEXT: '.vdm-code__copy-text'\n    },\n\n    // Diff viewer elements\n    DIFF: {\n        CHECK_ALL_BTN: '.vdm-check-all-btn',\n        CHUNK: '.vdm-diff__chunk',\n        CHUNK_SELECTED: '.vdm-diff__chunk--selected',\n        CHUNK_UNSELECTED: '.vdm-diff__chunk--unselected',\n        CONTAINER: '#vdm-diff__container',\n        CONTENT_WRAPPER: '#vdm-diff__content-wrapper',\n        LINE_ADD: '.vdm-diff__line--add',\n        LINE_CONTENT: '.vdm-code__line-content',\n        LINE_CONTENT_EMPTY: '.vdm-code__line-content--empty',\n        LINE_DELETE: '.vdm-diff__line--delete',\n        LINE_PLACEHOLDER: '.vdm-diff__line--placeholder',\n        LINE_REPLACE_LEFT: '.vdm-diff__line--replace-left',\n        LINE_REPLACE_RIGHT: '.vdm-diff__line--replace-right',\n        // LOADING selector removed - use Selectors.LOADER.MAIN instead\n        PANE: '.vdm-diff__pane',\n        PANE_CONTENT: '.vdm-diff__pane-content',\n        PANE_HEADER: '.vdm-pane-header',\n        PANE_LEFT: '#vdm-diff__pane--left',\n        PANE_RIGHT: '#vdm-diff__pane--right',\n        PANES_CONTAINER: '.vdm-diff__panes-container',\n        PLACEHOLDER: '.vdm-diff__placeholder',\n        TABLE_WRAPPER: '.vdm-diff__table-wrapper',\n        VIEWER: '#vdm-diff__viewer'\n    },\n\n    // Icon markers\n    ICONS: {\n        COLUMN: '.vdm-icon__column',\n        MARKER: '.vdm-icon__marker',\n        MARKER_PLACEHOLDER: '.vdm-icon__marker--placeholder',\n        SELECT: '.vdm-icon__select',\n        SELECT_LEFT: '.vdm-icon__select--left',\n        SELECT_RIGHT: '.vdm-icon__select--right'\n    },\n\n    // Loader elements\n    LOADER: {\n        ACTIVE: '.vdm-loader--active',\n        CONTAINER: '.vdm-loader__container',\n        FULLSCREEN: '.vdm-loader--fullscreen',\n        INDICATOR: '#vdm-loader__indicator',\n        INLINE: '.vdm-loader--inline',\n        MAIN: '#vdm-diff__loading', // Main application loader (previously DIFF.LOADING)\n        SPINNER: '.vdm-loader__spinner',\n        TEXT: '.vdm-loader__text',\n        WRAPPER: '.vdm-loader__wrapper'\n    },\n\n    // Merge controls\n    MERGE: {\n        BUTTON_APPLY: '#vdm-merge__button--apply',\n        BUTTON_PREVIEW: '#vdm-merge__button--preview',\n        CONFLICT_MODAL: '#vdm-merge__conflict-modal',\n        CONTROLS_ACTIONS: '.vdm-merge-controls__actions',\n        DESTINATION_DROPDOWN: '#vdm-merge__destination-dropdown',\n        DESTINATION_TOGGLE: '#vdm-merge__destination-toggle',\n        GET_MERGED_RESULT_BTN: '#vdm-merge__get-merged-result-btn',\n        MODAL: '#vdm-merge__modal',\n        PREVIEW_CONTENT: '#vdm-merge__preview-content',\n        PREVIEW_MODAL: '#vdm-merge__preview-modal',\n        TOGGLE_ICON: '#vdm-merge-controls__toggle-icon',\n        TOGGLE_TEXT: '#vdm-merge-controls__toggle-text'\n    },\n\n    // Modal dialogs\n    MODAL: {\n        BACKDROP: '#vdm-modal-backdrop',\n        CLOSE: '.vdm-modal__close',\n        CLOSE_BTN: '.vdm-modal__close', // Changed from ID to class\n        CODE_COPY: '#vdm-modal--code-copy',\n        CONFIRM: '#vdm-modal--confirm',\n        CONFIRMATION_CONTENT: '#vdm-modal__confirmation-content',\n        CONTAINER: '.vdm-modal',\n        CONTENT: '.vdm-modal__content',\n        CONTINUE_BTN: '#vdm-modal__continue-btn',\n        COPY_CONTENT: '#vdm-modal__copy-content',\n        FIXED_FOOTER: '.vdm-modal--fixed-footer',\n        FOOTER: '.vdm-modal__footer',\n        FULLSCREEN: '.vdm-modal--fullscreen',\n        HEADER: '.vdm-modal__header',\n        HEADER_FIXED: '.vdm-modal__header--fixed',\n        MERGE_BTN: '#vdm-modal__merge-btn',\n        MESSAGE: '#vdm-modal__message',\n        PREVIEW: '#vdm-modal--preview',\n        PREVIEW_CONTENT: '.vdm-modal__preview-content',\n        PREVIEW_CONTENT_ID: '#vdm-merge__preview-content',\n        PREVIEW_FILENAME: '#vdm-modal__preview-filename',\n        TITLE: '.vdm-modal__title'\n    },\n\n    // Navigation\n    NAVIGATION: {\n        CONTAINER: '.vdm-nav__controls',\n        COUNTER: '#vdm-nav__counter',\n        COUNTER_ELEMENT: '.vdm-navigator__counter',\n        HIGHLIGHT: '.vdm-highlight',\n        NAV_CHUNK: '.vdm-nav__chunk',\n        NEXT_BUTTON: '#vdm-nav__button--next',\n        PREV_BUTTON: '#vdm-nav__button--prev'\n    },\n\n    // Status indicators\n    STATUS: {\n        LOADED: '.vdm-status__loaded',\n        RESOLVED: '.vdm-status__resolved',\n        SCROLLED: '.vdm-status__scrolled-horizontally',\n        UNRESOLVED: '.vdm-status__unresolved'\n    },\n\n    // Theme and appearance\n    THEME: {\n        DARK: '.vdm-theme--dark',\n        LIGHT: '.vdm-theme--light',\n        LOADING_INDICATOR: '#vdm-theme__loading-indicator',\n        MODE_PREFIX: '.vdm-theme',\n        SELECTOR: '#vdm-theme__selector',\n        SWITCHER: '#vdm-theme-switcher',\n        TOGGLE: '#vdm-theme__toggle'\n    },\n\n    // Theme switcher components\n    THEME_SWITCHER: {\n        CONTROL: '.vdm-theme-switcher__control',\n        LABEL: '.vdm-theme-switcher__label',\n        SLIDER: '.vdm-theme-switcher__slider',\n        SLIDER_ROUND: '.vdm-theme-switcher__slider--round',\n        WRAPPER: '.vdm-theme-switcher__wrapper'\n    },\n\n    // Theme selector components\n    THEME_SELECTOR: {\n        WRAPPER: '.vdm-theme-selector__wrapper'\n    },\n\n    // Tooltips\n    TOOLTIP: {\n        ARROW: '.vdm-tooltip__arrow',\n        CONTAINER: '.vdm-tooltip',\n        CONTENT: '.vdm-tooltip__content'\n    },\n\n    // Utility classes - these can be overridden from PHP config\n    UTILITY: getUtilitySelectors()\n};\n\n// Process the selectors to add the name functionality\nconst Selectors = processSelectors(baseSelectors);\n\nexport default Selectors;\n","import Selectors from '../constants/Selectors';\n\nimport { BaseSingleton } from './BaseSingleton';\nimport { Debug } from './Debug';\nimport { TranslationManager } from './TranslationManager';\n\n/**\n * AlertManager - Centralized utility for managing alert messages\n *\n * This singleton class provides methods to display and hide alert messages\n * throughout the application in a consistent manner. It supports different types\n * of alerts including info, success, warning, and danger.\n */\n\n// Module-level singleton instance\nlet instance = null;\n\n/**\n * AlertManager class\n *\n * Provides methods to display and hide alert messages throughout the application\n */\nexport class AlertManager extends BaseSingleton {\n    /**\n     * Initialize the AlertManager\n     */\n    initialize() {\n        // If already initialized, just return\n        if (this.initialized) {\n            return;\n        }\n\n        this.containerId = 'vdm-alert-container';\n        this.activeAlert = null;\n        this.timeoutId = null;\n\n        // Ensure the alert container exists and store it in this.container\n        this.container = this._ensureContainer();\n\n        // Mark as initialized\n        this.initialized = true;\n\n        Debug.log('AlertManager: Initialized', null, 2);\n    }\n\n    /**\n     * Get the singleton instance\n     * @returns {AlertManager} Instance\n     */\n    static getInstance() {\n        if (!instance) {\n            instance = new AlertManager();\n            instance.initialize();\n        }\n        return instance;\n    }\n\n    /**\n     * Ensure the alert container exists in the DOM\n     * @private\n     */\n    _ensureContainer() {\n        let container = document.getElementById(this.containerId);\n\n        if (!container) {\n            container = document.createElement('div');\n            container.id = this.containerId;\n            container.className = 'vdm-alert-container';\n            container.style.position = 'fixed';\n            container.style.top = '20px';\n            container.style.left = '50%';\n            container.style.transform = 'translateX(-50%)';\n            container.style.zIndex = '9999';\n            container.style.width = 'auto';\n            container.style.maxWidth = '90%';\n\n            document.body.appendChild(container);\n            Debug.log('AlertManager: Created alert container', null, 2);\n        }\n\n        return container;\n    }\n\n    /**\n     * Create and show an alert\n     * @param {string} message - The alert message\n     * @param {string} type - The alert type: 'success', 'info', 'warning', 'error'\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} - The alert element\n     */\n    showAlert(message, type, options = {}) {\n        Debug.log('AlertManager.showAlert called with type', type, 2);\n        Debug.log('AlertManager.showAlert message', message, 3);\n\n        // Default options\n        const defaultOptions = {\n            timeout: 5000,      // Auto-dismiss after 5 seconds (0 = no auto-dismiss)\n            dismissable: true,  // Show close button\n            translate: true,    // Translate message if TranslationManager is available\n            className: '',      // Additional CSS classes\n            container: null,    // Container element (defaults to this.container)\n            targetElement: null, // Target element to place alert relative to\n            placement: 'before' // Placement relative to targetElement ('before' or 'after')\n        };\n\n        const mergedOptions = { ...defaultOptions, ...options };\n\n        // Only use the container if we're not placing relative to a target element\n        const useContainer = !mergedOptions.targetElement && (mergedOptions.container || this.container);\n\n        Debug.log('AlertManager placement options', {\n            hasTargetElement: !!mergedOptions.targetElement,\n            placement: mergedOptions.placement,\n            useContainer: !!useContainer\n        }, 3);\n\n        // Create alert element\n        const alertElement = document.createElement('div');\n\n        // Get the base alert class from Selectors if available\n        const baseAlertClass = Selectors.UTILITY.ALERT ?\n            Selectors.UTILITY.ALERT.toString().substring(1) : // Remove leading '.'\n            'vdm-alert';\n\n        // Start with base class\n        let alertClass = baseAlertClass;\n\n        // Type-specific class - use the proper format with double hyphens\n        if (type) {\n            // Use proper format from Selectors if available\n            const typeClass = type === 'info' && Selectors.UTILITY.ALERT_INFO ?\n                Selectors.UTILITY.ALERT_INFO.toString().substring(1) : // Remove leading '.'\n                `${baseAlertClass}--${type}`; // Use the proper double-hyphen format\n\n            alertClass += ` ${typeClass}`;\n        }\n\n        // Add any custom classes\n        if (mergedOptions.className) {\n            alertClass += ` ${mergedOptions.className}`;\n        }\n\n        alertElement.className = alertClass;\n        Debug.log('Alert classnames', alertElement.className, 3);\n        Debug.log('Alert selector values', {\n            selectorBase: Selectors.UTILITY.ALERT ? Selectors.UTILITY.ALERT.toString() : 'vdm-alert',\n            selectorType: type ? `${baseAlertClass}--${type}` : 'none'\n        }, 3);\n\n        // Translate message if needed\n        let finalMessage = message;\n        if (mergedOptions.translate && typeof TranslationManager !== 'undefined') {\n            const translationManager = TranslationManager.getInstance();\n            if (translationManager && typeof translationManager.get === 'function') {\n                finalMessage = translationManager.get(message, message);\n            }\n        }\n\n        // Set content\n        alertElement.innerHTML = finalMessage;\n\n        // Add close button if dismissable\n        if (mergedOptions.dismissable) {\n            const closeButton = document.createElement('button');\n            // Fix the close button class to match the CSS definition\n            closeButton.className = 'vdm-alert__close';\n            closeButton.innerHTML = '&times;';\n            closeButton.setAttribute('aria-label', 'Close');\n            closeButton.setAttribute('type', 'button');\n            alertElement.appendChild(closeButton);\n\n            // Add click event for close button\n            closeButton.addEventListener('click', () => this.hideAlert(alertElement));\n            Debug.log('Close button', closeButton ? 'found' : 'not found', 3);\n        }\n\n        // Add to container or place relative to target element\n        if (mergedOptions.targetElement) {\n            Debug.log('AlertManager: Placing alert relative to target element', {\n                target: mergedOptions.targetElement,\n                placement: mergedOptions.placement\n            }, 3);\n\n            if (mergedOptions.placement === 'before') {\n                // Insert before the target element\n                mergedOptions.targetElement.parentNode.insertBefore(alertElement, mergedOptions.targetElement);\n            } else if (mergedOptions.placement === 'after') {\n                // Insert after the target element\n                if (mergedOptions.targetElement.nextSibling) {\n                    mergedOptions.targetElement.parentNode.insertBefore(alertElement, mergedOptions.targetElement.nextSibling);\n                } else {\n                    mergedOptions.targetElement.parentNode.appendChild(alertElement);\n                }\n            }\n        } else if (useContainer) {\n            // Regular container append if no target element is specified\n            useContainer.appendChild(alertElement);\n            Debug.log('Alert appended to container', null, 3);\n        } else {\n            // Fallback to body if no container and no target element\n            document.body.appendChild(alertElement);\n            Debug.log('Alert appended to body', null, 3);\n        }\n\n        // Store reference to the active alert\n        this.activeAlert = alertElement;\n\n        // Set up auto-dismiss\n        if (mergedOptions.timeout > 0) {\n            this.timeoutId = setTimeout(() => {\n                this.hideAlert(alertElement);\n            }, mergedOptions.timeout);\n        }\n\n        Debug.log('Returning alert element', alertElement, 3);\n        return alertElement;\n    }\n\n    /**\n     * Hide the current alert if one exists\n     * @param {HTMLElement} alertElement - Optional specific alert element to hide\n     */\n    hideAlert(alertElement = null) {\n        // Clear any existing timeout\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = null;\n        }\n\n        // If a specific alert element is provided, remove it\n        if (alertElement?.parentNode) {\n            alertElement.parentNode.removeChild(alertElement);\n            Debug.log('AlertManager: Hiding specific alert', null, 3);\n\n            // If this was the active alert, clear the reference\n            if (this.activeAlert === alertElement) {\n                this.activeAlert = null;\n            }\n            return;\n        }\n\n        // Otherwise, remove the active alert if it exists\n        if (this.activeAlert?.parentNode) {\n            this.activeAlert.parentNode.removeChild(this.activeAlert);\n            this.activeAlert = null;\n            Debug.log('AlertManager: Hiding active alert', null, 3);\n        }\n    }\n\n    /**\n     * Show an info alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showInfo(message, options = {}) {\n        return this.showAlert(message, 'info', options);\n    }\n\n    /**\n     * Show a success alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showSuccess(message, options = {}) {\n        return this.showAlert(message, 'success', options);\n    }\n\n    /**\n     * Show a warning alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showWarning(message, options = {}) {\n        return this.showAlert(message, 'warning', options);\n    }\n\n    /**\n     * Show a danger/error alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showError(message, options = {}) {\n        return this.showAlert(message, 'danger', options);\n    }\n}\n\nexport default AlertManager;\n","/**\n * Base singleton implementation to standardize pattern across components\n */\nexport class BaseSingleton {\n    /**\n     * Get the singleton instance - must be implemented by subclasses\n     * @returns {BaseSingleton} The singleton instance\n     */\n    static getInstance() {\n        throw new Error('getInstance() must be implemented by subclass');\n    }\n\n    /**\n     * Check if this instance is already instantiated\n     * @protected\n     * @param {Object} instanceVar - The module-level instance variable\n     * @returns {boolean} True if this is the first initialization\n     */\n    _isFirstInstance(instanceVar) {\n        return !instanceVar;\n    }\n}\n","import Selectors from '../constants/Selectors';\n\nimport { Debug } from './Debug';\nimport { IconRegistry } from './IconRegistry';\nimport AlertManager from './AlertManager';\n\n// Cache for DOM queries\nconst elementCache = new Map();\n\n/**\n * Reusable DOM manipulation utilities\n */\nexport class DOMUtils {\n    /**\n     * Set up a button handler with proper cleanup\n     * @param {string} buttonId - Button element ID\n     * @param {Function} handlerFn - Event handler function\n     * @param {string} logName - Name for logging\n     * @returns {Object|null} Handler information or null if element not found\n     */\n    static setupButtonHandler(buttonId, handlerFn, logName = '') {\n        const button = document.getElementById(buttonId);\n        if (!button) {\n            Debug.warn(`DOMUtils: Button ${buttonId} not found`, null, 2);\n            return null;\n        }\n\n        const instanceId = Date.now();\n\n        // Clean up if needed\n        if (button._handlerId && button._handlerId !== instanceId) {\n            // Clone to remove all event listeners\n            const newBtn = button.cloneNode(true);\n            if (button.parentNode) {\n                button.parentNode.replaceChild(newBtn, button);\n            }\n            Debug.log(`DOMUtils: Cleaned up previous handler for ${logName || buttonId}`, null, 2);\n            handlerFn(newBtn);\n            newBtn._handlerId = instanceId;\n            return { element: newBtn, id: instanceId };\n        } else {\n            button._handlerId = instanceId;\n            handlerFn(button);\n            return { element: button, id: instanceId };\n        }\n    }\n\n    /**\n     * Get element by ID with error handling\n     * @param {string} id - Element ID\n     * @returns {Element|null} The found element or null\n     */\n    static getElement(id) {\n        if (!id) {\n            Debug.error('DOMUtils.getElement: Empty ID provided', null, 1);\n            return null;\n        }\n\n        // Check cache first\n        if (elementCache.has(id)) {\n            return elementCache.get(id);\n        }\n\n        // Try direct getElementById first\n        let element = document.getElementById(id);\n\n        // If not found and the id doesn't include a #, try with a selector\n        if (!element) {\n            try {\n                if (!id.includes('#') && !id.includes('.')) {\n                    // If just an ID without # prefix, try with # prefix\n                    element = document.querySelector('#' + id);\n                } else {\n                    // Try as selector\n                    element = document.querySelector(id);\n                }\n            } catch (e) {\n                Debug.error(`DOMUtils.getElement: Error with selector: ${e.message}`, null, 1);\n            }\n        }\n\n        if (!element) {\n            Debug.error(`DOMUtils.getElement: Element with ID '${id}' not found`, null, 1);\n        } else {\n            // Cache the found element\n            elementCache.set(id, element);\n        }\n\n        return element;\n    }\n\n    /**\n     * Update toggle button appearance\n     * @param {string} currentValue - Current toggle value\n     * @param {Object} elements - Object containing button, icon, and text elements\n     * @param {Object} options - Configuration options\n     */\n    static updateToggleButton(currentValue, elements, options) {\n        const { toggleBtn, toggleIcon, toggleText } = elements;\n        const {\n            firstOption, secondOption,\n            firstClass, secondClass,\n            firstText, secondText,\n            firstTooltip, secondTooltip\n        } = options;\n\n        if (!toggleBtn || !toggleIcon || !toggleText) {\n            Debug.warn('DOMUtils: Missing elements for toggle button update');\n            return;\n        }\n\n        Debug.log(`DOMUtils: Updating toggle button to ${currentValue}`, null, 2);\n\n        // Set the button class based on current value\n        if (currentValue === firstOption) {\n            toggleIcon.className = firstClass;\n            toggleText.textContent = firstText;\n            toggleBtn.title = firstTooltip || firstText;\n            toggleBtn.setAttribute('data-value', firstOption);\n        } else if (currentValue === secondOption) {\n            toggleIcon.className = secondClass;\n            toggleText.textContent = secondText;\n            toggleBtn.title = secondTooltip || secondText;\n            toggleBtn.setAttribute('data-value', secondOption);\n        } else {\n            Debug.warn(`DOMUtils: Invalid toggle value: ${currentValue}`);\n        }\n    }\n\n    /**\n     * Show a standardized message in a container\n     * @param {string} containerId - Container element ID\n     * @param {string} message - Message content\n     * @param {string} type - Message type: 'info', 'success', 'warning', 'danger'\n     * @param {Object} options - Additional options\n     * @returns {boolean} Success status\n     */\n    static showMessage(containerId, message, type = 'info', options = {}) {\n        const container = document.getElementById(containerId);\n        if (!container) {\n            Debug.warn(`DOMUtils: Container #${containerId} not found for message`, null, 2);\n            return false;\n        }\n\n        // Default options\n        const {\n            _iconName = null,     // Custom icon name (preserved for backwards compatibility)\n            className = 'mt-5',  // Additional CSS classes\n            elementId = '',      // ID for created element\n            keepExisting = false // Whether to append or replace content\n        } = options;\n\n        // Use AlertManager to create the alert\n        const alertManager = AlertManager.getInstance();\n\n        // Clear existing content unless we're keeping it\n        if (!keepExisting) {\n            container.innerHTML = '';\n        }\n\n        // Check if HAS_ICON exists in UTILITY and provide a fallback if it doesn't\n        let iconClass = '';\n        try {\n            if (Selectors.UTILITY && Selectors.UTILITY.HAS_ICON) {\n                iconClass = Selectors.UTILITY.HAS_ICON.name();\n            } else {\n                // Fallback if HAS_ICON is not defined\n                iconClass = 'vdm-has-icon';\n                Debug.log('DOMUtils: Using fallback icon class because Selectors.UTILITY.HAS_ICON is undefined', null, 2);\n            }\n        } catch (e) {\n            // Fallback if any error occurs\n            iconClass = 'vdm-has-icon';\n            Debug.warn('DOMUtils: Error getting icon class, using fallback', e, 2);\n        }\n\n        // Create the alert with AlertManager\n        const alertElement = alertManager.showAlert(message, type, {\n            timeout: 0, // Don't auto-dismiss\n            translate: false, // Don't translate the message\n            className: `${iconClass} ${className}`\n        });\n\n        // Set ID if specified\n        if (elementId) {\n            alertElement.id = elementId;\n        }\n\n        // Append to container\n        container.appendChild(alertElement);\n\n        return true;\n    }\n\n    /**\n     * Toggle element visibility\n     * @param {string} elementId - Element ID\n     * @param {boolean} visible - Whether element should be visible\n     * @param {string} displayMode - Display mode when visible\n     * @returns {boolean} Success status\n     */\n    static toggleVisibility(elementId, visible, displayMode = 'block') {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for visibility toggle`, null, 2);\n            return false;\n        }\n\n        element.style.display = visible ? displayMode : 'none';\n        return true;\n    }\n\n    /**\n     * Add or remove a class from an element\n     * @param {string} elementId - Element ID\n     * @param {string} className - Class name to toggle\n     * @param {boolean} add - Whether to add or remove the class\n     * @returns {boolean} Success status\n     */\n    static toggleClass(elementId, className, add = true) {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for class toggle`, null, 2);\n            return false;\n        }\n\n        if (add) {\n            element.classList.add(className);\n        } else {\n            element.classList.remove(className);\n        }\n\n        return true;\n    }\n\n    /**\n     * Create an element with specified attributes\n     * @param {string} tagName - Element tag name\n     * @param {string|null} id - Element ID\n     * @param {string|Array} classes - CSS classes\n     * @param {Object} attributes - Additional attributes\n     * @returns {HTMLElement} Created element\n     */\n    static createElement(tagName = 'div', id = null, classes = [], attributes = {}) {\n        const element = document.createElement(tagName);\n\n        // Set ID if provided\n        if (id) {\n            element.id = id;\n        }\n\n        // Add classes - handle both arrays and space-separated strings\n        if (classes) {\n            let classList;\n            if (Array.isArray(classes)) {\n                classList = classes;\n            } else if (typeof classes === 'string') {\n                classList = classes.split(/\\s+/).filter(Boolean);\n            } else {\n                classList = [];\n            }\n\n            if (classList.length > 0) {\n                element.classList.add(...classList);\n            }\n        }\n\n        // Set attributes\n        Object.entries(attributes).forEach(([key, value]) => {\n            if (value !== undefined && value !== null) {\n                element.setAttribute(key, value);\n            }\n        });\n\n        return element;\n    }\n\n    /**\n     * Create and append an element to a container\n     * @param {string} tagName - Element tag name\n     * @param {Element|string} container - Container element or ID\n     * @param {Object} options - Element options\n     * @returns {HTMLElement|null} Created element or null if container not found\n     */\n    static createAndAppendElement(tagName, container, options = {}) {\n        // Get container element if ID was provided\n        const containerElement = typeof container === 'string'\n            ? document.getElementById(container)\n            : container;\n\n        if (!containerElement) {\n            Debug.warn(`DOMUtils: Container not found for createAndAppendElement`, null, 2);\n            return null;\n        }\n\n        // Extract options\n        const { id = null, classes = [], attributes = {}, content = null } = options;\n\n        // Create element\n        const element = DOMUtils.createElement(tagName, id, classes, attributes);\n\n        // Set content if provided\n        if (content !== null) {\n            if (typeof content === 'string') {\n                element.innerHTML = content;\n            } else if (content instanceof Node) {\n                element.appendChild(content);\n            }\n        }\n\n        // Append to container\n        containerElement.appendChild(element);\n\n        return element;\n    }\n\n    /**\n     * Set element content safely\n     * @param {string} elementId - Element ID\n     * @param {string} content - HTML content\n     * @returns {boolean} Success status\n     */\n    static setContent(elementId, content) {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for content update`, null, 2);\n            return false;\n        }\n\n        element.innerHTML = content;\n        return true;\n    }\n\n    /**\n     * Get elements by selector\n     * @param {string} selector - CSS selector\n     * @param {Element|Document|string} context - Search context or ID\n     * @returns {NodeList|null} Selected elements or null if context not found\n     */\n    static getElements(selector, context = document) {\n        // Get context element if ID was provided\n        const contextElement = typeof context === 'string'\n            ? document.getElementById(context)\n            : context;\n\n        if (!contextElement) {\n            Debug.warn(`DOMUtils: Context not found for selector: ${selector}`, null, 2);\n            return null;\n        }\n\n        return contextElement.querySelectorAll(selector);\n    }\n\n    /**\n     * Append HTML content to an element\n     * @param {string} elementId - Element ID\n     * @param {string} content - HTML content to append\n     * @returns {boolean} Success status\n     */\n    static appendContent(elementId, content) {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for content append`, null, 2);\n            return false;\n        }\n\n        element.insertAdjacentHTML('beforeend', content);\n        return true;\n    }\n\n    /**\n     * Remove an element safely\n     * @param {string|Element} elementOrId - Element or element ID to remove\n     * @returns {boolean} Success status\n     */\n    static removeElement(elementOrId) {\n        const element = typeof elementOrId === 'string'\n            ? document.getElementById(elementOrId)\n            : element;\n\n        if (!element?.parentNode) {\n            Debug.warn(`DOMUtils: Element not found or has no parent for removal`, null, 2);\n            return false;\n        }\n\n        element.parentNode.removeChild(element);\n        return true;\n    }\n\n    /**\n     * Setup event handlers on elements matching a selector\n     * @param {string} selector - CSS selector to match elements\n     * @param {string} eventType - Event type (e.g., 'click', 'change')\n     * @param {function} handler - Event handler function\n     * @param {Object} options - Additional options\n     * @returns {number} Number of elements that received the handler\n     */\n    static setupEventHandlers(selector, eventType, handler, options = {}) {\n        const {\n            context = document,\n            removeExisting = false,\n            styles = null\n        } = options;\n\n        const elements = DOMUtils.getElements(selector, context);\n        if (!elements) return 0;\n\n        // Remove existing handlers if requested\n        if (removeExisting) {\n            elements.forEach(element => {\n                element.removeEventListener(eventType, handler);\n            });\n        }\n\n        // Add new handlers and apply styles\n        elements.forEach(element => {\n            element.addEventListener(eventType, handler);\n\n            // Apply styles if provided\n            if (styles) {\n                Object.entries(styles).forEach(([property, value]) => {\n                    element.style[property] = value;\n                });\n            }\n        });\n\n        return elements.length;\n    }\n\n    /**\n     * Create an icon element\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Icon options\n     * @returns {Element} SVG icon element\n     */\n    static createIcon(iconName, options = {}) {\n        return IconRegistry.createIcon(iconName, options);\n    }\n\n    /**\n     * Get icon HTML string\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Icon options\n     * @returns {string} SVG icon HTML\n     */\n    static getIconHtml(iconName, options = {}) {\n        return IconRegistry.getIcon(iconName, options);\n    }\n}\n","/**\n * Debug utility for the diff viewer\n * Provides centralized logging with configuration options\n */\n\n/* eslint-disable no-console */\n// Disable console warnings for this file only since this is the official logging utility\n\nclass DebugUtility {\n    constructor() {\n        this.enabled = false;\n        this.logHistory = [];\n        this.maxLogHistory = 100;\n        this.prefix = '[DiffViewer]';\n        this.logLevel = 1; // Default to only high-level logs\n    }\n\n    /**\n     * Initialize debug settings\n     * @param {boolean} enabled - Enable debug output\n     * @param {string} prefix - Prefix for all log messages\n     * @param {number} logLevel - Log level (1=high-level, 2=detailed, 3=verbose)\n     */\n    initialize (enabled = false, prefix = '[DiffViewer]', logLevel = 1) {\n        // Prevent reinitialization with weaker settings if already properly configured\n        if (this.enabled && this.logLevel > 1 && !enabled) {\n            console.warn(`${this.prefix} Preventing debug reinitialization with weaker settings`, {\n                current: { enabled: this.enabled, level: this.logLevel },\n                attempted: { enabled, level: logLevel }\n            });\n            return;\n        }\n\n        this.enabled = enabled;\n        this.prefix = prefix;\n        this.logLevel = logLevel; // Don't tie logLevel to enabled state\n\n        console.log('Debug initialized', { enabled: this.enabled, level: this.logLevel });\n        this.log('Debug initialized', { enabled: this.enabled, level: this.logLevel });\n    }\n\n    /**\n     * Check if a message should be logged at the given level\n     * @param {number} level - The log level of the message\n     * @returns {boolean} - Whether the message should be logged\n     */\n    shouldLog(level = 1) {\n        // Use instance state as primary source of truth\n        // Only fall back to window.diffConfig if not explicitly initialized\n        const debugEnabled = this.enabled || (this.enabled === false && window.diffConfig?.debug);\n        return debugEnabled && level <= this.logLevel;\n    }\n\n    /**\n     * Log an informational message\n     * @param {string} message - The primary message\n     * @param {any} data - Additional data to log\n     * @param {number} level - Log level (1=high-level, 2=detailed, 3=verbose)\n     */\n    log(message, data = null, level = 1) {\n        if (!this.shouldLog(level)) return;\n\n        if (data !== null) {\n            console.log(`${this.prefix} ${message}`, data);\n            this._addToHistory('log', [message, data], level);\n        } else {\n            console.log(`${this.prefix} ${message}`);\n            this._addToHistory('log', [message], level);\n        }\n    }\n\n    /**\n     * Log a warning message (always shown regardless of debug setting)\n     * @param {string} message - The primary message\n     * @param {any} data - Additional data to log\n     * @param {number} level - Log level (always shown, but stored with level)\n     */\n    warn (message, data = null, level = 1) {\n        // Warnings are always shown regardless of debug setting\n        if (data !== null) {\n            console.warn(`${this.prefix} ${message}`, data);\n            this._addToHistory('warn', [message, data], level);\n        } else {\n            console.warn(`${this.prefix} ${message}`);\n            this._addToHistory('warn', [message], level);\n        }\n    }\n\n    /**\n     * Log an error message (always shown regardless of debug setting)\n     * @param {string} message - The primary message\n     * @param {any} data - Additional data to log\n     * @param {number} level - Log level (always shown, but stored with level)\n     */\n    error(message, data = null, level = 1) {\n        // Errors are always shown regardless of debug setting\n        if (data !== null) {\n            console.error(`${this.prefix} ${message}`, data);\n            this._addToHistory('error', [message, data], level);\n        } else {\n            console.error(`${this.prefix} ${message}`);\n            this._addToHistory('error', [message], level);\n        }\n    }\n\n    /**\n     * Get debug log history\n     * @param {number} maxLevel - Maximum level to include (1=high-level only, 3=all)\n     * @returns {Array} Log history filtered by level\n     */\n    getLogHistory(maxLevel = this.logLevel) {\n        if (maxLevel >= this.logLevel) {\n            return [...this.logHistory];\n        }\n        return this.logHistory.filter(entry => entry.level <= maxLevel);\n    }\n\n    /**\n     * Clear debug log history\n     */\n    clearLogHistory() {\n        this.logHistory = [];\n        this.log('Log history cleared');\n    }\n\n    /**\n     * Add entry to log history\n     * @private\n     * @param {string} type - Log type (log, warn, error)\n     * @param {Array} args - Message arguments\n     * @param {number} level - Log level\n     */\n    _addToHistory(type, args, level) {\n        this.logHistory.push({\n            timestamp: new Date(),\n            type,\n            message: args,\n            level\n        });\n\n        // Prevent excessive memory usage\n        if (this.logHistory.length > this.maxLogHistory) {\n            this.logHistory.shift();\n        }\n    }\n}\n\n// Create singleton instance\nconst Debug = new DebugUtility();\n\n// Export the singleton\nexport { Debug };\n","/**\n * DiffConfigManager.js\n *\n * Singleton utility to centralize management of the diffConfig configuration object.\n * This provides a single source of truth for the diffConfig settings used throughout the application.\n */\n\nimport { Debug } from './Debug';\n\n/**\n * Manages the diffConfig configuration settings as a singleton\n */\nexport class DiffConfigManager {\n    /**\n     * Private instance - follows singleton pattern\n     * @type {DiffConfigManager}\n     * @private\n     */\n    static #instance = null;\n\n    /**\n     * Private constructor - use getInstance() instead\n     * @private\n     */\n    constructor() {\n        // Track if server config has been loaded to avoid multiple loads\n        this._serverConfigLoaded = false;\n\n        // Initialize window.diffConfig if it doesn't exist\n        if (typeof window !== 'undefined' && !window.diffConfig) {\n            Debug.log('DiffConfigManager: Initializing empty window.diffConfig', null, 2);\n            window.diffConfig = {\n                debug: false,\n                logLevel: 1,\n                old: {},\n                new: {}\n            };\n        } else if (typeof window !== 'undefined' && window.diffConfig) {\n            Debug.log('DiffConfigManager: Using existing window.diffConfig', window.diffConfig, 2);\n        }\n    }\n\n    /**\n     * Load configuration from server if needed\n     * @returns {Promise<void>}\n     */\n    async ensureServerConfigLoaded() {\n        // Only load server config once to avoid overriding runtime values\n        if (this._serverConfigLoaded) {\n            Debug.log('DiffConfigManager: Server config already loaded, skipping', null, 2);\n            return;\n        }\n\n        // Check if we already have a server-provided apiBaseUrl\n        if (typeof window !== 'undefined' && window.diffConfig?.apiBaseUrl) {\n            Debug.log('DiffConfigManager: Server config already loaded with apiBaseUrl', window.diffConfig.apiBaseUrl, 2);\n            this._serverConfigLoaded = true;\n            return;\n        }\n\n        try {\n            Debug.log('DiffConfigManager: Loading server configuration...', null, 2);\n\n            // Try to determine the API base URL from script location\n            let apiBaseUrl = '';\n            const scripts = document.querySelectorAll('script[src*=\"visual-diff-merge\"]');\n            if (scripts.length > 0) {\n                const scriptSrc = scripts[0].src;\n                const match = scriptSrc.match(/^(.+\\/visual-diff-merge[^\\/]*)\\//);\n                if (match) {\n                    apiBaseUrl = match[1] + '/api/';\n                }\n            }\n\n            if (!apiBaseUrl) {\n                Debug.log('DiffConfigManager: Could not determine API base URL from script location', null, 2);\n                return;\n            }\n\n            // Fetch configuration from server\n            const configResponse = await fetch(apiBaseUrl + 'endpoint-config.php');\n            if (configResponse.ok) {\n                const serverConfig = await configResponse.json();\n\n                // The endpoint returns the config directly, not nested in a 'javascript' property\n                if (serverConfig && typeof serverConfig === 'object') {\n                    Debug.log('DiffConfigManager: Loaded server configuration', serverConfig, 2);\n                    if (typeof window !== 'undefined') {\n                        // Preserve existing serverSaveEnabled if it's already set\n                        const existingServerSaveEnabled = window.diffConfig?.serverSaveEnabled;\n                        window.diffConfig = { ...(window.diffConfig || {}), ...serverConfig };\n\n                        // Don't override serverSaveEnabled if it was already explicitly set\n                        if (existingServerSaveEnabled !== undefined && !serverConfig.hasOwnProperty('serverSaveEnabled')) {\n                            window.diffConfig.serverSaveEnabled = existingServerSaveEnabled;\n                            Debug.log('DiffConfigManager: Preserved existing serverSaveEnabled', existingServerSaveEnabled, 2);\n                        }\n\n                        // Mark as loaded to prevent future loads\n                        this._serverConfigLoaded = true;\n                    }\n                }\n            } else {\n                Debug.warn('DiffConfigManager: Failed to load server configuration', configResponse.status, 1);\n            }\n        } catch (error) {\n            Debug.warn('DiffConfigManager: Error loading server configuration', error, 1);\n        } finally {\n            // Mark as loaded even if there was an error to prevent retries\n            this._serverConfigLoaded = true;\n        }\n    }\n\n    /**\n     * Get the singleton instance\n     * @returns {DiffConfigManager} The singleton instance\n     */\n    static getInstance() {\n        if (!DiffConfigManager.#instance) {\n            DiffConfigManager.#instance = new DiffConfigManager();\n        }\n        return DiffConfigManager.#instance;\n    }\n\n    /**\n     * Initialize with configuration\n     * @param {Object} config - The initial configuration\n     */\n    async initialize(config = {}) {\n        Debug.log('DiffConfigManager: Initializing with config', config, 2);\n\n        // Check if serverSaveEnabled is already set in window.diffConfig\n        const hasRuntimeServerSaveEnabled = typeof window !== 'undefined' &&\n            window.diffConfig &&\n            window.diffConfig.hasOwnProperty('serverSaveEnabled');\n\n        // Only load server config if we don't have runtime values already set\n        if (!hasRuntimeServerSaveEnabled) {\n            await this.ensureServerConfigLoaded();\n        } else {\n            Debug.log('DiffConfigManager: Skipping server config load - serverSaveEnabled already set',\n                window.diffConfig.serverSaveEnabled, 2);\n        }\n\n        // Then apply the provided config\n        if (typeof window !== 'undefined') {\n            window.diffConfig = { ...(window.diffConfig || {}), ...config };\n        } else {\n            Debug.error('DiffConfigManager: Cannot initialize, window is not available', null, 1);\n        }\n    }\n\n    /**\n     * Get the current diffConfig (reference to window.diffConfig)\n     * @returns {Object} The current diffConfig\n     */\n    getDiffConfig() {\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn('DiffConfigManager: window.diffConfig is not available', null, 1);\n            return {};\n        }\n        return window.diffConfig;\n    }\n\n    /**\n     * Set a new diffConfig, completely replacing the current one\n     * @param {Object} config - The new configuration to use\n     */\n    setDiffConfig(config = {}) {\n        Debug.log('DiffConfigManager: Setting new diffConfig', config, 2);\n        if (typeof window !== 'undefined') {\n            window.diffConfig = { ...config };\n        } else {\n            Debug.error('DiffConfigManager: Cannot set config, window is not available', null, 1);\n        }\n    }\n\n    /**\n     * Reset the diffConfig to default values, possibly with new overrides\n     * @param {Object} overrides - Optional configuration overrides to apply after reset\n     */\n    reset(overrides = {}) {\n        Debug.log('DiffConfigManager: Resetting diffConfig with overrides', overrides, 2);\n        if (typeof window !== 'undefined') {\n            window.diffConfig = {\n                debug: false,\n                logLevel: 1,\n                old: {},\n                new: {},\n                ...overrides\n            };\n        } else {\n            Debug.error('DiffConfigManager: Cannot reset config, window is not available', null, 1);\n        }\n    }\n\n    /**\n     * Update part of the configuration\n     * @param {Object} partialConfig - The partial configuration to update\n     */\n    update(partialConfig = {}) {\n        Debug.log('DiffConfigManager: Updating diffConfig with', partialConfig, 3);\n\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn('DiffConfigManager: window.diffConfig not available for update', null, 1);\n            return;\n        }\n\n        // Check if the partialConfig has a nested 'config' property\n        if (partialConfig && partialConfig.config && typeof partialConfig.config === 'object') {\n            Debug.log('DiffConfigManager: Extracting nested config property', partialConfig.config, 3);\n            // Use the nested config object instead of the wrapper\n            window.diffConfig = this.#mergeDeep(window.diffConfig, partialConfig.config);\n        } else {\n            // Use the original object if no nested config property\n            window.diffConfig = this.#mergeDeep(window.diffConfig, partialConfig);\n        }\n    }\n\n    /**\n     * Set a specific configuration value by key\n     * @param {string} key - The configuration key\n     * @param {*} value - The value to set\n     */\n    set(key, value) {\n        Debug.log(`DiffConfigManager: Setting ${key}`, value, 3);\n        if (typeof window !== 'undefined' && window.diffConfig) {\n            window.diffConfig[key] = value;\n        } else {\n            Debug.error(`DiffConfigManager: Cannot set ${key}, window.diffConfig not available`, null, 1);\n        }\n    }\n\n    /**\n     * Get a specific configuration value by key\n     * @param {string} key - The configuration key\n     * @param {*} defaultValue - Default value if the key doesn't exist\n     * @returns {*} The configuration value\n     */\n    get(key, defaultValue = null) {\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn(`DiffConfigManager: Cannot get ${key}, window.diffConfig not available`, null, 1);\n            return defaultValue;\n        }\n        return key in window.diffConfig ? window.diffConfig[key] : defaultValue;\n    }\n\n    /**\n     * Check if a configuration key exists\n     * @param {string} key - The configuration key to check\n     * @returns {boolean} True if the key exists\n     */\n    has(key) {\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn(`DiffConfigManager: Cannot check ${key}, window.diffConfig not available`, null, 1);\n            return false;\n        }\n        return key in window.diffConfig;\n    }\n\n    /**\n     * Remove a specific configuration key\n     * @param {string} key - The configuration key to remove\n     */\n    remove(key) {\n        if (typeof window !== 'undefined' && window.diffConfig && key in window.diffConfig) {\n            Debug.log(`DiffConfigManager: Removing ${key}`, null, 3);\n            delete window.diffConfig[key];\n        } else {\n            Debug.warn(`DiffConfigManager: Cannot remove ${key}, not found or window.diffConfig not available`, null, 1);\n        }\n    }\n\n    /**\n     * Deep merge two objects recursively\n     * @param {Object} target - Target object\n     * @param {Object} source - Source object to merge\n     * @returns {Object} The merged object\n     * @private\n     */\n    #mergeDeep(target, source) {\n        const output = { ...target };\n\n        if (this.#isObject(target) && this.#isObject(source)) {\n            Object.keys(source).forEach(key => {\n                if (this.#isObject(source[key])) {\n                    if (!(key in target)) {\n                        output[key] = source[key];\n                    } else {\n                        output[key] = this.#mergeDeep(target[key], source[key]);\n                    }\n                } else {\n                    output[key] = source[key];\n                }\n            });\n        }\n\n        return output;\n    }\n\n    /**\n     * Check if a value is an object\n     * @param {*} item - The value to check\n     * @returns {boolean} True if the value is an object\n     * @private\n     */\n    #isObject(item) {\n        return (item && typeof item === 'object' && !Array.isArray(item));\n    }\n}\n\nexport default DiffConfigManager;\n","/**\n * Central registry for SVG icons\n * This eliminates the need for external icon libraries\n */\nexport class IconRegistry {\n    /**\n     * Get SVG markup for the specified icon\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Additional options for the icon\n     * @returns {string} SVG markup\n     */\n    static getIcon(iconName, options = {}) {\n        const {\n            classes = '',\n            width = 16,\n            height = 16,\n            title = '',\n            ariaHidden = true\n        } = options;\n\n        // Get the SVG path data\n        const pathData = this._getIconPathData(iconName);\n\n        if (!pathData) {\n            console.warn(`Icon not found: ${iconName}`);\n            return '';\n        }\n\n        // Create title element for accessibility if provided\n        const titleElement = title ? `<title>${title}</title>` : '';\n\n        // Generate the SVG with the right attributes\n        return `<svg\n            class=\"vdm-icon ${classes}\"\n            width=\"${width}\"\n            height=\"${height}\"\n            viewBox=\"${pathData.viewBox || '0 0 512 512'}\"\n            ${ariaHidden ? 'aria-hidden=\"true\"' : 'role=\"img\"'}\n            focusable=\"false\"\n        >\n            ${titleElement}\n            ${pathData.paths}\n        </svg>`;\n    }\n\n    /**\n     * Get the path data for an icon\n     * @private\n     * @param {string} iconName - Name of the icon\n     * @returns {Object|null} Icon path data or null if not found\n     */\n    static _getIconPathData(iconName) {\n        // Map of icon names to their SVG path data\n        const icons = {\n            'chevron-up': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z\"/>'\n            },\n            'chevron-down': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z\"/>'\n            },\n            'eye': {\n                viewBox: '0 0 576 512',\n                paths: '<path d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"/>'\n            },\n            'sun': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z\"/>'\n            },\n            'moon': {\n                viewBox: '0 0 384 512',\n                paths: '<path d=\"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z\"/>'\n            },\n            'file': {\n                viewBox: '0 0 384 512',\n                paths: '<path d=\"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z\"/>'\n            },\n            'file-circle-plus': {\n                viewBox: '0 0 576 512',\n                paths: '<path d=\"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384v38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM288 368a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-80c-8.8 0-16 7.2-16 16v48H368c-8.8 0-16 7.2-16 16s7.2 16 16 16h48v48c0 8.8 7.2 16 16 16s16-7.2 16-16V384h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H448V304c0-8.8-7.2-16-16-16z\"/>'\n            },\n            'file-lines': {\n                viewBox: '0 0 384 512',\n                paths: '<path d=\"M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"/>'\n            },\n            'file-copy': {\n                viewBox: '0 0 576 512',\n                paths: '<path d=\"M384 480h48c20.9 0 38.7-13.4 45.3-32H416c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16h61.3C470.7 157.4 452.9 144 432 144H384V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H384zM128 64H320V144H128V64zM400 240V416H144V192H352c26.5 0 48 21.5 48 48zm176-48c0-8.8-7.2-16-16-16H432c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H560c8.8 0 16-7.2 16-16V192z\"/>'\n            },\n            'plus-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z\"/>'\n            },\n            'exclamation-triangle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\"/>'\n            },\n            'copy': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M272 0H396.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128H192v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z\"/>'\n            },\n            // Add more icons as needed\n            'check-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"/>'\n            },\n            'chevron-right': {\n                viewBox: '0 0 320 512',\n                paths: '<path d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"/>'\n            },\n            'download': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"/>'\n            },\n            'uncheck-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24v112c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm-32 224a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/>'\n            },\n            'info-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"/>'\n            },\n            'exclamation-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM256 128c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/>'\n            },\n            'checkbox-unchecked': {\n                viewBox: '0 0 24 24',\n                paths: '<path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>'\n            },\n            'checkbox-checked': {\n                viewBox: '0 0 24 24',\n                paths: '<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>'\n            }\n        };\n\n        return icons[iconName] || null;\n    }\n\n    /**\n     * Create DOM element for an icon\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Additional options for the icon\n     * @returns {Element} The created SVG element\n     */\n    static createIcon(iconName, options = {}) {\n        const svgString = this.getIcon(iconName, options);\n        if (!svgString) return null;\n\n        const template = document.createElement('template');\n        template.innerHTML = svgString.trim();\n        return template.content.firstChild;\n    }\n}\n","import Selectors from '../constants/Selectors';\n\nimport { Debug } from './Debug';\nimport { BaseSingleton } from './BaseSingleton';\nimport { TranslationManager } from './TranslationManager';\n\n/**\n * LoaderManager - Centralized utility for managing loading indicators\n *\n * This singleton class provides methods to display and hide loading indicators\n * throughout the application in a consistent manner. It supports different styles\n * of loaders including fullscreen, inline, and element-specific indicators.\n */\n\n// Module-level singleton instance\nlet instance = null;\n\n/**\n * LoaderManager class\n *\n * Provides methods to display and hide loading indicators throughout the application\n */\nexport class LoaderManager extends BaseSingleton {\n    /**\n     * Initialize the LoaderManager\n     */\n    initialize() {\n        // If already initialized, just return\n        if (this.initialized) {\n            return;\n        }\n\n        this.activeLoaders = new Map();\n        this.loaderIdCounter = 0;\n        this.isMainLoaderActive = false; // Track if main loader is active\n        this.mainLoaderId = null; // Store the ID of the main loader for reference\n        this.recentlyRemovedLoaders = new Set(); // Track recently removed loaders to prevent errors\n\n        // Track loader operations for debugging\n        this.operationLog = [];\n        this.maxLogEntries = 20;\n\n        // Set flag to remember log level in debug mode\n        this.verboseLogging = Debug.isInitialized ? Debug.logLevel > 2 : false;\n\n        // Mark as initialized\n        this.initialized = true;\n    }\n\n    /**\n     * Get the singleton instance\n     * @returns {LoaderManager} Instance\n     */\n    static getInstance() {\n        if (!instance) {\n            instance = new LoaderManager();\n            instance.initialize();\n        }\n        return instance;\n    }\n\n    /**\n     * Log an operation for debugging\n     * @private\n     */\n    _logOperation(operation, details) {\n        // Keep a short log history for debugging\n        if (this.operationLog.length >= this.maxLogEntries) {\n            this.operationLog.shift(); // Remove oldest entry\n        }\n\n        this.operationLog.push({\n            timestamp: new Date().toISOString(),\n            operation,\n            details\n        });\n    }\n\n    /**\n     * Create a loader element with the given message\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Options for the loader\n     * @returns {HTMLElement} The loader element\n     * @private\n     */\n    _createLoaderElement(message, options = {}) {\n        // Use an early translation if TranslationManager is available\n        if (message && typeof message === 'string' && message.startsWith('$') && TranslationManager.getInstance().isInitialized()) {\n            const translationKey = message.substring(1);\n            const translatedMessage = TranslationManager.getInstance().get(translationKey);\n            if (translatedMessage) {\n                message = translatedMessage;\n            }\n        }\n\n        const loader = document.createElement('div');\n        loader.className = 'vdm-loader';\n\n        if (options.fullscreen) {\n            loader.classList.add('vdm-loader--fullscreen');\n        }\n\n        if (options.inline) {\n            loader.classList.add('vdm-loader--inline');\n        }\n\n        if (options.small) {\n            loader.classList.add('vdm-loader--small');\n        }\n\n        if (options.container) {\n            loader.classList.add('vdm-loader--container');\n        }\n\n        if (options.className) {\n            loader.classList.add(options.className);\n        }\n\n        if (options.zIndex) {\n            loader.style.zIndex = options.zIndex;\n        }\n\n        // Create spinner\n        const spinner = document.createElement('div');\n        spinner.className = 'vdm-loader__spinner';\n        loader.appendChild(spinner);\n\n        // Add message if provided\n        if (message) {\n            const messageElement = document.createElement('div');\n            messageElement.className = 'vdm-loader__message';\n            messageElement.textContent = message;\n            loader.appendChild(messageElement);\n        }\n\n        return loader;\n    }\n\n    /**\n     * Show a loading indicator\n     *\n     * @param {string} message - Message to display with the loader\n     * @param {Object} options - Options for the loader\n     * @param {boolean} options.fullscreen - Whether to show a fullscreen loader\n     * @param {boolean} options.inline - Whether to show an inline loader\n     * @param {boolean} options.small - Whether to show a small loader\n     * @param {string} options.className - Additional CSS class to add to the loader\n     * @param {HTMLElement} options.target - Target element to add the loader to\n     * @param {number} options.zIndex - Z-index for the loader\n     * @returns {string} ID of the loader (use this to hide the specific loader)\n     */\n    showLoader(message = 'Loading...', options = {}) {\n        // If main loader is active and we're showing a fullscreen loader,\n        // reuse the main loader with updated message\n        if (this.isMainLoaderActive && this.mainLoaderId && options.fullscreen) {\n            Debug.log('LoaderManager: Reusing main loader for fullscreen request', { message }, 3);\n            this.updateLoaderMessage(this.mainLoaderId, message);\n            return this.mainLoaderId;\n        }\n\n        Debug.log('LoaderManager: Showing loader', { message, options }, 3);\n\n        const loaderId = `loader-${++this.loaderIdCounter}`;\n        const loaderElement = this._createLoaderElement(message, options);\n        loaderElement.setAttribute('data-loader-id', loaderId);\n\n        // Add loader to the correct target element\n        if (options.target && options.target instanceof HTMLElement) {\n            // If the target has position: static, change to relative for proper positioning\n            const targetPosition = window.getComputedStyle(options.target).getPropertyValue('position');\n            if (targetPosition === 'static') {\n                options.target.style.position = 'relative';\n            }\n            options.target.appendChild(loaderElement);\n        } else {\n            document.body.appendChild(loaderElement);\n        }\n\n        // Store reference to the loader\n        this.activeLoaders.set(loaderId, {\n            element: loaderElement,\n            target: options.target || document.body,\n            fullscreen: !!options.fullscreen,\n            timestamp: Date.now()\n        });\n\n        // Remove from recently removed list if it's there (unlikely but possible with ID reuse)\n        this.recentlyRemovedLoaders.delete(loaderId);\n\n        this._logOperation('show', { id: loaderId, message, type: 'regular' });\n\n        // Add showing class to trigger CSS transitions if any\n        setTimeout(() => {\n            if (loaderElement.parentNode) {\n                loaderElement.classList.add('vdm-loader--showing');\n            }\n        }, 10);\n\n        return loaderId;\n    }\n\n    /**\n     * Show the main application loader and hide all other loaders\n     *\n     * @param {string} message - Optional message to display\n     * @param {Object} options - Additional options for the loader\n     * @returns {string} ID of the loader\n     */\n    showMainLoader(message = 'Loading...', options = {}) {\n        Debug.log('LoaderManager: Showing main loader', { message }, 2);\n\n        // If main loader is already active, just update the message and return the existing ID\n        if (this.isMainLoaderActive && this.mainLoaderId && this.activeLoaders.has(this.mainLoaderId)) {\n            Debug.log('LoaderManager: Main loader already active, updating message', {\n                currentId: this.mainLoaderId,\n                message\n            }, 2);\n\n            this.updateLoaderMessage(this.mainLoaderId, message);\n            return this.mainLoaderId;\n        }\n\n        // Hide all other loaders when showing the main one\n        this._hideAllInlineLoaders();\n\n        // Get the main loader element if it exists in the DOM\n        const mainLoaderElement = document.getElementById(Selectors.LOADER.MAIN.name());\n\n        if (mainLoaderElement) {\n            // If the element already exists in the DOM, just show it\n            mainLoaderElement.style.display = 'flex';\n            mainLoaderElement.classList.add(Selectors.LOADER.ACTIVE.name());\n\n            // If it has a message element, update it\n            const messageElement = mainLoaderElement.querySelector('.vdm-loader__message');\n            if (messageElement) {\n                messageElement.textContent = message;\n            } else if (message) {\n                // Create message element if it doesn't exist but message is provided\n                const newMessageElement = document.createElement('div');\n                newMessageElement.className = 'vdm-loader__message';\n                newMessageElement.textContent = message;\n                mainLoaderElement.appendChild(newMessageElement);\n            }\n\n            // Generate an ID for this loader instance\n            const loaderId = `main-loader-${++this.loaderIdCounter}`;\n\n            // Store reference\n            this.activeLoaders.set(loaderId, {\n                element: mainLoaderElement,\n                target: document.body,\n                isMainLoader: true,\n                timestamp: Date.now()\n            });\n\n            // Update tracking\n            this.isMainLoaderActive = true;\n            this.mainLoaderId = loaderId;\n\n            // Remove from recently removed list if it's there\n            this.recentlyRemovedLoaders.delete(loaderId);\n\n            this._logOperation('show', { id: loaderId, message, type: 'main-existing' });\n\n            return loaderId;\n        } else {\n            // If the element doesn't exist, create it using showLoader\n            const loaderId = this.showLoader(message, {\n                fullscreen: true,\n                className: Selectors.LOADER.MAIN.name(),\n                zIndex: 9999,\n                ...options\n            });\n\n            // Mark this as the main loader\n            const loaderInfo = this.activeLoaders.get(loaderId);\n            if (loaderInfo) {\n                loaderInfo.isMainLoader = true;\n                loaderInfo.element.id = Selectors.LOADER.MAIN.name();\n            }\n\n            // Update tracking\n            this.isMainLoaderActive = true;\n            this.mainLoaderId = loaderId;\n\n            this._logOperation('show', { id: loaderId, message, type: 'main-new' });\n\n            return loaderId;\n        }\n    }\n\n    /**\n     * Show a loading indicator early in the page lifecycle before DiffViewer initialization\n     * This is specifically for components that need to show loaders before the main app initializes\n     *\n     * @param {string} message - Message to display with the loader\n     * @param {Object} options - Options for the loader\n     * @returns {string} ID of the loader\n     */\n    showEarlyLoader(message = 'Loading...', options = {}) {\n        // If debug is already initialized, use it, otherwise don't log\n        if (Debug.isInitialized) {\n            Debug.log('LoaderManager: Showing early loader', { message }, 2);\n        }\n\n        // Create a loader that will become the main loader\n        const loaderId = this.showLoader(message, {\n            fullscreen: true,\n            className: Selectors.LOADER.MAIN.name(),\n            zIndex: 9999,\n            ...options\n        });\n\n        // Mark this as the main loader\n        const loaderInfo = this.activeLoaders.get(loaderId);\n        if (loaderInfo) {\n            loaderInfo.isMainLoader = true;\n            loaderInfo.isEarlyLoader = true; // Mark as an early loader\n            loaderInfo.element.id = Selectors.LOADER.MAIN.name();\n        }\n\n        // Update tracking\n        this.isMainLoaderActive = true;\n        this.mainLoaderId = loaderId;\n\n        this._logOperation('show', { id: loaderId, message, type: 'early-loader' });\n\n        return loaderId;\n    }\n\n    /**\n     * Convert an early loader to the main loader to ensure continuity\n     * Call this method from enableDiffViewer to take over an existing early loader\n     *\n     * @param {string} message - Optional new message to display\n     * @returns {string} ID of the main loader\n     */\n    adoptEarlyLoader(message = null) {\n        // If there's no active main loader, create one\n        if (!this.isMainLoaderActive || !this.mainLoaderId) {\n            if (Debug.isInitialized) {\n                Debug.log('LoaderManager: No early loader to adopt, creating new main loader', null, 2);\n            }\n            return this.showMainLoader(message);\n        }\n\n        // Update the message if provided\n        if (message) {\n            this.updateLoaderMessage(this.mainLoaderId, message);\n        }\n\n        if (Debug.isInitialized) {\n            Debug.log('LoaderManager: Adopted early loader as main loader', { id: this.mainLoaderId }, 2);\n        }\n\n        return this.mainLoaderId;\n    }\n\n    /**\n     * Hide the main loader\n     *\n     * @param {string} loaderId - Optional ID of the loader to hide\n     * @returns {boolean} Success status\n     */\n    hideMainLoader(loaderId = null) {\n        Debug.log('LoaderManager: Hiding main loader', { loaderId }, 2);\n\n        // Special handling: If this was recently removed, just return success\n        if (loaderId && this.recentlyRemovedLoaders.has(loaderId)) {\n            Debug.log('LoaderManager: Main loader was recently removed', { loaderId }, 2);\n            return true;\n        }\n\n        // If main loader isn't active, silently succeed\n        if (!this.isMainLoaderActive) {\n            Debug.log('LoaderManager: Main loader not active, nothing to hide', null, 2);\n            return true;\n        }\n\n        // If loaderId is provided but doesn't match the main loader ID, verify it\n        if (loaderId && loaderId !== this.mainLoaderId) {\n            const loaderInfo = this.activeLoaders.get(loaderId);\n            // If it's not found or not a main loader, use the stored main loader ID\n            if (!loaderInfo?.isMainLoader) {\n                Debug.log('LoaderManager: Using stored main loader ID',\n                    { providedId: loaderId, actualMainId: this.mainLoaderId }, 2);\n                loaderId = this.mainLoaderId;\n            }\n        } else if (!loaderId) {\n            // If no ID provided, use the stored main loader ID\n            loaderId = this.mainLoaderId;\n        }\n\n        // If we couldn't determine a loader ID or it doesn't exist anymore,\n        // try to clean up by element ID\n        if (!loaderId || !this.activeLoaders.has(loaderId)) {\n            const mainLoaderElement = document.getElementById(Selectors.LOADER.MAIN.name());\n            if (mainLoaderElement) {\n                mainLoaderElement.style.display = 'none';\n                if (mainLoaderElement.parentNode) {\n                    mainLoaderElement.parentNode.removeChild(mainLoaderElement);\n                }\n                Debug.log('LoaderManager: Removed main loader by element ID', null, 2);\n            }\n\n            // Reset state\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n            return true;\n        }\n\n        // Now hide the specific loader\n        const success = this._hideSpecificLoader(loaderId);\n\n        if (success) {\n            // Remember we removed this loader so we don't try to hide it again\n            this.recentlyRemovedLoaders.add(loaderId);\n\n            // Update state\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n\n            this._logOperation('hide', { id: loaderId, type: 'main' });\n        }\n\n        return success;\n    }\n\n    /**\n     * Hide all inline loaders (internal method)\n     * @private\n     */\n    _hideAllInlineLoaders() {\n        Debug.log('LoaderManager: Hiding all inline loaders', null, 3);\n\n        // Find all inline loaders\n        const inlineLoaderIds = Array.from(this.activeLoaders.entries())\n            .filter(([_id, info]) => !info.isMainLoader && !info.fullscreen)\n            .map(([id]) => id);\n\n        // Hide each one\n        inlineLoaderIds.forEach(id => {\n            this._hideSpecificLoader(id);\n\n            // Remember we removed this loader\n            this.recentlyRemovedLoaders.add(id);\n\n            this._logOperation('hide', { id, type: 'inline-batch' });\n        });\n\n        // Also look for any inline loaders in the DOM that might not be tracked\n        document.querySelectorAll('.vdm-loader--inline').forEach(loader => {\n            this._removeLoaderElement(loader);\n            this._logOperation('hide', { element: 'untracked-inline', type: 'dom-query' });\n        });\n    }\n\n    /**\n     * Hide a specific loader by ID\n     *\n     * @param {string} loaderId - ID of the loader to hide\n     * @returns {boolean} Success status\n     */\n    hideLoader(loaderId) {\n        // If no loaderId specified, hide all loaders\n        if (!loaderId) {\n            Debug.log('LoaderManager: Hiding all loaders', null, 3);\n            const loaderIds = Array.from(this.activeLoaders.keys());\n            let success = true;\n\n            loaderIds.forEach(id => {\n                if (!this._hideSpecificLoader(id)) {\n                    success = false;\n                }\n\n                // Remember we removed this loader\n                this.recentlyRemovedLoaders.add(id);\n\n                this._logOperation('hide', { id, type: 'all-batch' });\n            });\n\n            // Reset main loader tracking\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n\n            return success;\n        }\n\n        // Special handling: If this was recently removed, just return success\n        if (this.recentlyRemovedLoaders.has(loaderId)) {\n            Debug.log('LoaderManager: Loader was recently removed', { loaderId }, 2);\n            return true;\n        }\n\n        // Case: this is the main loader\n        if (loaderId === this.mainLoaderId) {\n            return this.hideMainLoader(loaderId);\n        }\n\n        // Hide a specific loader\n        Debug.log('LoaderManager: Hiding loader', { loaderId }, 3);\n        const success = this._hideSpecificLoader(loaderId);\n\n        if (success) {\n            // Remember we removed this loader\n            this.recentlyRemovedLoaders.add(loaderId);\n\n            this._logOperation('hide', { id: loaderId, type: 'specific' });\n        }\n\n        return success;\n    }\n\n    /**\n     * Internal method to hide a specific loader\n     *\n     * @param {string} loaderId - ID of the loader to hide\n     * @returns {boolean} Success status\n     * @private\n     */\n    _hideSpecificLoader(loaderId) {\n        // Special handling: If this was recently removed, just return success\n        if (this.recentlyRemovedLoaders.has(loaderId)) {\n            Debug.log('LoaderManager: Loader was recently removed (in _hideSpecificLoader)', { loaderId }, 3);\n            return true;\n        }\n\n        const loader = this.activeLoaders.get(loaderId);\n\n        if (!loader) {\n            Debug.log('LoaderManager: No loader found to hide', { loaderId }, 2);\n            return false;\n        }\n\n        // Update main loader status if this was a main loader\n        if (loader.isMainLoader) {\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n        }\n\n        // Check if the element still exists in DOM\n        if (!loader.element?.parentNode) {\n            // Element is already removed, just clean up our tracking\n            this.activeLoaders.delete(loaderId);\n            Debug.log('LoaderManager: Loader element was already removed from DOM', { loaderId }, 3);\n            return true;\n        }\n\n        // Remove the loader element with transition\n        this._removeLoaderElement(loader.element);\n        this.activeLoaders.delete(loaderId);\n\n        // Remember we removed this loader\n        this.recentlyRemovedLoaders.add(loaderId);\n\n        return true;\n    }\n\n    /**\n     * Remove a loader element with transition\n     *\n     * @param {HTMLElement} loaderElement - Loader element to remove\n     * @private\n     */\n    _removeLoaderElement(loaderElement) {\n        // First remove the showing class to trigger CSS transitions if any\n        loaderElement.classList.remove('vdm-loader--showing');\n\n        // Wait for transition to complete before removing the element\n        setTimeout(() => {\n            if (loaderElement.parentNode) {\n                loaderElement.parentNode.removeChild(loaderElement);\n            }\n        }, 300); // Match this timing with CSS transition duration\n    }\n\n    /**\n     * Show a loader in a specific container (useful for buttons, etc.)\n     *\n     * @param {HTMLElement} container - Container element to add the loader to\n     * @param {string} message - Optional message to display\n     * @param {Object} options - Options for the loader\n     * @returns {string} ID of the loader\n     */\n    showLoaderInContainer(container, message = '', options = {}) {\n        const loaderId = this.showLoader(message, {\n            target: container,\n            container: true,\n            small: true,\n            ...options\n        });\n\n        this._logOperation('show', { id: loaderId, message, type: 'container' });\n\n        return loaderId;\n    }\n\n    /**\n     * Update an existing loader's message\n     *\n     * @param {string} loaderId - ID of the loader to update\n     * @param {string} message - New message to display\n     * @returns {boolean} Success status\n     */\n    updateLoaderMessage(loaderId, message) {\n        // Don't log anything when recently removed IDs are encountered\n        // This eliminates the spam in the console for removed loaders\n        if (loaderId && this.recentlyRemovedLoaders.has(loaderId)) {\n            return true; // Silently succeed\n        }\n\n        // If this is a falsy ID and main loader is active, use the main loader\n        if (!loaderId && this.isMainLoaderActive && this.mainLoaderId) {\n            loaderId = this.mainLoaderId;\n            Debug.log('LoaderManager: Using main loader ID for message update', { mainLoaderId: loaderId }, 3);\n        }\n\n        const loader = this.activeLoaders.get(loaderId);\n\n        if (!loader) {\n            // Only log at level 2 if we're in verbose mode (reduces noise)\n            if (this.verboseLogging) {\n                Debug.log('LoaderManager: No loader found to update message', { loaderId }, 2);\n            }\n            return false;\n        }\n\n        // Check if element still exists in DOM\n        if (!loader.element?.parentNode) {\n            Debug.log('LoaderManager: Loader element was removed from DOM', { loaderId }, 3);\n            this.activeLoaders.delete(loaderId);\n            this.recentlyRemovedLoaders.add(loaderId);\n            return false;\n        }\n\n        const messageElement = loader.element.querySelector('.vdm-loader__message');\n\n        if (messageElement) {\n            messageElement.textContent = message;\n            this._logOperation('update', { id: loaderId, message, type: 'existing-element' });\n            return true;\n        } else if (message) {\n            // Create message element if it doesn't exist but a message is provided\n            const newMessageElement = document.createElement('div');\n            newMessageElement.className = 'vdm-loader__message';\n            newMessageElement.textContent = message;\n            loader.element.appendChild(newMessageElement);\n            this._logOperation('update', { id: loaderId, message, type: 'new-element' });\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if a loader with the given ID exists\n     * @param {string} loaderId - Loader ID to check\n     * @returns {boolean} - Whether the loader exists\n     */\n    hasLoader(loaderId) {\n        return this.activeLoaders.has(loaderId) &&\n               !this.recentlyRemovedLoaders.has(loaderId);\n    }\n\n    /**\n     * Clean up old entries in the recentlyRemovedLoaders set to prevent memory leaks\n     * Called periodically by the system\n     */\n    _cleanupOldRemovedLoaders() {\n        // If the set gets too large, clean up old entries\n        if (this.recentlyRemovedLoaders.size > 20) {\n            // Just reset the whole set for simplicity\n            this.recentlyRemovedLoaders.clear();\n        }\n    }\n\n    /**\n     * Get debug information about a specific loader\n     * @param {string} loaderId - Loader ID to check\n     * @returns {Object|null} Loader information\n     */\n    getLoaderInfo(loaderId) {\n        if (!loaderId) return null;\n\n        const loader = this.activeLoaders.get(loaderId);\n        if (!loader) {\n            return {\n                exists: false,\n                wasRemoved: this.recentlyRemovedLoaders.has(loaderId)\n            };\n        }\n\n        return {\n            exists: true,\n            isMain: !!loader.isMainLoader,\n            fullscreen: !!loader.fullscreen,\n            message: loader.element.querySelector('.vdm-loader__message')?.textContent,\n            age: Date.now() - (loader.timestamp || 0), // milliseconds since creation\n            inDom: !!loader.element.parentNode\n        };\n    }\n\n    /**\n     * Debug method to get active loader information\n     * @returns {Object} Information about current loaders\n     */\n    getLoaderStatus() {\n        // Clean up the recently removed list to keep it tidy\n        this._cleanupOldRemovedLoaders();\n\n        return {\n            activeCount: this.activeLoaders.size,\n            recentlyRemovedCount: this.recentlyRemovedLoaders.size,\n            mainLoaderActive: this.isMainLoaderActive,\n            mainLoaderId: this.mainLoaderId,\n            operations: [...this.operationLog],\n            loaders: Array.from(this.activeLoaders.entries()).map(([id, info]) => ({\n                id,\n                isMain: !!info.isMainLoader,\n                fullscreen: !!info.fullscreen,\n                message: info.element.querySelector('.vdm-loader__message')?.textContent,\n                age: Date.now() - (info.timestamp || 0), // milliseconds since creation\n                inDom: !!info.element.parentNode\n            }))\n        };\n    }\n}\n\nexport default LoaderManager;\n","/**\n * Translation Manager\n * Provides centralized access to translations throughout the application\n */\nimport { BaseSingleton } from './BaseSingleton';\nimport { Debug } from './Debug';\n\n/**\n * Singleton class that manages translations across the application\n */\nexport class TranslationManager extends BaseSingleton {\n    /**\n     * @private\n     * Singleton instance\n     */\n    static _instance = null;\n\n    /**\n     * Get the singleton instance\n     * @returns {TranslationManager} The singleton instance\n     */\n    static getInstance() {\n        if (!TranslationManager._instance) {\n            TranslationManager._instance = new TranslationManager();\n            Debug.log('TranslationManager: Instance created', null, 2);\n        }\n        return TranslationManager._instance;\n    }\n\n    /**\n     * Constructor - private, use getInstance()\n     */\n    constructor() {\n        super();\n        this.translations = {};\n        this.lang = 'en';\n        this.initialized = false;\n\n        // IMPORTANT: Initialize immediately with window.diffConfig if available\n        this._initializeFromGlobalConfig();\n    }\n\n    /**\n     * Try to initialize from global config immediately\n     * @private\n     */\n    _initializeFromGlobalConfig() {\n        if (window.diffConfig && window.diffConfig.translations) {\n            Debug.log('TranslationManager: Auto-initializing from window.diffConfig', window.diffConfig.translations, 2);\n            this.initialize(\n                window.diffConfig.lang || 'en',\n                window.diffConfig.translations\n            );\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Initialize with language and translations\n     * @param {string} lang - The language code\n     * @param {Object} translations - Translation key-value pairs\n     */\n    initialize(lang = 'en', translations = {}) {\n        this.lang = lang;\n        this.translations = translations;\n        this.initialized = true;\n        Debug.log(`TranslationManager: Initialized with \"${lang}\" language`, this.translations, 2);\n    }\n\n    /**\n     * Get a translation by key\n     * @param {string} key - The translation key\n     * @param {string} defaultValue - Default value if key not found (defaults to key itself)\n     * @returns {string} The translated text or default value\n     */\n    get(key, defaultValue = null) {\n        // If not initialized and window.diffConfig exists, try to initialize from there\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n\n        // Check if we have translations for the current language\n        if (this.translations[this.lang] && this.translations[this.lang][key]) {\n            return this.translations[this.lang][key];\n        }\n\n        // Fallback to English if the key exists there\n        if (this.translations['en'] && this.translations['en'][key]) {\n            Debug.log(`TranslationManager: Key \"${key}\" not found in \"${this.lang}\", using English fallback`, null, 2);\n            return this.translations['en'][key];\n        }\n\n        // Use provided default or key itself\n        return defaultValue !== null ? defaultValue : key;\n    }\n\n    /**\n     * Check if initialization has been completed\n     * @returns {boolean} True if initialized\n     */\n    isInitialized() {\n        // Try to initialize if not already done\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n        return this.initialized;\n    }\n\n    /**\n     * Get the current language\n     * @returns {string} The current language code\n     */\n    getLanguage() {\n        // Try to initialize if not already done\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n        return this.lang;\n    }\n\n    /**\n     * Get all translations\n     * @returns {Object} All translations\n     */\n    getAllTranslations() {\n        // Try to initialize if not already done\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n        return {...this.translations};\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * File Browser entry point\n * Exports the FileBrowserManager for use in the file browser example\n */\n\nimport { FileBrowserManager } from './components/browser/FileBrowserManager';\nimport { BrowserUIManager } from './components/viewer/BrowserUIManager';\n\n// Export the FileBrowserManager class for direct use\nexport { FileBrowserManager, BrowserUIManager };\n\n// Also expose to window object for backwards compatibility\nif (typeof window !== 'undefined') {\n    window.FileBrowserManager = FileBrowserManager;\n    window.BrowserUIManager = BrowserUIManager;\n}\n"],"names":["root","factory","exports","module","define","amd","a","i","this","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","Symbol","iterator","c","asyncIterator","u","toStringTag","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","ownKeys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","apply","_objectSpread","arguments","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","asyncGeneratorStep","_asyncToGenerator","_next","_throw","_defineProperties","key","toPrimitive","String","Number","_toPrimitive","FileBrowserManager","options","undefined","_classCallCheck","compareFileSelect","document","getElementById","oldFileSelect","newFileSelect","Debug","log","loaderManager","LoaderManager","getInstance","translationManager","TranslationManager","initAsync","_initAsync","_callee","configManager","_args","_context","DiffConfigManager","initialize","container","init","t0","error","_this","addEventListener","syncFileSelections","warn","form","event","handleComparison","_handleComparison","_callee2","containerWrapper","loaderId","fileData","contents","result","existingServerSaveEnabled","viewerElement","_context2","preventDefault","AlertManager","hideAlert","Selectors","CONTAINER","WRAPPER","replace","clearUI","classList","contains","remove","showEarlyLoader","get","cleanupPreviousInstance","getSelectedFilesData","updateLoaderMessage","fetchFileContents","old","hideMainLoader","handleIdenticalContent","configureDiffData","processDiff","identical","setDiffConfig","set","initializeUIManager","initializeDiffViewer","handleError","_x","window","diffViewer","destroy","vdmBrowserUIManager","_initializeUIManager","_callee3","_context3","BrowserUIManager","diffConfig","createBasicUIElements","_initializeDiffViewer","_callee4","_window$diffConfig$ne","_window$diffConfig$ne2","_window$diffConfig$ne3","_window$diffConfig$ol","_window$diffConfig$ol2","currentFileRefId","hasFileRefs","viewerContainer","initResult","themeSwitcherId","themeSwitcherExists","_context4","DiffViewer","DIFF","VIEWER","fileRefId","ref_id","newFileName","filename","oldFileRefId","oldFileName","serverSaveEnabled","demoEnabled","diffData","Array","isArray","chunks","hasDiffData","diffDataKeys","innerHTML","concat","UTILITY","ALERT_WARNING","THEME","SWITCHER","generateThemeSwitcher","showThemeElements","enableDiffViewer","selectedIndex","selectedOption","oldRefId","getAttribute","newRefId","oldPath","newPath","path","refId","new","_fetchFileContents","_callee6","fetchFile","oldContent","newContent","_context6","_ref","_callee5","filePath","_window$diffConfig","baseApiUrl","apiUrl","response","data","_response","_context5","apiBaseUrl","encodeURIComponent","fetch","ok","status","json","content","match","text","_x3","_x4","_x2","split","update","filepath","_processDiff","_callee7","diffProcessorEndpoint","_window$diffConfig2","_window$diffConfig3","_window$diffConfig4","_window$diffConfig5","_configManager","_baseApiUrl","lang","_context7","vdmEndpointDiscovery","getEndpoint","apiEndpoints","diffProcessor","headers","body","JSON","stringify","statusText","config","translations","_result$key","existing","fromServer","_result$config","_window$diffConfig6","_result$config3","translationCount","_result$old","_result$new","lines","success","_result$config2","debug","theme","apiEndpoint","existingApiBaseUrl","demo","simulated","alertManager","title","message","demoMessage","showWarning","timeout","translate","loadingElement","style","display","errorMessage","alertElement","showError","className","appendChild","currentChildren","from","children","map","child","tagName","id","elementsToPreserve","querySelectorAll","element","substring","index","finalChildren","resultContainer","add","matchFound","fileExt","endsWith","hideThemeSelector","hideThemeElements","alertContainer","querySelector","createElement","userContent","after","prepend","showInfo","diffContainer","diffViewerId","diffContainerId","leftPane","rightPane","themeSwitcher","themeSelectorWrapper","THEME_SWITCHER","themeSelector","SELECTOR","fileBrowserManager","_this$options","translationsSource","elements","mergeControls","hasWindowConfig","hasOptionsTranslations","isInitialized","getLanguage","getAllTranslations","_this$options2","containerSelector","generateDiffContainer","generateThemeSelector","generateMergeControls","themeLoadingId","LOADING_INDICATOR","themeToggleId","TOGGLE","parentNode","position","FLEX","JUSTIFY_CONTENT_BETWEEN","PADDING_2","cssText","switcherWrapper","sunIcon","DOMUtils","getIconHtml","classes","MARGIN_END_2","moonIcon","MARGIN_START_2","LABEL","CONTROL","SLIDER","SLIDER_ROUND","loadingContainer","zIndex","themeLoadingContainer","observer","MutationObserver","mutations","disconnect","containerParent","observe","subtree","childList","attributes","attributeFilter","themeSelectorId","existingSelector","selectorContainer","themeSelectorContainer","selectElement","removeChild","themeSwitcherContainer","THEME_SELECTOR","MARGIN_END_3","FORM_SELECT","insertBefore","firstChild","viewerId","MARGIN_TOP_2","mutation","attributeName","createdViewer","getTranslations","previewButtonId","MERGE","BUTTON_PREVIEW","toggleButtonId","DESTINATION_TOGGLE","toggleIconId","TOGGLE_ICON","toggleTextId","TOGGLE_TEXT","dropdownId","DESTINATION_DROPDOWN","applyButtonId","BUTTON_APPLY","CONTROLS_ACTIONS","ALIGN_ITEMS_CENTER","MARGIN_Y_2","previewSection","previewButton","BUTTON","BUTTON_INFO","preview","mergeSection","toggleGroup","ALIGN_ITEMS_STRETCH","toggleButton","BUTTON_FLAT","toggleIcon","toggleText","setAttribute","saveToOriginalTooltip","textContent","saveToOriginal","dropdown","applyButton","BUTTON_PRIMARY","applyMerge","whiteSpace","alignItems","rect","getBoundingClientRect","scrollTop","pageYOffset","documentElement","top","hideThemeLoading","existingThemeSwitcher","existingThemeSelector","existingThemeSelectorContainer","selectorHandler","target","prop","startsWith","processSelectors","obj","Proxy","baseSelectors","CODE","LINE_CONTENT","LINE_EMPTY","LINE_NUMBER","TABLE","ROOT","COPY","COPIED","ICON","MODAL","ACTIONS","DIALOG","INSTRUCTIONS","TEXTAREA","TEXTAREA_ELEM","PROCESSING","TEXT","CHECK_ALL_BTN","CHUNK","CHUNK_SELECTED","CHUNK_UNSELECTED","CONTENT_WRAPPER","LINE_ADD","LINE_CONTENT_EMPTY","LINE_DELETE","LINE_PLACEHOLDER","LINE_REPLACE_LEFT","LINE_REPLACE_RIGHT","PANE","PANE_CONTENT","PANE_HEADER","PANE_LEFT","PANE_RIGHT","PANES_CONTAINER","PLACEHOLDER","TABLE_WRAPPER","ICONS","COLUMN","MARKER","MARKER_PLACEHOLDER","SELECT","SELECT_LEFT","SELECT_RIGHT","LOADER","ACTIVE","FULLSCREEN","INDICATOR","INLINE","MAIN","SPINNER","CONFLICT_MODAL","GET_MERGED_RESULT_BTN","PREVIEW_CONTENT","PREVIEW_MODAL","BACKDROP","CLOSE","CLOSE_BTN","CODE_COPY","CONFIRM","CONFIRMATION_CONTENT","CONTENT","CONTINUE_BTN","COPY_CONTENT","FIXED_FOOTER","FOOTER","HEADER","HEADER_FIXED","MERGE_BTN","MESSAGE","PREVIEW","PREVIEW_CONTENT_ID","PREVIEW_FILENAME","TITLE","NAVIGATION","COUNTER","COUNTER_ELEMENT","HIGHLIGHT","NAV_CHUNK","NEXT_BUTTON","PREV_BUTTON","STATUS","LOADED","RESOLVED","SCROLLED","UNRESOLVED","DARK","LIGHT","MODE_PREFIX","TOOLTIP","ARROW","defaultUtilitySelectors","BUTTON_SECONDARY","BUTTON_SUCCESS","BUTTON_WARNING","BUTTON_DANGER","BUTTON_SMALL","BUTTON_EXTRA_SMALL","BUTTON_LARGE","ALERT","ALERT_PREFIX","ALERT_INFO","ALERT_SUCCESS","ALERT_DANGER","FORM_SELECT_SM","FLEX_COLUMN","JUSTIFY_CONTENT_CENTER","PADDING_3","MARGIN_2","MARGIN_BOTTOM_2","MARGIN_START_1","MARGIN_X_1","MARGIN_END_1","ui","button","buttonPrimary","buttonSecondary","buttonInfo","buttonSuccess","buttonWarning","buttonDanger","buttonFlat","alert","alertInfo","alertSuccess","alertWarning","alertDanger","getUtilitySelectors","instance","_BaseSingleton","_callSuper","_inherits","initialized","containerId","activeAlert","timeoutId","_ensureContainer","left","transform","width","maxWidth","mergedOptions","dismissable","targetElement","placement","useContainer","hasTargetElement","baseAlertClass","toString","alertClass","typeClass","selectorBase","selectorType","finalMessage","closeButton","nextSibling","setTimeout","_this$activeAlert","clearTimeout","showAlert","BaseSingleton","instanceVar","elementCache","Map","buttonId","handlerFn","logName","instanceId","Date","now","_handlerId","newBtn","cloneNode","replaceChild","has","includes","currentValue","toggleBtn","firstOption","secondOption","firstClass","secondClass","firstText","secondText","firstTooltip","secondTooltip","_iconName","_options$className","_options$elementId","elementId","_options$keepExisting","keepExisting","iconClass","HAS_ICON","visible","displayMode","_element$classList","Boolean","_toConsumableArray","entries","_ref2","_slicedToArray","containerElement","_options$id","_options$classes","_options$attributes","_options$content","Node","selector","context","contextElement","insertAdjacentHTML","elementOrId","eventType","handler","_options$context","_options$removeExisti","removeExisting","_options$styles","styles","getElements","removeEventListener","_ref3","_ref4","property","iconName","IconRegistry","createIcon","getIcon","DebugUtility","enabled","logHistory","maxLogHistory","prefix","logLevel","console","current","level","attempted","shouldLog","_addToHistory","maxLevel","entry","args","timestamp","shift","_classPrivateMethodInitSpec","_checkPrivateRedeclaration","_assertClassBrand","_DiffConfigManager_brand","WeakSet","_serverConfigLoaded","_ensureServerConfigLoaded","scripts","scriptSrc","configResponse","serverConfig","src","_initialize","_args2","ensureServerConfigLoaded","overrides","partialConfig","_mergeDeep","defaultValue","_instance","_","source","output","_isObject","item","_options$width","_options$height","height","_options$title","_options$ariaHidden","ariaHidden","pathData","_getIconPathData","titleElement","viewBox","paths","svgString","template","trim","activeLoaders","loaderIdCounter","isMainLoaderActive","mainLoaderId","recentlyRemovedLoaders","Set","operationLog","maxLogEntries","verboseLogging","operation","details","toISOString","translationKey","translatedMessage","loader","fullscreen","inline","small","spinner","messageElement","loaderElement","_createLoaderElement","HTMLElement","getComputedStyle","getPropertyValue","_logOperation","currentId","_hideAllInlineLoaders","mainLoaderElement","newMessageElement","isMainLoader","showLoader","loaderInfo","isEarlyLoader","showMainLoader","providedId","actualMainId","_hideSpecificLoader","info","_removeLoaderElement","_this2","loaderIds","_loader$element","_loader$element2","size","clear","_loader$element$query","exists","isMain","age","inDom","wasRemoved","_cleanupOldRemovedLoaders","activeCount","recentlyRemovedCount","mainLoaderActive","operations","loaders","_ref5","_info$element$querySe","_ref6","_initializeFromGlobalConfig","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition"],"sourceRoot":""}