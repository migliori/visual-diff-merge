{"version":3,"file":"file-browser.min.js","mappings":"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","sources":["webpack://diff-files/webpack/universalModuleDefinition","webpack://diff-files/./src/utils/Debug.js","webpack://diff-files/./src/constants/Selectors.js","webpack://diff-files/./src/utils/BaseSingleton.js","webpack://diff-files/./src/utils/TranslationManager.js","webpack://diff-files/./src/utils/LoaderManager.js","webpack://diff-files/./src/utils/AlertManager.js","webpack://diff-files/./src/utils/DiffConfigManager.js","webpack://diff-files/./src/components/browser/FileBrowserManager.js","webpack://diff-files/./src/utils/IconRegistry.js","webpack://diff-files/./src/utils/DOMUtils.js","webpack://diff-files/./src/components/viewer/BrowserUIManager.js","webpack://diff-files/./src/file-browser.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn ","/**\n * Debug utility for the diff viewer\n * Provides centralized logging with configuration options\n */\n\n/* eslint-disable no-console */\n// Disable console warnings for this file only since this is the official logging utility\n\nclass DebugUtility {\n    constructor() {\n        this.enabled = false;\n        this.logHistory = [];\n        this.maxLogHistory = 100;\n        this.prefix = '[DiffViewer]';\n        this.logLevel = 1; // Default to only high-level logs\n    }\n\n    /**\n     * Initialize debug settings\n     * @param {boolean} enabled - Enable debug output\n     * @param {string} prefix - Prefix for all log messages\n     * @param {number} logLevel - Log level (1=high-level, 2=detailed, 3=verbose)\n     */\n    initialize (enabled = false, prefix = '[DiffViewer]', logLevel = 1) {\n        // Prevent reinitialization with weaker settings if already properly configured\n        if (this.enabled && this.logLevel > 1 && !enabled) {\n            console.warn(`${this.prefix} Preventing debug reinitialization with weaker settings`, {\n                current: { enabled: this.enabled, level: this.logLevel },\n                attempted: { enabled, level: logLevel }\n            });\n            return;\n        }\n\n        this.enabled = enabled;\n        this.prefix = prefix;\n        this.logLevel = logLevel; // Don't tie logLevel to enabled state\n\n        console.log('Debug initialized', { enabled: this.enabled, level: this.logLevel });\n        this.log('Debug initialized', { enabled: this.enabled, level: this.logLevel });\n    }\n\n    /**\n     * Check if a message should be logged at the given level\n     * @param {number} level - The log level of the message\n     * @returns {boolean} - Whether the message should be logged\n     */\n    shouldLog(level = 1) {\n        // Use instance state as primary source of truth\n        // Only fall back to window.diffConfig if not explicitly initialized\n        const debugEnabled = this.enabled || (this.enabled === false && window.diffConfig?.debug);\n        return debugEnabled && level <= this.logLevel;\n    }\n\n    /**\n     * Log an informational message\n     * @param {string} message - The primary message\n     * @param {any} data - Additional data to log\n     * @param {number} level - Log level (1=high-level, 2=detailed, 3=verbose)\n     */\n    log(message, data = null, level = 1) {\n        if (!this.shouldLog(level)) return;\n\n        if (data !== null) {\n            console.log(`${this.prefix} ${message}`, data);\n            this._addToHistory('log', [message, data], level);\n        } else {\n            console.log(`${this.prefix} ${message}`);\n            this._addToHistory('log', [message], level);\n        }\n    }\n\n    /**\n     * Log a warning message (always shown regardless of debug setting)\n     * @param {string} message - The primary message\n     * @param {any} data - Additional data to log\n     * @param {number} level - Log level (always shown, but stored with level)\n     */\n    warn (message, data = null, level = 1) {\n        // Warnings are always shown regardless of debug setting\n        if (data !== null) {\n            console.warn(`${this.prefix} ${message}`, data);\n            this._addToHistory('warn', [message, data], level);\n        } else {\n            console.warn(`${this.prefix} ${message}`);\n            this._addToHistory('warn', [message], level);\n        }\n    }\n\n    /**\n     * Log an error message (always shown regardless of debug setting)\n     * @param {string} message - The primary message\n     * @param {any} data - Additional data to log\n     * @param {number} level - Log level (always shown, but stored with level)\n     */\n    error(message, data = null, level = 1) {\n        // Errors are always shown regardless of debug setting\n        if (data !== null) {\n            console.error(`${this.prefix} ${message}`, data);\n            this._addToHistory('error', [message, data], level);\n        } else {\n            console.error(`${this.prefix} ${message}`);\n            this._addToHistory('error', [message], level);\n        }\n    }\n\n    /**\n     * Get debug log history\n     * @param {number} maxLevel - Maximum level to include (1=high-level only, 3=all)\n     * @returns {Array} Log history filtered by level\n     */\n    getLogHistory(maxLevel = this.logLevel) {\n        if (maxLevel >= this.logLevel) {\n            return [...this.logHistory];\n        }\n        return this.logHistory.filter(entry => entry.level <= maxLevel);\n    }\n\n    /**\n     * Clear debug log history\n     */\n    clearLogHistory() {\n        this.logHistory = [];\n        this.log('Log history cleared');\n    }\n\n    /**\n     * Add entry to log history\n     * @private\n     * @param {string} type - Log type (log, warn, error)\n     * @param {Array} args - Message arguments\n     * @param {number} level - Log level\n     */\n    _addToHistory(type, args, level) {\n        this.logHistory.push({\n            timestamp: new Date(),\n            type,\n            message: args,\n            level\n        });\n\n        // Prevent excessive memory usage\n        if (this.logHistory.length > this.maxLogHistory) {\n            this.logHistory.shift();\n        }\n    }\n}\n\n// Create singleton instance\nconst Debug = new DebugUtility();\n\n// Export the singleton\nexport { Debug };\n","/**\n * Centralized selectors for DOM elements\n * Using this object allows for easier maintenance and refactoring\n * All selectors include their prefix (# for IDs, . for classes)\n */\n\n// Import Debug for warning messages\nimport { Debug } from '../utils/Debug';\n\n// Create a proxy handler to intercept property access\nconst selectorHandler = {\n  get(target, prop) {\n    // Handle the name() method\n    if (prop === 'name') {\n      return function() {\n        if (target.startsWith('#') || target.startsWith('.')) {\n          return target.substring(1);\n        } else {\n          Debug.warn(`Selector '${target}' doesn't start with '.' or '#' but name() was called on it`);\n          return target;\n        }\n      };\n    }\n\n    // Add toString method to allow direct usage in DOM methods\n    if (prop === 'toString' || prop === Symbol.toPrimitive) {\n      return function() {\n        return String(target);\n      };\n    }\n\n    // Return the original property\n    return target[prop];\n  }\n};\n\n// Function to process all selectors with the proxy\nconst processSelectors = (obj) => {\n  const result = {};\n\n  for (const key in obj) {\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      result[key] = processSelectors(obj[key]);\n    } else if (typeof obj[key] === 'string') {\n      // Apply the proxy to each selector string\n      result[key] = new Proxy(Object(String(obj[key])), selectorHandler);\n    } else {\n      result[key] = obj[key];\n    }\n  }\n\n  return result;\n};\n\n// Override utility selectors with values from window.diffConfig.ui if available\nconst getUtilitySelectors = () => {\n  // Default utility selectors\n  const defaultUtilitySelectors = {\n    BUTTON: '.vdm-btn',\n    BUTTON_PRIMARY: '.vdm-btn--primary',\n    BUTTON_SECONDARY: '.vdm-btn--secondary',\n    BUTTON_INFO: '.vdm-btn--info',\n    BUTTON_SUCCESS: '.vdm-btn--success',\n    BUTTON_WARNING: '.vdm-btn--warning',\n    BUTTON_DANGER: '.vdm-btn--danger',\n    BUTTON_FLAT: '.vdm-btn--flat',\n    BUTTON_SMALL: '.vdm-btn-sm',\n    BUTTON_EXTRA_SMALL: '.vdm-btn-xs',\n    BUTTON_LARGE: '.vdm-btn-lg',\n    ALERT: '.vdm-alert',\n    ALERT_PREFIX: '.vdm-alert--',\n    ALERT_INFO: '.vdm-alert--info',\n    ALERT_SUCCESS: '.vdm-alert--success',\n    ALERT_WARNING: '.vdm-alert--warning',\n    ALERT_DANGER: '.vdm-alert--danger',\n    FORM_SELECT: '.vdm-select',\n    FORM_SELECT_SM: '.vdm-select-sm',\n    FLEX: '.vdm-d-flex',\n    FLEX_COLUMN: '.vdm-flex-column',\n    JUSTIFY_CONTENT_BETWEEN: '.vdm-justify-content-between',\n    JUSTIFY_CONTENT_CENTER: '.vdm-justify-content-center',\n    ALIGN_ITEMS_CENTER: '.vdm-align-items-center',\n    ALIGN_ITEMS_STRETCH: '.vdm-align-items-stretch',\n    PADDING_2: '.vdm-p-2',\n    PADDING_3: '.vdm-p-3',\n    MARGIN_2: '.vdm-m-2',\n    MARGIN_TOP_2: '.vdm-mt-2',\n    MARGIN_BOTTOM_2: '.vdm-mb-2',\n    MARGIN_START_1: '.vdm-ms-1',\n    MARGIN_START_2: '.vdm-ms-2',\n    MARGIN_END_2: '.vdm-me-2',\n    MARGIN_END_3: '.vdm-me-3',\n    MARGIN_X_1: '.vdm-mx-1',\n    MARGIN_Y_2: '.vdm-my-2',\n    MARGIN_END_1: '.vdm-me-1'\n  };\n\n  // If window.diffConfig exists and has UI settings, override with those\n  if (window.diffConfig && window.diffConfig.ui) {\n    try {\n      // Map PHP ui settings to our selector format\n      if (window.diffConfig.ui.button) {\n        defaultUtilitySelectors.BUTTON = '.' + window.diffConfig.ui.button;\n      }\n      if (window.diffConfig.ui.buttonPrimary) {\n        defaultUtilitySelectors.BUTTON_PRIMARY = '.' + window.diffConfig.ui.buttonPrimary;\n      }\n      if (window.diffConfig.ui.buttonSecondary) {\n        defaultUtilitySelectors.BUTTON_SECONDARY = '.' + window.diffConfig.ui.buttonSecondary;\n      }\n      if (window.diffConfig.ui.buttonInfo) {\n        defaultUtilitySelectors.BUTTON_INFO = '.' + window.diffConfig.ui.buttonInfo;\n      }\n      if (window.diffConfig.ui.buttonSuccess) {\n        defaultUtilitySelectors.BUTTON_SUCCESS = '.' + window.diffConfig.ui.buttonSuccess;\n      }\n      if (window.diffConfig.ui.buttonWarning) {\n        defaultUtilitySelectors.BUTTON_WARNING = '.' + window.diffConfig.ui.buttonWarning;\n      }\n      if (window.diffConfig.ui.buttonDanger) {\n        defaultUtilitySelectors.BUTTON_DANGER = '.' + window.diffConfig.ui.buttonDanger;\n      }\n      if (window.diffConfig.ui.buttonFlat) {\n        defaultUtilitySelectors.BUTTON_FLAT = '.' + window.diffConfig.ui.buttonFlat;\n      }\n      if (window.diffConfig.ui.alert) {\n        defaultUtilitySelectors.ALERT = '.' + window.diffConfig.ui.alert;\n      }\n      if (window.diffConfig.ui.alertInfo) {\n        defaultUtilitySelectors.ALERT_INFO = '.' + window.diffConfig.ui.alertInfo;\n      }\n      if (window.diffConfig.ui.alertSuccess) {\n        defaultUtilitySelectors.ALERT_SUCCESS = '.' + window.diffConfig.ui.alertSuccess;\n      }\n      if (window.diffConfig.ui.alertWarning) {\n        defaultUtilitySelectors.ALERT_WARNING = '.' + window.diffConfig.ui.alertWarning;\n      }\n      if (window.diffConfig.ui.alertDanger) {\n        defaultUtilitySelectors.ALERT_DANGER = '.' + window.diffConfig.ui.alertDanger;\n      }\n\n      Debug.log('Overriding UI selectors with config values', window.diffConfig.ui, 2);\n    } catch (e) {\n      Debug.error('Error applying UI selector overrides from config', e, 1);\n    }\n  }\n\n  return defaultUtilitySelectors;\n};\n\nconst baseSelectors = {\n    // Code display\n    CODE: {\n        LINE_CONTENT: '.vdm-code__line-content',\n        LINE_EMPTY: '.vdm-code__line--empty',\n        LINE_NUMBER: '.vdm-code__line-number',\n        TABLE: '.vdm-code__table'\n    },\n\n    // Container elements\n    CONTAINER: {\n        ROOT: '#vdm-container',\n        WRAPPER: '#vdm-container__wrapper'\n    },\n\n    // Copy functionality\n    COPY: {\n        BUTTON: '.vdm-code__copy-btn',\n        COPIED: '.vdm-code__copy--copied',\n        ICON: '.vdm-code__copy-icon',\n        MODAL: {\n            ACTIONS: '.vdm-modal__copy-actions',\n            BUTTON: '.vdm-modal__copy-btn',\n            DIALOG: '.vdm-modal__copy-dialog',\n            INSTRUCTIONS: '.vdm-modal__copy-instructions',\n            TEXTAREA: '.vdm-modal__copy-textarea-container',\n            TEXTAREA_ELEM: '.vdm-modal__copy-textarea'\n        },\n        PROCESSING: '.vdm-code__copy--processing',\n        TEXT: '.vdm-code__copy-text'\n    },\n\n    // Diff viewer elements\n    DIFF: {\n        CHECK_ALL_BTN: '.vdm-check-all-btn',\n        CHUNK: '.vdm-diff__chunk',\n        CHUNK_SELECTED: '.vdm-diff__chunk--selected',\n        CHUNK_UNSELECTED: '.vdm-diff__chunk--unselected',\n        CONTAINER: '#vdm-diff__container',\n        CONTENT_WRAPPER: '#vdm-diff__content-wrapper',\n        LINE_ADD: '.vdm-diff__line--add',\n        LINE_CONTENT: '.vdm-code__line-content',\n        LINE_CONTENT_EMPTY: '.vdm-code__line-content--empty',\n        LINE_DELETE: '.vdm-diff__line--delete',\n        LINE_PLACEHOLDER: '.vdm-diff__line--placeholder',\n        LINE_REPLACE_LEFT: '.vdm-diff__line--replace-left',\n        LINE_REPLACE_RIGHT: '.vdm-diff__line--replace-right',\n        // LOADING selector removed - use Selectors.LOADER.MAIN instead\n        PANE: '.vdm-diff__pane',\n        PANE_CONTENT: '.vdm-diff__pane-content',\n        PANE_HEADER: '.vdm-pane-header',\n        PANE_LEFT: '#vdm-diff__pane--left',\n        PANE_RIGHT: '#vdm-diff__pane--right',\n        PANES_CONTAINER: '.vdm-diff__panes-container',\n        PLACEHOLDER: '.vdm-diff__placeholder',\n        TABLE_WRAPPER: '.vdm-diff__table-wrapper',\n        VIEWER: '#vdm-diff__viewer'\n    },\n\n    // Icon markers\n    ICONS: {\n        COLUMN: '.vdm-icon__column',\n        MARKER: '.vdm-icon__marker',\n        MARKER_PLACEHOLDER: '.vdm-icon__marker--placeholder',\n        SELECT: '.vdm-icon__select',\n        SELECT_LEFT: '.vdm-icon__select--left',\n        SELECT_RIGHT: '.vdm-icon__select--right'\n    },\n\n    // Loader elements\n    LOADER: {\n        ACTIVE: '.vdm-loader--active',\n        CONTAINER: '.vdm-loader__container',\n        FULLSCREEN: '.vdm-loader--fullscreen',\n        INDICATOR: '#vdm-loader__indicator',\n        INLINE: '.vdm-loader--inline',\n        MAIN: '#vdm-diff__loading', // Main application loader (previously DIFF.LOADING)\n        SPINNER: '.vdm-loader__spinner',\n        TEXT: '.vdm-loader__text',\n        WRAPPER: '.vdm-loader__wrapper'\n    },\n\n    // Merge controls\n    MERGE: {\n        BUTTON_APPLY: '#vdm-merge__button--apply',\n        BUTTON_PREVIEW: '#vdm-merge__button--preview',\n        CONFLICT_MODAL: '#vdm-merge__conflict-modal',\n        CONTROLS_ACTIONS: '.vdm-merge-controls__actions',\n        DESTINATION_DROPDOWN: '#vdm-merge__destination-dropdown',\n        DESTINATION_TOGGLE: '#vdm-merge__destination-toggle',\n        GET_MERGED_RESULT_BTN: '#vdm-merge__get-merged-result-btn',\n        MODAL: '#vdm-merge__modal',\n        PREVIEW_CONTENT: '#vdm-merge__preview-content',\n        PREVIEW_MODAL: '#vdm-merge__preview-modal',\n        TOGGLE_ICON: '#vdm-merge-controls__toggle-icon',\n        TOGGLE_TEXT: '#vdm-merge-controls__toggle-text'\n    },\n\n    // Modal dialogs\n    MODAL: {\n        BACKDROP: '#vdm-modal-backdrop',\n        CLOSE: '.vdm-modal__close',\n        CLOSE_BTN: '.vdm-modal__close', // Changed from ID to class\n        CODE_COPY: '#vdm-modal--code-copy',\n        CONFIRM: '#vdm-modal--confirm',\n        CONFIRMATION_CONTENT: '#vdm-modal__confirmation-content',\n        CONTAINER: '.vdm-modal',\n        CONTENT: '.vdm-modal__content',\n        CONTINUE_BTN: '#vdm-modal__continue-btn',\n        COPY_CONTENT: '#vdm-modal__copy-content',\n        FIXED_FOOTER: '.vdm-modal--fixed-footer',\n        FOOTER: '.vdm-modal__footer',\n        FULLSCREEN: '.vdm-modal--fullscreen',\n        HEADER: '.vdm-modal__header',\n        HEADER_FIXED: '.vdm-modal__header--fixed',\n        MERGE_BTN: '#vdm-modal__merge-btn',\n        MESSAGE: '#vdm-modal__message',\n        PREVIEW: '#vdm-modal--preview',\n        PREVIEW_CONTENT: '.vdm-modal__preview-content',\n        PREVIEW_CONTENT_ID: '#vdm-merge__preview-content',\n        PREVIEW_FILENAME: '#vdm-modal__preview-filename',\n        TITLE: '.vdm-modal__title'\n    },\n\n    // Navigation\n    NAVIGATION: {\n        CONTAINER: '.vdm-nav__controls',\n        COUNTER: '#vdm-nav__counter',\n        COUNTER_ELEMENT: '.vdm-navigator__counter',\n        HIGHLIGHT: '.vdm-highlight',\n        NAV_CHUNK: '.vdm-nav__chunk',\n        NEXT_BUTTON: '#vdm-nav__button--next',\n        PREV_BUTTON: '#vdm-nav__button--prev'\n    },\n\n    // Status indicators\n    STATUS: {\n        LOADED: '.vdm-status__loaded',\n        RESOLVED: '.vdm-status__resolved',\n        SCROLLED: '.vdm-status__scrolled-horizontally',\n        UNRESOLVED: '.vdm-status__unresolved'\n    },\n\n    // Theme and appearance\n    THEME: {\n        DARK: '.vdm-theme--dark',\n        LIGHT: '.vdm-theme--light',\n        LOADING_INDICATOR: '#vdm-theme__loading-indicator',\n        MODE_PREFIX: '.vdm-theme',\n        SELECTOR: '#vdm-theme__selector',\n        SWITCHER: '#vdm-theme-switcher',\n        TOGGLE: '#vdm-theme__toggle'\n    },\n\n    // Theme switcher components\n    THEME_SWITCHER: {\n        CONTROL: '.vdm-theme-switcher__control',\n        LABEL: '.vdm-theme-switcher__label',\n        SLIDER: '.vdm-theme-switcher__slider',\n        SLIDER_ROUND: '.vdm-theme-switcher__slider--round',\n        WRAPPER: '.vdm-theme-switcher__wrapper'\n    },\n\n    // Theme selector components\n    THEME_SELECTOR: {\n        WRAPPER: '.vdm-theme-selector__wrapper'\n    },\n\n    // Tooltips\n    TOOLTIP: {\n        ARROW: '.vdm-tooltip__arrow',\n        CONTAINER: '.vdm-tooltip',\n        CONTENT: '.vdm-tooltip__content'\n    },\n\n    // Utility classes - these can be overridden from PHP config\n    UTILITY: getUtilitySelectors()\n};\n\n// Process the selectors to add the name functionality\nconst Selectors = processSelectors(baseSelectors);\n\nexport default Selectors;\n","/**\n * Base singleton implementation to standardize pattern across components\n */\nexport class BaseSingleton {\n    /**\n     * Get the singleton instance - must be implemented by subclasses\n     * @returns {BaseSingleton} The singleton instance\n     */\n    static getInstance() {\n        throw new Error('getInstance() must be implemented by subclass');\n    }\n\n    /**\n     * Check if this instance is already instantiated\n     * @protected\n     * @param {Object} instanceVar - The module-level instance variable\n     * @returns {boolean} True if this is the first initialization\n     */\n    _isFirstInstance(instanceVar) {\n        return !instanceVar;\n    }\n}\n","/**\n * Translation Manager\n * Provides centralized access to translations throughout the application\n */\nimport { BaseSingleton } from './BaseSingleton';\nimport { Debug } from './Debug';\n\n/**\n * Singleton class that manages translations across the application\n */\nexport class TranslationManager extends BaseSingleton {\n    /**\n     * @private\n     * Singleton instance\n     */\n    static _instance = null;\n\n    /**\n     * Get the singleton instance\n     * @returns {TranslationManager} The singleton instance\n     */\n    static getInstance() {\n        if (!TranslationManager._instance) {\n            TranslationManager._instance = new TranslationManager();\n            Debug.log('TranslationManager: Instance created', null, 2);\n        }\n        return TranslationManager._instance;\n    }\n\n    /**\n     * Constructor - private, use getInstance()\n     */\n    constructor() {\n        super();\n        this.translations = {};\n        this.lang = 'en';\n        this.initialized = false;\n\n        // IMPORTANT: Initialize immediately with window.diffConfig if available\n        this._initializeFromGlobalConfig();\n    }\n\n    /**\n     * Try to initialize from global config immediately\n     * @private\n     */\n    _initializeFromGlobalConfig() {\n        if (window.diffConfig && window.diffConfig.translations) {\n            Debug.log('TranslationManager: Auto-initializing from window.diffConfig', window.diffConfig.translations, 2);\n            this.initialize(\n                window.diffConfig.lang || 'en',\n                window.diffConfig.translations\n            );\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Initialize with language and translations\n     * @param {string} lang - The language code\n     * @param {Object} translations - Translation key-value pairs\n     */\n    initialize(lang = 'en', translations = {}) {\n        this.lang = lang;\n        this.translations = translations;\n        this.initialized = true;\n        Debug.log(`TranslationManager: Initialized with \"${lang}\" language`, this.translations, 2);\n    }\n\n    /**\n     * Get a translation by key\n     * @param {string} key - The translation key\n     * @param {string} defaultValue - Default value if key not found (defaults to key itself)\n     * @returns {string} The translated text or default value\n     */\n    get(key, defaultValue = null) {\n        // If not initialized and window.diffConfig exists, try to initialize from there\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n\n        // Check if we have translations for the current language\n        if (this.translations[this.lang] && this.translations[this.lang][key]) {\n            return this.translations[this.lang][key];\n        }\n\n        // Fallback to English if the key exists there\n        if (this.translations['en'] && this.translations['en'][key]) {\n            Debug.log(`TranslationManager: Key \"${key}\" not found in \"${this.lang}\", using English fallback`, null, 2);\n            return this.translations['en'][key];\n        }\n\n        // Use provided default or key itself\n        return defaultValue !== null ? defaultValue : key;\n    }\n\n    /**\n     * Check if initialization has been completed\n     * @returns {boolean} True if initialized\n     */\n    isInitialized() {\n        // Try to initialize if not already done\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n        return this.initialized;\n    }\n\n    /**\n     * Get the current language\n     * @returns {string} The current language code\n     */\n    getLanguage() {\n        // Try to initialize if not already done\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n        return this.lang;\n    }\n\n    /**\n     * Get all translations\n     * @returns {Object} All translations\n     */\n    getAllTranslations() {\n        // Try to initialize if not already done\n        if (!this.initialized) {\n            this._initializeFromGlobalConfig();\n        }\n        return {...this.translations};\n    }\n}\n","import Selectors from '../constants/Selectors';\n\nimport { Debug } from './Debug';\nimport { BaseSingleton } from './BaseSingleton';\nimport { TranslationManager } from './TranslationManager';\n\n/**\n * LoaderManager - Centralized utility for managing loading indicators\n *\n * This singleton class provides methods to display and hide loading indicators\n * throughout the application in a consistent manner. It supports different styles\n * of loaders including fullscreen, inline, and element-specific indicators.\n */\n\n// Module-level singleton instance\nlet instance = null;\n\n/**\n * LoaderManager class\n *\n * Provides methods to display and hide loading indicators throughout the application\n */\nexport class LoaderManager extends BaseSingleton {\n    /**\n     * Initialize the LoaderManager\n     */\n    initialize() {\n        // If already initialized, just return\n        if (this.initialized) {\n            return;\n        }\n\n        this.activeLoaders = new Map();\n        this.loaderIdCounter = 0;\n        this.isMainLoaderActive = false; // Track if main loader is active\n        this.mainLoaderId = null; // Store the ID of the main loader for reference\n        this.recentlyRemovedLoaders = new Set(); // Track recently removed loaders to prevent errors\n\n        // Track loader operations for debugging\n        this.operationLog = [];\n        this.maxLogEntries = 20;\n\n        // Set flag to remember log level in debug mode\n        this.verboseLogging = Debug.isInitialized ? Debug.logLevel > 2 : false;\n\n        // Mark as initialized\n        this.initialized = true;\n    }\n\n    /**\n     * Get the singleton instance\n     * @returns {LoaderManager} Instance\n     */\n    static getInstance() {\n        if (!instance) {\n            instance = new LoaderManager();\n            instance.initialize();\n        }\n        return instance;\n    }\n\n    /**\n     * Log an operation for debugging\n     * @private\n     */\n    _logOperation(operation, details) {\n        // Keep a short log history for debugging\n        if (this.operationLog.length >= this.maxLogEntries) {\n            this.operationLog.shift(); // Remove oldest entry\n        }\n\n        this.operationLog.push({\n            timestamp: new Date().toISOString(),\n            operation,\n            details\n        });\n    }\n\n    /**\n     * Create a loader element with the given message\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Options for the loader\n     * @returns {HTMLElement} The loader element\n     * @private\n     */\n    _createLoaderElement(message, options = {}) {\n        // Use an early translation if TranslationManager is available\n        if (message && typeof message === 'string' && message.startsWith('$') && TranslationManager.getInstance().isInitialized()) {\n            const translationKey = message.substring(1);\n            const translatedMessage = TranslationManager.getInstance().get(translationKey);\n            if (translatedMessage) {\n                message = translatedMessage;\n            }\n        }\n\n        const loader = document.createElement('div');\n        loader.className = 'vdm-loader';\n\n        if (options.fullscreen) {\n            loader.classList.add('vdm-loader--fullscreen');\n        }\n\n        if (options.inline) {\n            loader.classList.add('vdm-loader--inline');\n        }\n\n        if (options.small) {\n            loader.classList.add('vdm-loader--small');\n        }\n\n        if (options.container) {\n            loader.classList.add('vdm-loader--container');\n        }\n\n        if (options.className) {\n            loader.classList.add(options.className);\n        }\n\n        if (options.zIndex) {\n            loader.style.zIndex = options.zIndex;\n        }\n\n        // Create spinner\n        const spinner = document.createElement('div');\n        spinner.className = 'vdm-loader__spinner';\n        loader.appendChild(spinner);\n\n        // Add message if provided\n        if (message) {\n            const messageElement = document.createElement('div');\n            messageElement.className = 'vdm-loader__message';\n            messageElement.textContent = message;\n            loader.appendChild(messageElement);\n        }\n\n        return loader;\n    }\n\n    /**\n     * Show a loading indicator\n     *\n     * @param {string} message - Message to display with the loader\n     * @param {Object} options - Options for the loader\n     * @param {boolean} options.fullscreen - Whether to show a fullscreen loader\n     * @param {boolean} options.inline - Whether to show an inline loader\n     * @param {boolean} options.small - Whether to show a small loader\n     * @param {string} options.className - Additional CSS class to add to the loader\n     * @param {HTMLElement} options.target - Target element to add the loader to\n     * @param {number} options.zIndex - Z-index for the loader\n     * @returns {string} ID of the loader (use this to hide the specific loader)\n     */\n    showLoader(message = 'Loading...', options = {}) {\n        // If main loader is active and we're showing a fullscreen loader,\n        // reuse the main loader with updated message\n        if (this.isMainLoaderActive && this.mainLoaderId && options.fullscreen) {\n            Debug.log('LoaderManager: Reusing main loader for fullscreen request', { message }, 3);\n            this.updateLoaderMessage(this.mainLoaderId, message);\n            return this.mainLoaderId;\n        }\n\n        Debug.log('LoaderManager: Showing loader', { message, options }, 3);\n\n        const loaderId = `loader-${++this.loaderIdCounter}`;\n        const loaderElement = this._createLoaderElement(message, options);\n        loaderElement.setAttribute('data-loader-id', loaderId);\n\n        // Add loader to the correct target element\n        if (options.target && options.target instanceof HTMLElement) {\n            // If the target has position: static, change to relative for proper positioning\n            const targetPosition = window.getComputedStyle(options.target).getPropertyValue('position');\n            if (targetPosition === 'static') {\n                options.target.style.position = 'relative';\n            }\n            options.target.appendChild(loaderElement);\n        } else {\n            document.body.appendChild(loaderElement);\n        }\n\n        // Store reference to the loader\n        this.activeLoaders.set(loaderId, {\n            element: loaderElement,\n            target: options.target || document.body,\n            fullscreen: !!options.fullscreen,\n            timestamp: Date.now()\n        });\n\n        // Remove from recently removed list if it's there (unlikely but possible with ID reuse)\n        this.recentlyRemovedLoaders.delete(loaderId);\n\n        this._logOperation('show', { id: loaderId, message, type: 'regular' });\n\n        // Add showing class to trigger CSS transitions if any\n        setTimeout(() => {\n            if (loaderElement.parentNode) {\n                loaderElement.classList.add('vdm-loader--showing');\n            }\n        }, 10);\n\n        return loaderId;\n    }\n\n    /**\n     * Show the main application loader and hide all other loaders\n     *\n     * @param {string} message - Optional message to display\n     * @param {Object} options - Additional options for the loader\n     * @returns {string} ID of the loader\n     */\n    showMainLoader(message = 'Loading...', options = {}) {\n        Debug.log('LoaderManager: Showing main loader', { message }, 2);\n\n        // If main loader is already active, just update the message and return the existing ID\n        if (this.isMainLoaderActive && this.mainLoaderId && this.activeLoaders.has(this.mainLoaderId)) {\n            Debug.log('LoaderManager: Main loader already active, updating message', {\n                currentId: this.mainLoaderId,\n                message\n            }, 2);\n\n            this.updateLoaderMessage(this.mainLoaderId, message);\n            return this.mainLoaderId;\n        }\n\n        // Hide all other loaders when showing the main one\n        this._hideAllInlineLoaders();\n\n        // Get the main loader element if it exists in the DOM\n        const mainLoaderElement = document.getElementById(Selectors.LOADER.MAIN.name());\n\n        if (mainLoaderElement) {\n            // If the element already exists in the DOM, just show it\n            mainLoaderElement.style.display = 'flex';\n            mainLoaderElement.classList.add(Selectors.LOADER.ACTIVE.name());\n\n            // If it has a message element, update it\n            const messageElement = mainLoaderElement.querySelector('.vdm-loader__message');\n            if (messageElement) {\n                messageElement.textContent = message;\n            } else if (message) {\n                // Create message element if it doesn't exist but message is provided\n                const newMessageElement = document.createElement('div');\n                newMessageElement.className = 'vdm-loader__message';\n                newMessageElement.textContent = message;\n                mainLoaderElement.appendChild(newMessageElement);\n            }\n\n            // Generate an ID for this loader instance\n            const loaderId = `main-loader-${++this.loaderIdCounter}`;\n\n            // Store reference\n            this.activeLoaders.set(loaderId, {\n                element: mainLoaderElement,\n                target: document.body,\n                isMainLoader: true,\n                timestamp: Date.now()\n            });\n\n            // Update tracking\n            this.isMainLoaderActive = true;\n            this.mainLoaderId = loaderId;\n\n            // Remove from recently removed list if it's there\n            this.recentlyRemovedLoaders.delete(loaderId);\n\n            this._logOperation('show', { id: loaderId, message, type: 'main-existing' });\n\n            return loaderId;\n        } else {\n            // If the element doesn't exist, create it using showLoader\n            const loaderId = this.showLoader(message, {\n                fullscreen: true,\n                className: Selectors.LOADER.MAIN.name(),\n                zIndex: 9999,\n                ...options\n            });\n\n            // Mark this as the main loader\n            const loaderInfo = this.activeLoaders.get(loaderId);\n            if (loaderInfo) {\n                loaderInfo.isMainLoader = true;\n                loaderInfo.element.id = Selectors.LOADER.MAIN.name();\n            }\n\n            // Update tracking\n            this.isMainLoaderActive = true;\n            this.mainLoaderId = loaderId;\n\n            this._logOperation('show', { id: loaderId, message, type: 'main-new' });\n\n            return loaderId;\n        }\n    }\n\n    /**\n     * Show a loading indicator early in the page lifecycle before DiffViewer initialization\n     * This is specifically for components that need to show loaders before the main app initializes\n     *\n     * @param {string} message - Message to display with the loader\n     * @param {Object} options - Options for the loader\n     * @returns {string} ID of the loader\n     */\n    showEarlyLoader(message = 'Loading...', options = {}) {\n        // If debug is already initialized, use it, otherwise don't log\n        if (Debug.isInitialized) {\n            Debug.log('LoaderManager: Showing early loader', { message }, 2);\n        }\n\n        // Create a loader that will become the main loader\n        const loaderId = this.showLoader(message, {\n            fullscreen: true,\n            className: Selectors.LOADER.MAIN.name(),\n            zIndex: 9999,\n            ...options\n        });\n\n        // Mark this as the main loader\n        const loaderInfo = this.activeLoaders.get(loaderId);\n        if (loaderInfo) {\n            loaderInfo.isMainLoader = true;\n            loaderInfo.isEarlyLoader = true; // Mark as an early loader\n            loaderInfo.element.id = Selectors.LOADER.MAIN.name();\n        }\n\n        // Update tracking\n        this.isMainLoaderActive = true;\n        this.mainLoaderId = loaderId;\n\n        this._logOperation('show', { id: loaderId, message, type: 'early-loader' });\n\n        return loaderId;\n    }\n\n    /**\n     * Convert an early loader to the main loader to ensure continuity\n     * Call this method from enableDiffViewer to take over an existing early loader\n     *\n     * @param {string} message - Optional new message to display\n     * @returns {string} ID of the main loader\n     */\n    adoptEarlyLoader(message = null) {\n        // If there's no active main loader, create one\n        if (!this.isMainLoaderActive || !this.mainLoaderId) {\n            if (Debug.isInitialized) {\n                Debug.log('LoaderManager: No early loader to adopt, creating new main loader', null, 2);\n            }\n            return this.showMainLoader(message);\n        }\n\n        // Update the message if provided\n        if (message) {\n            this.updateLoaderMessage(this.mainLoaderId, message);\n        }\n\n        if (Debug.isInitialized) {\n            Debug.log('LoaderManager: Adopted early loader as main loader', { id: this.mainLoaderId }, 2);\n        }\n\n        return this.mainLoaderId;\n    }\n\n    /**\n     * Hide the main loader\n     *\n     * @param {string} loaderId - Optional ID of the loader to hide\n     * @returns {boolean} Success status\n     */\n    hideMainLoader(loaderId = null) {\n        Debug.log('LoaderManager: Hiding main loader', { loaderId }, 2);\n\n        // Special handling: If this was recently removed, just return success\n        if (loaderId && this.recentlyRemovedLoaders.has(loaderId)) {\n            Debug.log('LoaderManager: Main loader was recently removed', { loaderId }, 2);\n            return true;\n        }\n\n        // If main loader isn't active, silently succeed\n        if (!this.isMainLoaderActive) {\n            Debug.log('LoaderManager: Main loader not active, nothing to hide', null, 2);\n            return true;\n        }\n\n        // If loaderId is provided but doesn't match the main loader ID, verify it\n        if (loaderId && loaderId !== this.mainLoaderId) {\n            const loaderInfo = this.activeLoaders.get(loaderId);\n            // If it's not found or not a main loader, use the stored main loader ID\n            if (!loaderInfo?.isMainLoader) {\n                Debug.log('LoaderManager: Using stored main loader ID',\n                    { providedId: loaderId, actualMainId: this.mainLoaderId }, 2);\n                loaderId = this.mainLoaderId;\n            }\n        } else if (!loaderId) {\n            // If no ID provided, use the stored main loader ID\n            loaderId = this.mainLoaderId;\n        }\n\n        // If we couldn't determine a loader ID or it doesn't exist anymore,\n        // try to clean up by element ID\n        if (!loaderId || !this.activeLoaders.has(loaderId)) {\n            const mainLoaderElement = document.getElementById(Selectors.LOADER.MAIN.name());\n            if (mainLoaderElement) {\n                mainLoaderElement.style.display = 'none';\n                if (mainLoaderElement.parentNode) {\n                    mainLoaderElement.parentNode.removeChild(mainLoaderElement);\n                }\n                Debug.log('LoaderManager: Removed main loader by element ID', null, 2);\n            }\n\n            // Reset state\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n            return true;\n        }\n\n        // Now hide the specific loader\n        const success = this._hideSpecificLoader(loaderId);\n\n        if (success) {\n            // Remember we removed this loader so we don't try to hide it again\n            this.recentlyRemovedLoaders.add(loaderId);\n\n            // Update state\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n\n            this._logOperation('hide', { id: loaderId, type: 'main' });\n        }\n\n        return success;\n    }\n\n    /**\n     * Hide all inline loaders (internal method)\n     * @private\n     */\n    _hideAllInlineLoaders() {\n        Debug.log('LoaderManager: Hiding all inline loaders', null, 3);\n\n        // Find all inline loaders\n        const inlineLoaderIds = Array.from(this.activeLoaders.entries())\n            .filter(([_id, info]) => !info.isMainLoader && !info.fullscreen)\n            .map(([id]) => id);\n\n        // Hide each one\n        inlineLoaderIds.forEach(id => {\n            this._hideSpecificLoader(id);\n\n            // Remember we removed this loader\n            this.recentlyRemovedLoaders.add(id);\n\n            this._logOperation('hide', { id, type: 'inline-batch' });\n        });\n\n        // Also look for any inline loaders in the DOM that might not be tracked\n        document.querySelectorAll('.vdm-loader--inline').forEach(loader => {\n            this._removeLoaderElement(loader);\n            this._logOperation('hide', { element: 'untracked-inline', type: 'dom-query' });\n        });\n    }\n\n    /**\n     * Hide a specific loader by ID\n     *\n     * @param {string} loaderId - ID of the loader to hide\n     * @returns {boolean} Success status\n     */\n    hideLoader(loaderId) {\n        // If no loaderId specified, hide all loaders\n        if (!loaderId) {\n            Debug.log('LoaderManager: Hiding all loaders', null, 3);\n            const loaderIds = Array.from(this.activeLoaders.keys());\n            let success = true;\n\n            loaderIds.forEach(id => {\n                if (!this._hideSpecificLoader(id)) {\n                    success = false;\n                }\n\n                // Remember we removed this loader\n                this.recentlyRemovedLoaders.add(id);\n\n                this._logOperation('hide', { id, type: 'all-batch' });\n            });\n\n            // Reset main loader tracking\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n\n            return success;\n        }\n\n        // Special handling: If this was recently removed, just return success\n        if (this.recentlyRemovedLoaders.has(loaderId)) {\n            Debug.log('LoaderManager: Loader was recently removed', { loaderId }, 2);\n            return true;\n        }\n\n        // Case: this is the main loader\n        if (loaderId === this.mainLoaderId) {\n            return this.hideMainLoader(loaderId);\n        }\n\n        // Hide a specific loader\n        Debug.log('LoaderManager: Hiding loader', { loaderId }, 3);\n        const success = this._hideSpecificLoader(loaderId);\n\n        if (success) {\n            // Remember we removed this loader\n            this.recentlyRemovedLoaders.add(loaderId);\n\n            this._logOperation('hide', { id: loaderId, type: 'specific' });\n        }\n\n        return success;\n    }\n\n    /**\n     * Internal method to hide a specific loader\n     *\n     * @param {string} loaderId - ID of the loader to hide\n     * @returns {boolean} Success status\n     * @private\n     */\n    _hideSpecificLoader(loaderId) {\n        // Special handling: If this was recently removed, just return success\n        if (this.recentlyRemovedLoaders.has(loaderId)) {\n            Debug.log('LoaderManager: Loader was recently removed (in _hideSpecificLoader)', { loaderId }, 3);\n            return true;\n        }\n\n        const loader = this.activeLoaders.get(loaderId);\n\n        if (!loader) {\n            Debug.log('LoaderManager: No loader found to hide', { loaderId }, 2);\n            return false;\n        }\n\n        // Update main loader status if this was a main loader\n        if (loader.isMainLoader) {\n            this.isMainLoaderActive = false;\n            this.mainLoaderId = null;\n        }\n\n        // Check if the element still exists in DOM\n        if (!loader.element?.parentNode) {\n            // Element is already removed, just clean up our tracking\n            this.activeLoaders.delete(loaderId);\n            Debug.log('LoaderManager: Loader element was already removed from DOM', { loaderId }, 3);\n            return true;\n        }\n\n        // Remove the loader element with transition\n        this._removeLoaderElement(loader.element);\n        this.activeLoaders.delete(loaderId);\n\n        // Remember we removed this loader\n        this.recentlyRemovedLoaders.add(loaderId);\n\n        return true;\n    }\n\n    /**\n     * Remove a loader element with transition\n     *\n     * @param {HTMLElement} loaderElement - Loader element to remove\n     * @private\n     */\n    _removeLoaderElement(loaderElement) {\n        // First remove the showing class to trigger CSS transitions if any\n        loaderElement.classList.remove('vdm-loader--showing');\n\n        // Wait for transition to complete before removing the element\n        setTimeout(() => {\n            if (loaderElement.parentNode) {\n                loaderElement.parentNode.removeChild(loaderElement);\n            }\n        }, 300); // Match this timing with CSS transition duration\n    }\n\n    /**\n     * Show a loader in a specific container (useful for buttons, etc.)\n     *\n     * @param {HTMLElement} container - Container element to add the loader to\n     * @param {string} message - Optional message to display\n     * @param {Object} options - Options for the loader\n     * @returns {string} ID of the loader\n     */\n    showLoaderInContainer(container, message = '', options = {}) {\n        const loaderId = this.showLoader(message, {\n            target: container,\n            container: true,\n            small: true,\n            ...options\n        });\n\n        this._logOperation('show', { id: loaderId, message, type: 'container' });\n\n        return loaderId;\n    }\n\n    /**\n     * Update an existing loader's message\n     *\n     * @param {string} loaderId - ID of the loader to update\n     * @param {string} message - New message to display\n     * @returns {boolean} Success status\n     */\n    updateLoaderMessage(loaderId, message) {\n        // Don't log anything when recently removed IDs are encountered\n        // This eliminates the spam in the console for removed loaders\n        if (loaderId && this.recentlyRemovedLoaders.has(loaderId)) {\n            return true; // Silently succeed\n        }\n\n        // If this is a falsy ID and main loader is active, use the main loader\n        if (!loaderId && this.isMainLoaderActive && this.mainLoaderId) {\n            loaderId = this.mainLoaderId;\n            Debug.log('LoaderManager: Using main loader ID for message update', { mainLoaderId: loaderId }, 3);\n        }\n\n        const loader = this.activeLoaders.get(loaderId);\n\n        if (!loader) {\n            // Only log at level 2 if we're in verbose mode (reduces noise)\n            if (this.verboseLogging) {\n                Debug.log('LoaderManager: No loader found to update message', { loaderId }, 2);\n            }\n            return false;\n        }\n\n        // Check if element still exists in DOM\n        if (!loader.element?.parentNode) {\n            Debug.log('LoaderManager: Loader element was removed from DOM', { loaderId }, 3);\n            this.activeLoaders.delete(loaderId);\n            this.recentlyRemovedLoaders.add(loaderId);\n            return false;\n        }\n\n        const messageElement = loader.element.querySelector('.vdm-loader__message');\n\n        if (messageElement) {\n            messageElement.textContent = message;\n            this._logOperation('update', { id: loaderId, message, type: 'existing-element' });\n            return true;\n        } else if (message) {\n            // Create message element if it doesn't exist but a message is provided\n            const newMessageElement = document.createElement('div');\n            newMessageElement.className = 'vdm-loader__message';\n            newMessageElement.textContent = message;\n            loader.element.appendChild(newMessageElement);\n            this._logOperation('update', { id: loaderId, message, type: 'new-element' });\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if a loader with the given ID exists\n     * @param {string} loaderId - Loader ID to check\n     * @returns {boolean} - Whether the loader exists\n     */\n    hasLoader(loaderId) {\n        return this.activeLoaders.has(loaderId) &&\n               !this.recentlyRemovedLoaders.has(loaderId);\n    }\n\n    /**\n     * Clean up old entries in the recentlyRemovedLoaders set to prevent memory leaks\n     * Called periodically by the system\n     */\n    _cleanupOldRemovedLoaders() {\n        // If the set gets too large, clean up old entries\n        if (this.recentlyRemovedLoaders.size > 20) {\n            // Just reset the whole set for simplicity\n            this.recentlyRemovedLoaders.clear();\n        }\n    }\n\n    /**\n     * Get debug information about a specific loader\n     * @param {string} loaderId - Loader ID to check\n     * @returns {Object|null} Loader information\n     */\n    getLoaderInfo(loaderId) {\n        if (!loaderId) return null;\n\n        const loader = this.activeLoaders.get(loaderId);\n        if (!loader) {\n            return {\n                exists: false,\n                wasRemoved: this.recentlyRemovedLoaders.has(loaderId)\n            };\n        }\n\n        return {\n            exists: true,\n            isMain: !!loader.isMainLoader,\n            fullscreen: !!loader.fullscreen,\n            message: loader.element.querySelector('.vdm-loader__message')?.textContent,\n            age: Date.now() - (loader.timestamp || 0), // milliseconds since creation\n            inDom: !!loader.element.parentNode\n        };\n    }\n\n    /**\n     * Debug method to get active loader information\n     * @returns {Object} Information about current loaders\n     */\n    getLoaderStatus() {\n        // Clean up the recently removed list to keep it tidy\n        this._cleanupOldRemovedLoaders();\n\n        return {\n            activeCount: this.activeLoaders.size,\n            recentlyRemovedCount: this.recentlyRemovedLoaders.size,\n            mainLoaderActive: this.isMainLoaderActive,\n            mainLoaderId: this.mainLoaderId,\n            operations: [...this.operationLog],\n            loaders: Array.from(this.activeLoaders.entries()).map(([id, info]) => ({\n                id,\n                isMain: !!info.isMainLoader,\n                fullscreen: !!info.fullscreen,\n                message: info.element.querySelector('.vdm-loader__message')?.textContent,\n                age: Date.now() - (info.timestamp || 0), // milliseconds since creation\n                inDom: !!info.element.parentNode\n            }))\n        };\n    }\n}\n\nexport default LoaderManager;\n","import Selectors from '../constants/Selectors';\n\nimport { BaseSingleton } from './BaseSingleton';\nimport { Debug } from './Debug';\nimport { TranslationManager } from './TranslationManager';\n\n/**\n * AlertManager - Centralized utility for managing alert messages\n *\n * This singleton class provides methods to display and hide alert messages\n * throughout the application in a consistent manner. It supports different types\n * of alerts including info, success, warning, and danger.\n */\n\n// Module-level singleton instance\nlet instance = null;\n\n/**\n * AlertManager class\n *\n * Provides methods to display and hide alert messages throughout the application\n */\nexport class AlertManager extends BaseSingleton {\n    /**\n     * Initialize the AlertManager\n     */\n    initialize() {\n        // If already initialized, just return\n        if (this.initialized) {\n            return;\n        }\n\n        this.containerId = 'vdm-alert-container';\n        this.activeAlert = null;\n        this.timeoutId = null;\n\n        // Ensure the alert container exists and store it in this.container\n        this.container = this._ensureContainer();\n\n        // Mark as initialized\n        this.initialized = true;\n\n        Debug.log('AlertManager: Initialized', null, 2);\n    }\n\n    /**\n     * Get the singleton instance\n     * @returns {AlertManager} Instance\n     */\n    static getInstance() {\n        if (!instance) {\n            instance = new AlertManager();\n            instance.initialize();\n        }\n        return instance;\n    }\n\n    /**\n     * Ensure the alert container exists in the DOM\n     * @private\n     */\n    _ensureContainer() {\n        let container = document.getElementById(this.containerId);\n\n        if (!container) {\n            container = document.createElement('div');\n            container.id = this.containerId;\n            container.className = 'vdm-alert-container';\n            container.style.position = 'fixed';\n            container.style.top = '20px';\n            container.style.left = '50%';\n            container.style.transform = 'translateX(-50%)';\n            container.style.zIndex = '9999';\n            container.style.width = 'auto';\n            container.style.maxWidth = '90%';\n\n            document.body.appendChild(container);\n            Debug.log('AlertManager: Created alert container', null, 2);\n        }\n\n        return container;\n    }\n\n    /**\n     * Create and show an alert\n     * @param {string} message - The alert message\n     * @param {string} type - The alert type: 'success', 'info', 'warning', 'error'\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} - The alert element\n     */\n    showAlert(message, type, options = {}) {\n        Debug.log('AlertManager.showAlert called with type', type, 2);\n        Debug.log('AlertManager.showAlert message', message, 3);\n\n        // Default options\n        const defaultOptions = {\n            timeout: 5000,      // Auto-dismiss after 5 seconds (0 = no auto-dismiss)\n            dismissable: true,  // Show close button\n            translate: true,    // Translate message if TranslationManager is available\n            className: '',      // Additional CSS classes\n            container: null,    // Container element (defaults to this.container)\n            targetElement: null, // Target element to place alert relative to\n            placement: 'before' // Placement relative to targetElement ('before' or 'after')\n        };\n\n        const mergedOptions = { ...defaultOptions, ...options };\n\n        // Only use the container if we're not placing relative to a target element\n        const useContainer = !mergedOptions.targetElement && (mergedOptions.container || this.container);\n\n        Debug.log('AlertManager placement options', {\n            hasTargetElement: !!mergedOptions.targetElement,\n            placement: mergedOptions.placement,\n            useContainer: !!useContainer\n        }, 3);\n\n        // Create alert element\n        const alertElement = document.createElement('div');\n\n        // Get the base alert class from Selectors if available\n        const baseAlertClass = Selectors.UTILITY.ALERT ?\n            Selectors.UTILITY.ALERT.toString().substring(1) : // Remove leading '.'\n            'vdm-alert';\n\n        // Start with base class\n        let alertClass = baseAlertClass;\n\n        // Type-specific class - use the proper format with double hyphens\n        if (type) {\n            // Use proper format from Selectors if available\n            const typeClass = type === 'info' && Selectors.UTILITY.ALERT_INFO ?\n                Selectors.UTILITY.ALERT_INFO.toString().substring(1) : // Remove leading '.'\n                `${baseAlertClass}--${type}`; // Use the proper double-hyphen format\n\n            alertClass += ` ${typeClass}`;\n        }\n\n        // Add any custom classes\n        if (mergedOptions.className) {\n            alertClass += ` ${mergedOptions.className}`;\n        }\n\n        alertElement.className = alertClass;\n        Debug.log('Alert classnames', alertElement.className, 3);\n        Debug.log('Alert selector values', {\n            selectorBase: Selectors.UTILITY.ALERT ? Selectors.UTILITY.ALERT.toString() : 'vdm-alert',\n            selectorType: type ? `${baseAlertClass}--${type}` : 'none'\n        }, 3);\n\n        // Translate message if needed\n        let finalMessage = message;\n        if (mergedOptions.translate && typeof TranslationManager !== 'undefined') {\n            const translationManager = TranslationManager.getInstance();\n            if (translationManager && typeof translationManager.get === 'function') {\n                finalMessage = translationManager.get(message, message);\n            }\n        }\n\n        // Set content\n        alertElement.innerHTML = finalMessage;\n\n        // Add close button if dismissable\n        if (mergedOptions.dismissable) {\n            const closeButton = document.createElement('button');\n            // Fix the close button class to match the CSS definition\n            closeButton.className = 'vdm-alert__close';\n            closeButton.innerHTML = '&times;';\n            closeButton.setAttribute('aria-label', 'Close');\n            closeButton.setAttribute('type', 'button');\n            alertElement.appendChild(closeButton);\n\n            // Add click event for close button\n            closeButton.addEventListener('click', () => this.hideAlert(alertElement));\n            Debug.log('Close button', closeButton ? 'found' : 'not found', 3);\n        }\n\n        // Add to container or place relative to target element\n        if (mergedOptions.targetElement) {\n            Debug.log('AlertManager: Placing alert relative to target element', {\n                target: mergedOptions.targetElement,\n                placement: mergedOptions.placement\n            }, 3);\n\n            if (mergedOptions.placement === 'before') {\n                // Insert before the target element\n                mergedOptions.targetElement.parentNode.insertBefore(alertElement, mergedOptions.targetElement);\n            } else if (mergedOptions.placement === 'after') {\n                // Insert after the target element\n                if (mergedOptions.targetElement.nextSibling) {\n                    mergedOptions.targetElement.parentNode.insertBefore(alertElement, mergedOptions.targetElement.nextSibling);\n                } else {\n                    mergedOptions.targetElement.parentNode.appendChild(alertElement);\n                }\n            }\n        } else if (useContainer) {\n            // Regular container append if no target element is specified\n            useContainer.appendChild(alertElement);\n            Debug.log('Alert appended to container', null, 3);\n        } else {\n            // Fallback to body if no container and no target element\n            document.body.appendChild(alertElement);\n            Debug.log('Alert appended to body', null, 3);\n        }\n\n        // Store reference to the active alert\n        this.activeAlert = alertElement;\n\n        // Set up auto-dismiss\n        if (mergedOptions.timeout > 0) {\n            this.timeoutId = setTimeout(() => {\n                this.hideAlert(alertElement);\n            }, mergedOptions.timeout);\n        }\n\n        Debug.log('Returning alert element', alertElement, 3);\n        return alertElement;\n    }\n\n    /**\n     * Hide the current alert if one exists\n     * @param {HTMLElement} alertElement - Optional specific alert element to hide\n     */\n    hideAlert(alertElement = null) {\n        // Clear any existing timeout\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = null;\n        }\n\n        // If a specific alert element is provided, remove it\n        if (alertElement?.parentNode) {\n            alertElement.parentNode.removeChild(alertElement);\n            Debug.log('AlertManager: Hiding specific alert', null, 3);\n\n            // If this was the active alert, clear the reference\n            if (this.activeAlert === alertElement) {\n                this.activeAlert = null;\n            }\n            return;\n        }\n\n        // Otherwise, remove the active alert if it exists\n        if (this.activeAlert?.parentNode) {\n            this.activeAlert.parentNode.removeChild(this.activeAlert);\n            this.activeAlert = null;\n            Debug.log('AlertManager: Hiding active alert', null, 3);\n        }\n    }\n\n    /**\n     * Show an info alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showInfo(message, options = {}) {\n        return this.showAlert(message, 'info', options);\n    }\n\n    /**\n     * Show a success alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showSuccess(message, options = {}) {\n        return this.showAlert(message, 'success', options);\n    }\n\n    /**\n     * Show a warning alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showWarning(message, options = {}) {\n        return this.showAlert(message, 'warning', options);\n    }\n\n    /**\n     * Show a danger/error alert\n     *\n     * @param {string} message - Message to display\n     * @param {Object} options - Alert options\n     * @returns {HTMLElement} The alert element\n     */\n    showError(message, options = {}) {\n        return this.showAlert(message, 'danger', options);\n    }\n}\n\nexport default AlertManager;\n","/**\n * DiffConfigManager.js\n *\n * Singleton utility to centralize management of the diffConfig configuration object.\n * This provides a single source of truth for the diffConfig settings used throughout the application.\n */\n\nimport { Debug } from './Debug';\n\n/**\n * Manages the diffConfig configuration settings as a singleton\n */\nexport class DiffConfigManager {\n    /**\n     * Private instance - follows singleton pattern\n     * @type {DiffConfigManager}\n     * @private\n     */\n    static #instance = null;\n\n    /**\n     * Private constructor - use getInstance() instead\n     * @private\n     */\n    constructor() {\n        // Track if server config has been loaded to avoid multiple loads\n        this._serverConfigLoaded = false;\n\n        // Initialize window.diffConfig if it doesn't exist\n        if (typeof window !== 'undefined' && !window.diffConfig) {\n            Debug.log('DiffConfigManager: Initializing empty window.diffConfig', null, 2);\n            window.diffConfig = {\n                debug: false,\n                logLevel: 1,\n                old: {},\n                new: {}\n            };\n        } else if (typeof window !== 'undefined' && window.diffConfig) {\n            Debug.log('DiffConfigManager: Using existing window.diffConfig', window.diffConfig, 2);\n        }\n    }\n\n    /**\n     * Load configuration from server if needed\n     * @returns {Promise<void>}\n     */\n    async ensureServerConfigLoaded() {\n        // Only load server config once to avoid overriding runtime values\n        if (this._serverConfigLoaded) {\n            Debug.log('DiffConfigManager: Server config already loaded, skipping', null, 2);\n            return;\n        }\n\n        // Check if we already have a server-provided apiBaseUrl\n        if (typeof window !== 'undefined' && window.diffConfig?.apiBaseUrl) {\n            Debug.log('DiffConfigManager: Server config already loaded with apiBaseUrl', window.diffConfig.apiBaseUrl, 2);\n            this._serverConfigLoaded = true;\n            return;\n        }\n\n        try {\n            Debug.log('DiffConfigManager: Loading server configuration...', null, 2);\n\n            // Try to determine the API base URL from script location\n            let apiBaseUrl = '';\n            const scripts = document.querySelectorAll('script[src*=\"visual-diff-merge\"]');\n            if (scripts.length > 0) {\n                const scriptSrc = scripts[0].src;\n                const match = scriptSrc.match(/^(.+\\/visual-diff-merge[^\\/]*)\\//);\n                if (match) {\n                    apiBaseUrl = match[1] + '/api/';\n                }\n            }\n\n            if (!apiBaseUrl) {\n                Debug.log('DiffConfigManager: Could not determine API base URL from script location', null, 2);\n                return;\n            }\n\n            // Fetch configuration from server\n            const configResponse = await fetch(apiBaseUrl + 'endpoint-config.php');\n            if (configResponse.ok) {\n                const serverConfig = await configResponse.json();\n\n                // The endpoint returns the config directly, not nested in a 'javascript' property\n                if (serverConfig && typeof serverConfig === 'object') {\n                    Debug.log('DiffConfigManager: Loaded server configuration', serverConfig, 2);\n                    if (typeof window !== 'undefined') {\n                        // Preserve existing serverSaveEnabled if it's already set\n                        const existingServerSaveEnabled = window.diffConfig?.serverSaveEnabled;\n                        window.diffConfig = { ...(window.diffConfig || {}), ...serverConfig };\n\n                        // Don't override serverSaveEnabled if it was already explicitly set\n                        if (existingServerSaveEnabled !== undefined && !serverConfig.hasOwnProperty('serverSaveEnabled')) {\n                            window.diffConfig.serverSaveEnabled = existingServerSaveEnabled;\n                            Debug.log('DiffConfigManager: Preserved existing serverSaveEnabled', existingServerSaveEnabled, 2);\n                        }\n\n                        // Mark as loaded to prevent future loads\n                        this._serverConfigLoaded = true;\n                    }\n                }\n            } else {\n                Debug.warn('DiffConfigManager: Failed to load server configuration', configResponse.status, 1);\n            }\n        } catch (error) {\n            Debug.warn('DiffConfigManager: Error loading server configuration', error, 1);\n        } finally {\n            // Mark as loaded even if there was an error to prevent retries\n            this._serverConfigLoaded = true;\n        }\n    }\n\n    /**\n     * Get the singleton instance\n     * @returns {DiffConfigManager} The singleton instance\n     */\n    static getInstance() {\n        if (!DiffConfigManager.#instance) {\n            DiffConfigManager.#instance = new DiffConfigManager();\n        }\n        return DiffConfigManager.#instance;\n    }\n\n    /**\n     * Initialize with configuration\n     * @param {Object} config - The initial configuration\n     */\n    async initialize(config = {}) {\n        Debug.log('DiffConfigManager: Initializing with config', config, 2);\n\n        // Check if serverSaveEnabled is already set in window.diffConfig\n        const hasRuntimeServerSaveEnabled = typeof window !== 'undefined' &&\n            window.diffConfig &&\n            window.diffConfig.hasOwnProperty('serverSaveEnabled');\n\n        // Only load server config if we don't have runtime values already set\n        if (!hasRuntimeServerSaveEnabled) {\n            await this.ensureServerConfigLoaded();\n        } else {\n            Debug.log('DiffConfigManager: Skipping server config load - serverSaveEnabled already set',\n                window.diffConfig.serverSaveEnabled, 2);\n        }\n\n        // Then apply the provided config\n        if (typeof window !== 'undefined') {\n            window.diffConfig = { ...(window.diffConfig || {}), ...config };\n        } else {\n            Debug.error('DiffConfigManager: Cannot initialize, window is not available', null, 1);\n        }\n    }\n\n    /**\n     * Get the current diffConfig (reference to window.diffConfig)\n     * @returns {Object} The current diffConfig\n     */\n    getDiffConfig() {\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn('DiffConfigManager: window.diffConfig is not available', null, 1);\n            return {};\n        }\n        return window.diffConfig;\n    }\n\n    /**\n     * Set a new diffConfig, completely replacing the current one\n     * @param {Object} config - The new configuration to use\n     */\n    setDiffConfig(config = {}) {\n        Debug.log('DiffConfigManager: Setting new diffConfig', config, 2);\n        if (typeof window !== 'undefined') {\n            window.diffConfig = { ...config };\n        } else {\n            Debug.error('DiffConfigManager: Cannot set config, window is not available', null, 1);\n        }\n    }\n\n    /**\n     * Safely set a new diffConfig while preserving critical runtime values\n     * This method preserves fileRefId, oldFileRefId, and other runtime properties\n     * that should not be overwritten by server responses\n     * @param {Object} config - The new configuration to use\n     */\n    setDiffConfigSafe(config = {}) {\n        Debug.log('DiffConfigManager: Setting new diffConfig safely (preserving runtime values)', config, 2);\n        \n        if (typeof window === 'undefined') {\n            Debug.error('DiffConfigManager: Cannot set config, window is not available', null, 1);\n            return;\n        }\n\n        // Define critical runtime properties that should be preserved\n        const criticalRuntimeProps = [\n            'fileRefId',\n            'oldFileRefId', \n            'newFileName',\n            'oldFileName',\n            'serverSaveEnabled'\n        ];\n\n        // Preserve existing critical values\n        const preservedValues = {};\n        criticalRuntimeProps.forEach(prop => {\n            if (window.diffConfig && window.diffConfig[prop] !== undefined && window.diffConfig[prop] !== null && window.diffConfig[prop] !== '') {\n                preservedValues[prop] = window.diffConfig[prop];\n                Debug.log(`DiffConfigManager: Preserving existing ${prop}`, window.diffConfig[prop], 3);\n            }\n        });\n\n        // Set the new config\n        window.diffConfig = { ...config };\n\n        // Restore preserved values (they take precedence over server values)\n        Object.entries(preservedValues).forEach(([key, value]) => {\n            window.diffConfig[key] = value;\n            Debug.log(`DiffConfigManager: Restored critical runtime property ${key}`, value, 3);\n        });\n\n        Debug.log('DiffConfigManager: Safe setDiffConfig completed', {\n            preservedCount: Object.keys(preservedValues).length,\n            preserved: Object.keys(preservedValues)\n        }, 2);\n    }\n\n    /**\n     * Reset the diffConfig to default values, possibly with new overrides\n     * @param {Object} overrides - Optional configuration overrides to apply after reset\n     */\n    reset(overrides = {}) {\n        Debug.log('DiffConfigManager: Resetting diffConfig with overrides', overrides, 2);\n        if (typeof window !== 'undefined') {\n            window.diffConfig = {\n                debug: false,\n                logLevel: 1,\n                old: {},\n                new: {},\n                ...overrides\n            };\n        } else {\n            Debug.error('DiffConfigManager: Cannot reset config, window is not available', null, 1);\n        }\n    }\n\n    /**\n     * Update part of the configuration\n     * @param {Object} partialConfig - The partial configuration to update\n     */\n    update(partialConfig = {}) {\n        Debug.log('DiffConfigManager: Updating diffConfig with', partialConfig, 3);\n\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn('DiffConfigManager: window.diffConfig not available for update', null, 1);\n            return;\n        }\n\n        // Check if the partialConfig has a nested 'config' property\n        if (partialConfig && partialConfig.config && typeof partialConfig.config === 'object') {\n            Debug.log('DiffConfigManager: Extracting nested config property', partialConfig.config, 3);\n            // Use the nested config object instead of the wrapper\n            window.diffConfig = this.#mergeDeep(window.diffConfig, partialConfig.config);\n        } else {\n            // Use the original object if no nested config property\n            window.diffConfig = this.#mergeDeep(window.diffConfig, partialConfig);\n        }\n    }\n\n    /**\n     * Set a specific configuration value by key\n     * @param {string} key - The configuration key\n     * @param {*} value - The value to set\n     */\n    set(key, value) {\n        Debug.log(`DiffConfigManager: Setting ${key}`, value, 3);\n        if (typeof window !== 'undefined' && window.diffConfig) {\n            window.diffConfig[key] = value;\n        } else {\n            Debug.error(`DiffConfigManager: Cannot set ${key}, window.diffConfig not available`, null, 1);\n        }\n    }\n\n    /**\n     * Get a specific configuration value by key\n     * @param {string} key - The configuration key\n     * @param {*} defaultValue - Default value if the key doesn't exist\n     * @returns {*} The configuration value\n     */\n    get(key, defaultValue = null) {\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn(`DiffConfigManager: Cannot get ${key}, window.diffConfig not available`, null, 1);\n            return defaultValue;\n        }\n        return key in window.diffConfig ? window.diffConfig[key] : defaultValue;\n    }\n\n    /**\n     * Check if a configuration key exists\n     * @param {string} key - The configuration key to check\n     * @returns {boolean} True if the key exists\n     */\n    has(key) {\n        if (typeof window === 'undefined' || !window.diffConfig) {\n            Debug.warn(`DiffConfigManager: Cannot check ${key}, window.diffConfig not available`, null, 1);\n            return false;\n        }\n        return key in window.diffConfig;\n    }\n\n    /**\n     * Remove a specific configuration key\n     * @param {string} key - The configuration key to remove\n     */\n    remove(key) {\n        if (typeof window !== 'undefined' && window.diffConfig && key in window.diffConfig) {\n            Debug.log(`DiffConfigManager: Removing ${key}`, null, 3);\n            delete window.diffConfig[key];\n        } else {\n            Debug.warn(`DiffConfigManager: Cannot remove ${key}, not found or window.diffConfig not available`, null, 1);\n        }\n    }\n\n    /**\n     * Deep merge two objects recursively\n     * @param {Object} target - Target object\n     * @param {Object} source - Source object to merge\n     * @returns {Object} The merged object\n     * @private\n     */\n    #mergeDeep(target, source) {\n        const output = { ...target };\n\n        if (this.#isObject(target) && this.#isObject(source)) {\n            Object.keys(source).forEach(key => {\n                if (this.#isObject(source[key])) {\n                    if (!(key in target)) {\n                        output[key] = source[key];\n                    } else {\n                        output[key] = this.#mergeDeep(target[key], source[key]);\n                    }\n                } else {\n                    output[key] = source[key];\n                }\n            });\n        }\n\n        return output;\n    }\n\n    /**\n     * Check if a value is an object\n     * @param {*} item - The value to check\n     * @returns {boolean} True if the value is an object\n     * @private\n     */\n    #isObject(item) {\n        return (item && typeof item === 'object' && !Array.isArray(item));\n    }\n}\n\nexport default DiffConfigManager;\n","/**\n * File Browser Manager\n * Handles file selection, comparison, and diff visualization\n *\n * This component is responsible for the file browser UI in diff-viewer/file-browser.php\n */\n\nimport Selectors from '../../constants/Selectors';\nimport { Debug } from '../../utils/Debug';\nimport { TranslationManager } from '../../utils/TranslationManager';\nimport { LoaderManager } from '../../utils/LoaderManager';\nimport AlertManager from '../../utils/AlertManager';\nimport { DiffConfigManager } from '../../utils/DiffConfigManager';\n\n/**\n * Manages the file browser UI and functionality\n */\nexport class FileBrowserManager {\n    /**\n     * @param {Object} options - Configuration options\n     */\n    constructor(options = {}) {\n        // Check if we have the new single select or the old dual selects\n        this.compareFileSelect = document.getElementById('compare-file');\n        this.oldFileSelect = document.getElementById('old-file');\n        this.newFileSelect = document.getElementById('new-file');\n\n        // Debug: Log which elements were found\n        Debug.log('FileBrowserManager: Constructor - Element detection', {\n            compareFileSelect: !!this.compareFileSelect,\n            oldFileSelect: !!this.oldFileSelect,\n            newFileSelect: !!this.newFileSelect\n        }, 2);\n\n        // Initialize loader manager\n        this.loaderManager = LoaderManager.getInstance();\n\n        // Initialize translation manager\n        this.translationManager = TranslationManager.getInstance();\n\n        // Initialize asynchronously to ensure server config is loaded\n        this.initAsync(options);\n    }\n\n    /**\n     * Async initialization to ensure server config is loaded first\n     * @param {Object} options - Configuration options\n     */\n    async initAsync(options = {}) {\n        try {\n            // Initialize the DiffConfigManager with the options\n            const configManager = DiffConfigManager.getInstance();\n            await configManager.initialize({\n                container: 'vdm-diff__viewer',\n                ...options\n            });\n\n            // Now proceed with normal initialization\n            this.init();\n        } catch (error) {\n            Debug.error('FileBrowserManager: Error during async initialization', error, 1);\n            // Proceed with normal initialization even if server config failed\n            this.init();\n        }\n    }\n\n    /**\n     * Initialize the file browser\n     */\n    init() {\n        Debug.log('FileBrowserManager: Initializing', null, 2);\n\n        // Check if we have the new single select system\n        if (this.compareFileSelect) {\n            Debug.log('FileBrowserManager: Using new single file select system', null, 2);\n            // No need for sync in single select mode\n        } else if (this.oldFileSelect && this.newFileSelect) {\n            Debug.log('FileBrowserManager: Using legacy dual file select system', null, 2);\n            // Add event listeners to selectors for legacy mode\n            this.oldFileSelect.addEventListener('change', () => this.syncFileSelections());\n            this.newFileSelect.addEventListener('change', () => {\n                // When user manually selects a new file, we don't sync\n            });\n        } else {\n            Debug.warn('FileBrowserManager: No valid file select elements found', null, 1);\n        }\n\n        // Form submit handler\n        const form = document.getElementById('vdm-file-comparison-form');\n        if (form) {\n            form.addEventListener('submit', (event) => this.handleComparison(event));\n        } else {\n            Debug.warn('FileBrowserManager: Form element not found', null, 1);\n        }\n\n        // Initial sync\n        this.syncFileSelections();\n\n        Debug.log('FileBrowserManager: Initialization complete', null, 2);\n    }\n\n    /**\n     * Handle file comparison form submission\n     * @param {Event} event - Form submit event\n     */\n    async handleComparison(event) {\n        event.preventDefault();\n        Debug.log('FileBrowserManager: Handling comparison', null, 2);\n\n        // Get the AlertManager instance to clear any existing alerts\n        const alertManager = AlertManager.getInstance();\n        alertManager.hideAlert();\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n\n        // Clear any existing content immediately before loading new content\n        this.clearUI();\n\n        // Show the container wrapper if it's hidden\n        if (containerWrapper?.classList.contains('vdm-d-none')) {\n            containerWrapper.classList.remove('vdm-d-none');\n        }\n\n        // Show an early loader before starting the process\n        const loaderId = this.loaderManager.showEarlyLoader(\n            this.translationManager.get('loadingContent', 'Processing content...')\n        );\n\n        try {\n            // Clean up previous instances first\n            this.cleanupPreviousInstance();\n\n            // 1. Gather selected file data\n            const fileData = this.getSelectedFilesData();\n\n            // 2. Fetch file contents\n            this.loaderManager.updateLoaderMessage(loaderId, this.translationManager.get('loadingContent', 'Loading file contents...'));\n            const contents = await this.fetchFileContents(fileData);\n\n            // Check for identical content\n            if (contents.old === contents.new) {\n                Debug.log('FileBrowserManager: File contents are identical', null, 2);\n                this.loaderManager.hideMainLoader(loaderId);\n                this.handleIdenticalContent();\n                return;\n            }\n\n            // 3. Configure diffConfig\n            this.configureDiffData(fileData, contents);\n\n            // 4. Process diff data\n            this.loaderManager.updateLoaderMessage(loaderId, this.translationManager.get('processingChunks', 'Processing diff...'));\n            const result = await this.processDiff();\n\n            // Skip if identical content\n            if (result.identical) {\n                Debug.log('FileBrowserManager: Files contain identical content according to backend', null, 2);\n                this.loaderManager.hideMainLoader(loaderId);\n                this.handleIdenticalContent();\n                return;\n            }\n\n            // 5. Update diffConfig with result - preserving runtime values\n            const configManager = DiffConfigManager.getInstance();\n\n            // Use the safe setDiffConfig method to preserve critical runtime values like fileRefId\n            configManager.setDiffConfigSafe(result);\n\n            Debug.log('FileBrowserManager: DiffConfig updated safely with preserved runtime values', {\n                fileRefId: window.diffConfig.fileRefId,\n                oldFileRefId: window.diffConfig.oldFileRefId,\n                serverSaveEnabled: window.diffConfig.serverSaveEnabled\n            }, 1);\n\n            // 6. Initialize the UI manager\n            this.loaderManager.updateLoaderMessage(loaderId, this.translationManager.get('loadingDiff', 'Initializing viewer...'));\n            const uiManagerSuccess = await this.initializeUIManager();\n\n            if (!uiManagerSuccess) {\n                Debug.error('FileBrowserManager: Failed to initialize UI manager', null, 1);\n                this.loaderManager.hideMainLoader(loaderId);\n                return;\n            }\n\n            // 7. Initialize diff viewer\n            await this.initializeDiffViewer();\n\n            // Note: We don't hide the loader here since DiffViewer will adopt it\n        } catch (error) {\n            Debug.error('FileBrowserManager: Error during comparison', error, 1);\n            // Hide the loader if there's an error\n            this.loaderManager.hideMainLoader(loaderId);\n\n            // Get elements for error display\n            const viewerElement = document.getElementById('vdm-diff__viewer');\n            this.handleError(error, null, viewerElement);\n        }\n    }\n\n    /**\n     * Clean up previous instances\n     */\n    cleanupPreviousInstance() {\n        // Clean up previous instances if they exist\n        if (window.diffViewer) {\n            try {\n                Debug.log('FileBrowserManager: Cleaning up previous DiffViewer instance', null, 2);\n                window.diffViewer.destroy();\n                window.diffViewer = null;\n            } catch (e) {\n                Debug.warn('FileBrowserManager: Error destroying previous diffViewer', e, 1);\n            }\n        }\n\n        if (window.vdmBrowserUIManager) {\n            try {\n                Debug.log('FileBrowserManager: Cleaning up previous BrowserUIManager instance', null, 2);\n                window.vdmBrowserUIManager.destroy();\n                window.vdmBrowserUIManager = null;\n            } catch (e) {\n                Debug.warn('FileBrowserManager: Error destroying previous BrowserUIManager', e, 1);\n            }\n        }\n    }\n\n    /**\n     * Initialize the UI manager\n     * @returns {Promise<boolean>} Success status\n     */\n    async initializeUIManager() {\n        Debug.log('FileBrowserManager: Initializing UI manager', null, 2);\n\n        // Import the BrowserUIManager if available\n        if (typeof BrowserUIManager !== 'undefined') {\n            try {\n                // Create new instance with the global window.diffConfig\n                window.vdmBrowserUIManager = new BrowserUIManager(window.diffConfig);\n\n                // Initialize with container\n                const initResult = await window.vdmBrowserUIManager.initialize(Selectors.CONTAINER.WRAPPER);\n\n                if (initResult) {\n                    return true;\n                } else {\n                    Debug.warn('FileBrowserManager: BrowserUIManager initialize returned false, falling back to manual UI creation', null, 1);\n                    return this.createBasicUIElements();\n                }\n            } catch (error) {\n                Debug.error('FileBrowserManager: BrowserUIManager initialize failed', error, 1);\n                Debug.warn('FileBrowserManager: Falling back to manual UI creation due to BrowserUIManager error', null, 1);\n                return this.createBasicUIElements();\n            }\n        } else {\n            Debug.warn('FileBrowserManager: BrowserUIManager not available, UI elements must be created manually', null, 1);\n            // Fallback: Create basic UI elements manually\n            return this.createBasicUIElements();\n        }\n    }\n\n    /**\n     * Initialize the diff viewer\n     * @returns {Promise<boolean>} Success status\n     */\n    async initializeDiffViewer() {\n        Debug.log('FileBrowserManager: Initializing diff viewer', null, 2);\n\n        // Check if DiffViewer is available\n        if (typeof DiffViewer !== 'undefined') {\n            const configManager = DiffConfigManager.getInstance();\n\n            // Update container with correct selector ID\n            configManager.set('container', Selectors.DIFF.VIEWER.replace('#', ''));\n\n            // Ensure the runtime properties are set at the top level where DiffViewer expects them\n            if (!window.diffConfig.fileRefId && window.diffConfig.new?.ref_id) {\n                configManager.set('fileRefId', window.diffConfig.new.ref_id);\n                Debug.log('FileBrowserManager: Setting top-level fileRefId from new.ref_id', window.diffConfig.new.ref_id, 1);\n            }\n\n            // SECURITY: Use safe filenames and fileRefIds, not server paths\n            if (!window.diffConfig.newFileName && window.diffConfig.new?.filename) {\n                configManager.set('newFileName', window.diffConfig.new.filename);\n                Debug.log('FileBrowserManager: Setting top-level newFileName from new.filename', window.diffConfig.new.filename, 1);\n            }\n\n            // Always explicitly set serverSaveEnabled if we have file references\n            // Use the value that was just set or the current value\n            const currentFileRefId = window.diffConfig.fileRefId || window.diffConfig.new?.ref_id || '';\n            const hasFileRefs = !!(currentFileRefId || window.diffConfig.oldFileRefId || window.diffConfig.old?.ref_id);\n            configManager.set('serverSaveEnabled', hasFileRefs);\n            Debug.log('FileBrowserManager: Setting serverSaveEnabled', {\n                hasFileRefs,\n                currentFileRefId,\n                oldFileRefId: window.diffConfig.oldFileRefId || window.diffConfig.old?.ref_id\n            }, 1);\n\n            // DEBUG log the final diffConfig properties before initialization\n            Debug.log('FileBrowserManager: Final diffConfig settings before initialization', {\n                fileRefId: window.diffConfig.fileRefId,\n                oldFileRefId: window.diffConfig.oldFileRefId,\n                newFileName: window.diffConfig.newFileName,\n                oldFileName: window.diffConfig.oldFileName,\n                serverSaveEnabled: window.diffConfig.serverSaveEnabled,\n                demoEnabled: window.diffConfig.demoEnabled\n            }, 1);\n\n            // Validate the diff data before attempting to initialize\n            if (!window.diffConfig.diffData ||\n                !Array.isArray(window.diffConfig.diffData.chunks) ||\n                window.diffConfig.diffData.chunks.length === 0) {\n\n                Debug.warn('FileBrowserManager: No valid diff data found for initialization', {\n                    hasDiffData: !!window.diffConfig.diffData,\n                    diffDataKeys: window.diffConfig.diffData ? Object.keys(window.diffConfig.diffData) : []\n                }, 1);\n\n                // Get container element\n                const viewerContainer = document.getElementById(window.diffConfig.container);\n                if (viewerContainer) {\n                    viewerContainer.innerHTML = `\n                        <div class=\"${Selectors.UTILITY.ALERT_WARNING}\">\n                            <h4>No Differences Found</h4>\n                            <p>The files appear to be identical or the diff engine couldn't process them correctly.</p>\n                            <p>Try selecting different files to compare.</p>\n                        </div>\n                    `;\n                }\n\n                // Return early to prevent initialization errors\n                return false;\n            }\n\n            // Create a new DiffViewer instance\n            window.diffViewer = new DiffViewer(window.diffConfig);\n\n            // Initialize the viewer\n            const initResult = await window.diffViewer.initialize();\n\n            Debug.log('FileBrowserManager: DiffViewer initialization result', initResult, 2);\n            Debug.log('FileBrowserManager: BrowserUIManager available', !!window.vdmBrowserUIManager, 2);\n\n            // Ensure theme elements are available and visible when diff UI is successfully displayed\n            if (initResult) {\n                // Always ensure the BrowserUIManager has generated theme elements and make them visible\n                if (window.vdmBrowserUIManager) {\n                    // First ensure theme switcher exists (regenerate if needed)\n                    const themeSwitcherId = Selectors.THEME.SWITCHER.name();\n                    const themeSwitcherExists = !!document.getElementById(themeSwitcherId);\n                    Debug.log('FileBrowserManager: Theme switcher exists in DOM', themeSwitcherExists, 2);\n\n                    if (!themeSwitcherExists) {\n                        Debug.log('FileBrowserManager: Theme switcher not found, regenerating', null, 2);\n                        window.vdmBrowserUIManager.generateThemeSwitcher();\n                    }\n\n                    // Always call showThemeElements to ensure proper visibility\n                    if (typeof window.vdmBrowserUIManager.showThemeElements === 'function') {\n                        Debug.log('FileBrowserManager: Calling showThemeElements after DiffViewer initialization', null, 2);\n                        window.vdmBrowserUIManager.showThemeElements();\n                    }\n                } else {\n                    Debug.warn('FileBrowserManager: BrowserUIManager not available, cannot show theme elements', null, 1);\n                }\n            } else {\n                Debug.warn('FileBrowserManager: DiffViewer initialization failed, not showing theme elements', null, 1);\n            }\n\n            return initResult;\n        } else if (typeof window.enableDiffViewer === 'function') {\n            // Fall back to the global enableDiffViewer function if available\n            Debug.log('FileBrowserManager: DiffViewer not available, falling back to enableDiffViewer', null, 2);\n            return window.enableDiffViewer();\n        } else {\n            Debug.error('FileBrowserManager: DiffViewer not available', null, 1);\n            throw new Error('DiffViewer not available');\n        }\n    }\n\n    /**\n     * Get selected files data\n     * @returns {Object} Selected files data\n     */\n    getSelectedFilesData() {\n        Debug.log('FileBrowserManager: Getting selected files data', null, 3);\n\n        // Check if we're using the new single select system\n        if (this.compareFileSelect) {\n            Debug.log('FileBrowserManager: Using single select system', null, 3);\n\n            if (this.compareFileSelect.selectedIndex < 0) {\n                throw new Error('No file selected');\n            }\n\n            const selectedOption = this.compareFileSelect.options[this.compareFileSelect.selectedIndex];\n            if (!selectedOption) {\n                throw new Error('Selected option not found');\n            }\n\n            const oldRefId = selectedOption.getAttribute('data-old-ref-id');\n            const newRefId = selectedOption.getAttribute('data-new-ref-id');\n            const oldPath = selectedOption.getAttribute('data-old-path');\n            const newPath = selectedOption.getAttribute('data-new-path');\n\n            if (!oldRefId || !newRefId) {\n                throw new Error('Missing file reference IDs in selected option');\n            }\n\n            Debug.log('FileBrowserManager: Single select data', {\n                oldRefId, newRefId, oldPath, newPath\n            }, 3);\n\n            return {\n                old: {\n                    path: oldPath,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: oldRefId\n                },\n                new: {\n                    path: newPath,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: newRefId\n                }\n            };\n        }\n\n        // Fallback to legacy dual select system\n        if (this.oldFileSelect && this.newFileSelect) {\n            Debug.log('FileBrowserManager: Using legacy dual select system', null, 3);\n            return {\n                old: {\n                    path: this.oldFileSelect.value,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: this.oldFileSelect.options[this.oldFileSelect.selectedIndex]\n                        .getAttribute('data-ref-id')\n                },\n                new: {\n                    path: this.newFileSelect.value,\n                    // SECURITY: Only retrieve file reference ID, not server path\n                    refId: this.newFileSelect.options[this.newFileSelect.selectedIndex]\n                        .getAttribute('data-ref-id')\n                }\n            };\n        }\n\n        throw new Error('No valid file selection elements found');\n    }\n\n    /**\n     * Fetch file contents\n     * @param {Object} fileData - File data object\n     * @returns {Promise<Object>} File contents\n     */\n    async fetchFileContents(fileData) {\n        Debug.log('FileBrowserManager: Fetching file contents', fileData, 3);\n\n        // Use the API endpoint to safely retrieve file content\n        const fetchFile = async (filePath, refId) => {\n            // SECURITY: Always use fileRefId when available\n            if (refId) {\n                Debug.log('FileBrowserManager: Using reference ID for file', { filePath, refId }, 3);\n\n                // Get API URL from DiffConfigManager (which has the latest server config)\n                const configManager = DiffConfigManager.getInstance();\n                const baseApiUrl = configManager.get('apiBaseUrl') || window.diffConfig?.apiBaseUrl || '../api/';\n                const apiUrl = `${baseApiUrl}get-file-content.php?refId=${encodeURIComponent(refId)}`;\n\n                Debug.log('FileBrowserManager: API URL', { apiUrl, baseApiUrl }, 3);\n                const response = await fetch(apiUrl);\n\n                if (!response.ok) {\n                    throw new Error(`Failed to load file: ${filePath} (Status: ${response.status})`);\n                }\n\n                const data = await response.json();\n                return data.content;\n            }\n            // Last resort: try direct fetch of the file path (should be a relative path only)\n            else {\n                Debug.log('FileBrowserManager: Using direct path for file', { filePath }, 3);\n\n                // SECURITY: Ensure the path is not absolute or contains dangerous patterns\n                if (filePath.match(/^(\\/|\\\\|https?:|file:|[a-zA-Z]:\\\\)/i)) {\n                    throw new Error(`Invalid file path format: ${filePath}`);\n                }\n\n                const response = await fetch(filePath);\n\n                if (!response.ok) {\n                    throw new Error(`Failed to load file: ${filePath} (Status: ${response.status})`);\n                }\n\n                return await response.text();\n            }\n        };\n\n        try {\n            const oldContent = await fetchFile(fileData.old.path, fileData.old.refId);\n            const newContent = await fetchFile(fileData.new.path, fileData.new.refId);\n\n            // Check if contents are identical\n            if (oldContent === newContent) {\n                Debug.log('FileBrowserManager: Files contain identical content', null, 2);\n\n                return {\n                    old: oldContent,\n                    new: newContent,\n                    identical: true\n                };\n            }\n\n            return {\n                old: oldContent,\n                new: newContent\n            };\n        } catch (error) {\n            Debug.error('FileBrowserManager: Failed to load one or both files', error, 1);\n            throw error;\n        }\n    }\n\n    /**\n     * Configure diff data\n     * @param {Object} fileData - File data object\n     * @param {Object} contents - File contents\n     */\n    configureDiffData(fileData, contents) {\n        Debug.log('FileBrowserManager: Configuring diff data', fileData, 3);\n\n        // DEBUG: Log file reference data before configuration\n        Debug.log('FileBrowserManager: File reference data before configuration', {\n            old: {\n                refId: fileData.old.refId,\n                path: fileData.old.path\n            },\n            new: {\n                refId: fileData.new.refId,\n                path: fileData.new.path\n            }\n        }, 1);\n\n        // Extract just the filenames (not paths) for security\n        const oldFileName = fileData.old.path.split('/').pop();\n        const newFileName = fileData.new.path.split('/').pop();\n\n        const configManager = DiffConfigManager.getInstance();\n\n        // Set the old file data\n        configManager.update({\n            old: {\n                type: 'file',\n                content: contents.old,\n                path: fileData.old.path,\n                ref_id: fileData.old.refId,\n                filename: oldFileName\n            },\n            new: {\n                type: 'file',\n                content: contents.new,\n                path: fileData.new.path,\n                ref_id: fileData.new.refId,\n                filename: newFileName\n            },\n            filepath: newFileName,\n            fileRefId: fileData.new.refId || '',\n            oldFileRefId: fileData.old.refId || '',\n            newFileName: newFileName,\n            oldFileName: oldFileName,\n            serverSaveEnabled: !!(fileData.new.refId || fileData.old.refId)\n        });\n\n        // DEBUG: Log the configured diffConfig\n        Debug.log('FileBrowserManager: Configured diffConfig file references', {\n            fileRefId: window.diffConfig.fileRefId,\n            oldFileRefId: window.diffConfig.oldFileRefId,\n            newFileName: window.diffConfig.newFileName,\n            oldFileName: window.diffConfig.oldFileName,\n            serverSaveEnabled: window.diffConfig.serverSaveEnabled,\n            old: {\n                ref_id: window.diffConfig.old.ref_id,\n                filename: window.diffConfig.old.filename\n            },\n            new: {\n                ref_id: window.diffConfig.new.ref_id,\n                filename: window.diffConfig.new.filename\n            }\n        }, 1);\n    }\n\n    /**\n     * Process diff with API\n     * @returns {Promise<Object>} API response\n     */\n    async processDiff() {\n        Debug.log('FileBrowserManager: Processing diff with API', null, 2);\n        // Use endpoint discovery if available\n        let diffProcessorEndpoint;\n\n        try {\n            // Try to use the global endpoint discovery instance\n            if (window.vdmEndpointDiscovery) {\n                diffProcessorEndpoint = await window.vdmEndpointDiscovery.getEndpoint('diffProcessor');\n                Debug.log('FileBrowserManager: Endpoint discovery found endpoint', diffProcessorEndpoint, 2);\n            } else {\n                // Fall back to config or default - use DiffConfigManager for latest server config\n                const configManager = DiffConfigManager.getInstance();\n                const baseApiUrl = configManager.get('apiBaseUrl') || window.diffConfig?.apiBaseUrl || '../api/';\n                diffProcessorEndpoint = window.diffConfig?.apiEndpoints?.diffProcessor || `${baseApiUrl}diff-processor.php`;\n                Debug.log('FileBrowserManager: Using fallback endpoint', diffProcessorEndpoint, 2);\n            }\n        } catch (error) {\n            Debug.warn('FileBrowserManager: Error discovering endpoints', error, 1);\n            // Fall back to config or default - use DiffConfigManager for latest server config\n            const configManager = DiffConfigManager.getInstance();\n            const baseApiUrl = configManager.get('apiBaseUrl') || window.diffConfig?.apiBaseUrl || '../api/';\n            diffProcessorEndpoint = window.diffConfig?.apiEndpoints?.diffProcessor || `${baseApiUrl}diff-processor.php`;\n        }\n\n        const response = await fetch(diffProcessorEndpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(window.diffConfig)\n        });\n\n        if (!response.ok) {\n            Debug.error('FileBrowserManager: API request failed', {\n                status: response.status,\n                statusText: response.statusText\n            }, 1);\n            throw new Error(`API request failed: ${response.status} ${response.statusText}`);\n        }\n\n        const result = await response.json();\n\n        if (result.error) {\n            Debug.error('FileBrowserManager: API returned error', result.error, 1);\n            throw new Error(result.error);\n        }\n\n        // Initialize TranslationManager with server-provided data\n        const translationManager = TranslationManager.getInstance();\n        if (result.config && result.config.translations) {\n            const lang = result.config.lang || 'en';\n            Debug.log(`FileBrowserManager: Initializing TranslationManager with \"${lang}\" language from server response`, result.config.translations, 2);\n            translationManager.initialize(lang, result.config.translations);\n        }\n\n        // Move all properties from the nested config object to the root level\n        if (result.config && typeof result.config === 'object') {\n            Debug.log('FileBrowserManager: Moving all properties from config to root level', result.config, 2);\n\n            // Loop through all properties in config and move them to the root level\n            Object.keys(result.config).forEach(key => {\n                // Only copy if the property doesn't already exist at root level\n                // or if it does exist but is empty/undefined\n                // EXCEPTION: Never overwrite serverSaveEnabled as it's determined by FileBrowserManager\n                if (key === 'serverSaveEnabled') {\n                    Debug.log('FileBrowserManager: Preserving existing serverSaveEnabled, not overwriting from server',\n                        { existing: result.serverSaveEnabled, fromServer: result.config[key] }, 2);\n                    return; // Skip this key\n                }\n\n                if (result[key] === undefined ||\n                    (key === 'diffData' && (!result[key]?.chunks || result[key].chunks.length === 0))) {\n                    Debug.log(`FileBrowserManager: Moving ${key} from config to root level`, result.config[key], 3);\n                    result[key] = result.config[key];\n                }\n            });\n        }\n\n        return result;\n    }\n\n    /**\n     * Update diff config with API response\n     * @param {Object} result - API response\n     */\n    updateDiffConfig(result) {\n        Debug.log('FileBrowserManager: Updating diff config with API response', null, 3);\n        // Make sure we have a valid result\n        if (!result || typeof result !== 'object') {\n            Debug.error('FileBrowserManager: Invalid result from API', result, 1);\n            this.diffConfig.diffData = {\n                old: [],\n                new: [],\n                chunks: []\n            };\n            return;\n        }\n\n        // PRIORITIZE SERVER TRANSLATIONS - Do this first, before anything else\n        if (result.config?.translations) {\n            // Make sure translations are set in window.diffConfig immediately\n            if (!window.diffConfig) {\n                window.diffConfig = {};\n            }\n\n            window.diffConfig.lang = result.config.lang || 'en';\n            window.diffConfig.translations = result.config.translations;\n\n            // Also update this.diffConfig\n            this.diffConfig.lang = result.config.lang || 'en';\n            this.diffConfig.translations = result.config.translations;\n\n            Debug.log('FileBrowserManager: Server translations set in window.diffConfig', {\n                lang: window.diffConfig.lang,\n                translationCount: Object.keys(window.diffConfig.translations).length\n            }, 1);\n        }\n\n        // Add demoEnabled flag from the server response\n        if (result.config && result.config.demoEnabled !== undefined) {\n            this.diffConfig.demoEnabled = result.config.demoEnabled;\n            Debug.log('FileBrowserManager: Demo mode flag set from server', this.diffConfig.demoEnabled, 2);\n        }\n\n        // Handle case where the diffData is directly provided\n        if (result.diffData) {\n            this.diffConfig.diffData = {\n                old: result.diffData.old || [],\n                new: result.diffData.new || [],\n                chunks: result.diffData.chunks || []\n            };\n        }\n        // Handle case where diff components are at the root level\n        else if (result.old || result.new || result.chunks) {\n            this.diffConfig.diffData = {\n                old: result.old?.lines || [],\n                new: result.new?.lines || [],\n                chunks: result.chunks || []\n            };\n        }\n        // Handle case where we have data but in an unexpected format\n        else if (result.success === true && result.config) {\n            // Try to extract diffData from the config\n            if (result.config.diffData) {\n                this.diffConfig.diffData = result.config.diffData;\n            } else {\n                // Create empty structure as fallback\n                this.diffConfig.diffData = {\n                    old: [],\n                    new: [],\n                    chunks: []\n                };\n                Debug.warn('FileBrowserManager: API returned success but no diffData was found in the response', result, 2);\n            }\n        }\n        // Fallback when no recognizable diff data is found\n        else {\n            // Create empty structure as fallback\n            this.diffConfig.diffData = {\n                old: [],\n                new: [],\n                chunks: []\n            };\n            Debug.warn('FileBrowserManager: Could not extract diff data from API response', result, 2);\n        }\n\n        // Additional validations\n        if (!Array.isArray(this.diffConfig.diffData.old)) {\n            this.diffConfig.diffData.old = [];\n            Debug.warn('FileBrowserManager: diffData.old is not an array, using empty array instead', null, 2);\n        }\n\n        if (!Array.isArray(this.diffConfig.diffData.new)) {\n            this.diffConfig.diffData.new = [];\n            Debug.warn('FileBrowserManager: diffData.new is not an array, using empty array instead', null, 2);\n        }\n\n        if (!Array.isArray(this.diffConfig.diffData.chunks)) {\n            this.diffConfig.diffData.chunks = [];\n            Debug.warn('FileBrowserManager: diffData.chunks is not an array, using empty array instead', null, 2);\n        }\n\n        // Retain any other useful configuration from the result\n        if (result.config) {\n            // Extract useful configurations but avoid overriding already set values\n            const { debug, theme, apiEndpoint } = result.config;\n\n            if (debug !== undefined && this.diffConfig.debug === undefined) {\n                this.diffConfig.debug = debug;\n            }\n\n            if (theme && !this.diffConfig.theme) {\n                this.diffConfig.theme = theme;\n            }\n\n            if (apiEndpoint && !this.diffConfig.apiEndpoint) {\n                this.diffConfig.apiEndpoint = apiEndpoint;\n            }\n        }\n\n        // Preserve existing apiBaseUrl before updating window.diffConfig\n        const existingApiBaseUrl = window.diffConfig?.apiBaseUrl;\n\n        // Make diffConfig globally available\n        window.diffConfig = { ...this.diffConfig };\n\n        // Restore apiBaseUrl if it was previously set (client-side preference)\n        // But give priority to server-provided apiBaseUrl\n        if (result.config?.apiBaseUrl) {\n            // Server provided apiBaseUrl takes priority\n            window.diffConfig.apiBaseUrl = result.config.apiBaseUrl;\n            this.diffConfig.apiBaseUrl = result.config.apiBaseUrl;\n        } else if (existingApiBaseUrl) {\n            // Fall back to existing client-side apiBaseUrl\n            window.diffConfig.apiBaseUrl = existingApiBaseUrl;\n            this.diffConfig.apiBaseUrl = existingApiBaseUrl;\n        }\n    }\n\n    /**\n     * Process API response, checking for demo mode\n     * @param {Object} result - API response\n     * @returns {boolean} Whether demo mode was detected and processed\n     */\n    processDemoResponse(result) {\n        // Check if this was a demo response\n        if (result.demo && result.simulated) {\n            Debug.log('FileBrowserManager: Demo mode detected', null, 2);\n\n            // Get the alert manager\n            const alertManager = AlertManager.getInstance();\n\n            // Get translation manager for proper messaging\n            const translationManager = TranslationManager.getInstance();\n            const title = translationManager.get('demoModeTitle', 'Simulation Complete');\n            const message = result.message || translationManager.get('demoModeMessage', 'This is a demonstration only. Files will not be modified.');\n            const simulated = translationManager.get('demoModeSimulated', 'Your merge choices would have been applied successfully in a real environment.');\n\n            // Show demo message using the existing alert manager\n            const demoMessage = `\n                <strong>${title}</strong><br>\n                ${message}<br>\n                ${simulated}\n            `;\n\n            // Use the warning type to make it stand out\n            alertManager.showWarning(demoMessage, {\n                timeout: 0,\n                translate: false\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Handle error\n     * @param {Error} error - Error object\n     * @param {HTMLElement} loadingElement - Loading element\n     * @param {HTMLElement} viewerElement - Viewer element\n     */\n    handleError(error, loadingElement, viewerElement) {\n        Debug.error('FileBrowserManager: Error processing diff', error, 1);\n\n        // Hide loading indicator\n        if (loadingElement) loadingElement.style.display = 'none';\n\n        // Show error in viewer using AlertManager\n        if (viewerElement) {\n            viewerElement.style.display = 'flex';\n            viewerElement.innerHTML = ''; // Clear existing content\n\n            // Use AlertManager to create the alert\n            const alertManager = AlertManager.getInstance();\n            const errorMessage = `\n                <h4>Error Processing Diff</h4>\n                <p>${error.message}</p>\n            `;\n\n            const alertElement = alertManager.showError(errorMessage, {\n                timeout: 0, // Don't auto-dismiss\n                translate: false, // Error message doesn't need translation\n                className: 'm-3' // Add margin for better appearance\n            });\n\n            viewerElement.appendChild(alertElement);\n        }\n    }\n\n    /**\n     * Clear the UI elements before loading new content\n     * This method is called immediately when the form is submitted\n     */\n    clearUI() {\n        Debug.log('FileBrowserManager: Clearing UI', null, 2);\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n\n        if (containerWrapper) {\n            Debug.log('FileBrowserManager: Container wrapper found, current HTML length:', containerWrapper.innerHTML.length, 2);\n\n            // Log all current children before preservation\n            const currentChildren = Array.from(containerWrapper.children);\n            Debug.log('FileBrowserManager: Current children before preservation:', currentChildren.map(child => `${child.tagName}#${child.id || 'no-id'}.${child.className || 'no-class'}`), 2);\n\n            // Save elements that should be preserved before clearing\n            const elementsToPreserve = [];\n\n            // Save .vdm-user-content elements\n            const userContentElements = containerWrapper.querySelectorAll('.vdm-user-content');\n            userContentElements.forEach(element => {\n                elementsToPreserve.push(element);\n                element.remove(); // Remove from DOM temporarily\n            });\n\n            // Note: We no longer preserve theme selectors during clearUI as they will be\n            // recreated appropriately based on whether diff UI is needed or not\n\n            // Clear the container content while keeping its structure\n            Debug.log(`FileBrowserManager: Clearing container innerHTML, current content: \"${containerWrapper.innerHTML.substring(0, 100)}...\"`, null, 2);\n            containerWrapper.innerHTML = '';\n\n            // Restore only user content elements (theme selectors will be recreated as needed)\n            if (elementsToPreserve.length > 0) {\n                Debug.log(`FileBrowserManager: Restoring ${elementsToPreserve.length} preserved elements (user content only)`, null, 2);\n                elementsToPreserve.forEach((element, index) => {\n                    Debug.log(`FileBrowserManager: Restoring element ${index + 1}: ${element.tagName}#${element.id || 'no-id'}.${element.className || 'no-class'}`, null, 3);\n                    containerWrapper.appendChild(element);\n                });\n            } else {\n                Debug.log('FileBrowserManager: No elements to restore', null, 2);\n            }\n\n            // Log final state\n            const finalChildren = Array.from(containerWrapper.children);\n            Debug.log('FileBrowserManager: Final children after restoration:', finalChildren.map(child => `${child.tagName}#${child.id || 'no-id'}.${child.className || 'no-class'}`), 2);\n        }\n\n        // Clear any result messages\n        const resultContainer = document.getElementById('vdm-merge__result');\n        if (resultContainer) {\n            resultContainer.innerHTML = '';\n            resultContainer.classList.add('vdm-d-none');\n        }\n\n        // Clean up any existing dynamic elements\n        const existingViewers = document.querySelectorAll('.vdm-diff__viewer, .vdm-diff-ui');\n        existingViewers.forEach(element => {\n            element.innerHTML = '';\n            // Either remove the element or hide it\n            element.classList.add('vdm-d-none');\n        });\n\n        Debug.log('FileBrowserManager: UI cleared', null, 2);\n    }\n\n    /**\n     * Sync file selections (only for legacy dual select system)\n     */\n    syncFileSelections() {\n        Debug.log('FileBrowserManager: Syncing file selections', null, 3);\n\n        // Only sync if we're using the legacy dual select system\n        if (this.compareFileSelect) {\n            Debug.log('FileBrowserManager: Skipping sync - using single select system', null, 3);\n            return;\n        }\n\n        if (!this.oldFileSelect || !this.newFileSelect) {\n            Debug.warn('FileBrowserManager: Cannot sync file selections - select elements not found', null, 2);\n            return;\n        }\n\n        // Get the filename from the selected old file\n        const oldValue = this.oldFileSelect.value;\n        const oldFileName = oldValue.split('/').pop();\n\n        // Try to find a matching file in the new files dropdown\n        let matchFound = false;\n\n        // First try exact match\n        for (let i = 0; i < this.newFileSelect.options.length; i++) {\n            const newOption = this.newFileSelect.options[i];\n            const newFileName = newOption.value.split('/').pop();\n\n            if (newFileName === oldFileName) {\n                this.newFileSelect.selectedIndex = i;\n                matchFound = true;\n                break;\n            }\n        }\n\n        // If no exact match, try extension match\n        if (!matchFound) {\n            const fileExt = oldFileName.split('.').pop();\n            for (let i = 0; i < this.newFileSelect.options.length; i++) {\n                const newValue = this.newFileSelect.options[i].value;\n                if (newValue.endsWith('.' + fileExt)) {\n                    this.newFileSelect.selectedIndex = i;\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Handle identical content case\n     */\n    handleIdenticalContent() {\n        Debug.log('FileBrowserManager: Files contain identical content', null, 2);\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n\n        // Make sure the container wrapper is visible\n        if (containerWrapper) {\n            containerWrapper.classList.remove('vdm-d-none');\n        }\n\n        // Hide or remove theme selector when no diff UI is needed\n        this.hideThemeSelector();\n\n        // Also hide theme elements via BrowserUIManager if available\n        if (window.vdmBrowserUIManager && typeof window.vdmBrowserUIManager.hideThemeElements === 'function') {\n            window.vdmBrowserUIManager.hideThemeElements();\n        }\n\n        // Get translation manager and retrieve the message\n        const translationManager = TranslationManager.getInstance();\n        const message = translationManager.get('identicalContentMessage', 'The contents are identical. There\\'s nothing to merge.');\n\n        // Use AlertManager to create the alert\n        const alertManager = AlertManager.getInstance();\n\n        // Create alert container if it doesn't exist\n        let alertContainer = containerWrapper.querySelector('.vdm-alert-container');\n        if (!alertContainer) {\n            alertContainer = document.createElement('div');\n            alertContainer.className = 'vdm-alert-container';\n\n            // Find .vdm-user-content if it exists, otherwise prepend to containerWrapper\n            const userContent = containerWrapper.querySelector('.vdm-user-content');\n            if (userContent) {\n                userContent.after(alertContainer);\n            } else {\n                containerWrapper.prepend(alertContainer);\n            }\n        }\n\n        // Set alert container as the container for the alert\n        alertManager.container = alertContainer;\n\n        // Show the alert in the proper container\n        alertManager.showInfo(message, {\n            timeout: 0, // Don't auto-dismiss\n            translate: false, // Message is already translated\n            className: 'vdm-mb-3', // Add margin bottom for spacing\n            container: alertContainer\n        });\n\n        // Hide the diff viewer elements but keep our alert visible\n        if (containerWrapper) {\n            // Get any existing diffViewer content inside the container and hide it\n            const diffContainer = containerWrapper.querySelector(Selectors.DIFF.CONTAINER);\n            if (diffContainer) {\n                diffContainer.style.display = 'none';\n            }\n\n            Debug.log('FileBrowserManager: Hidden diff container for identical content', null, 2);\n        }\n\n        // Make sure any existing diff viewer instances are destroyed\n        this.cleanupPreviousInstance();\n    }\n\n    /**\n     * Create basic UI elements manually when BrowserUIManager is not available\n     * @returns {boolean} Success status\n     */\n    createBasicUIElements() {\n        Debug.log('FileBrowserManager: Creating basic UI elements manually', null, 2);\n\n        // Get the container wrapper element\n        const containerWrapper = document.getElementById(Selectors.CONTAINER.WRAPPER.replace('#', ''));\n        if (!containerWrapper) {\n            Debug.error('FileBrowserManager: Container wrapper not found', Selectors.CONTAINER.WRAPPER, 1);\n            return false;\n        }\n\n        // Create the main diff viewer container\n        const diffViewerId = Selectors.DIFF.VIEWER.replace('#', '');\n        let diffViewer = document.getElementById(diffViewerId);\n\n        if (!diffViewer) {\n            diffViewer = document.createElement('div');\n            diffViewer.id = diffViewerId;\n            diffViewer.className = 'vdm-diff-ui';\n            containerWrapper.appendChild(diffViewer);\n\n            Debug.log('FileBrowserManager: Created diff viewer element', { id: diffViewerId }, 2);\n        }\n\n        // Create the diff container inside the viewer\n        const diffContainerId = Selectors.DIFF.CONTAINER.replace('#', '');\n        let diffContainer = document.getElementById(diffContainerId);\n\n        if (!diffContainer) {\n            diffContainer = document.createElement('div');\n            diffContainer.id = diffContainerId;\n            diffContainer.className = 'vdm-diff__container';\n            diffViewer.appendChild(diffContainer);\n\n            Debug.log('FileBrowserManager: Created diff container element', { id: diffContainerId }, 2);\n        }\n\n        // Create the basic structure for left and right panes\n        if (!diffContainer.querySelector('.vdm-diff__pane--left')) {\n            const leftPane = document.createElement('div');\n            leftPane.className = 'vdm-diff__pane vdm-diff__pane--left';\n            leftPane.innerHTML = '<div class=\"vdm-diff__content\"></div>';\n            diffContainer.appendChild(leftPane);\n        }\n\n        if (!diffContainer.querySelector('.vdm-diff__pane--right')) {\n            const rightPane = document.createElement('div');\n            rightPane.className = 'vdm-diff__pane vdm-diff__pane--right';\n            rightPane.innerHTML = '<div class=\"vdm-diff__content\"></div>';\n            diffContainer.appendChild(rightPane);\n        }\n\n        Debug.log('FileBrowserManager: Basic UI elements created successfully', null, 2);\n        return true;\n    }\n\n    /**\n     * Hide theme selector and switcher when no diff UI is needed (identical files)\n     */\n    hideThemeSelector() {\n        Debug.log('FileBrowserManager: Hiding theme selector for identical content', null, 2);\n\n        // Hide theme switcher container\n        const themeSwitcher = document.getElementById(Selectors.THEME.SWITCHER.name());\n        if (themeSwitcher) {\n            themeSwitcher.style.display = 'none';\n            Debug.log('FileBrowserManager: Hidden theme switcher container', themeSwitcher.id, 2);\n        }\n\n        // Hide theme selector wrapper if it exists independently\n        const themeSelectorWrapper = document.querySelector(`.${Selectors.THEME_SWITCHER.WRAPPER.name()}`);\n        if (themeSelectorWrapper) {\n            themeSelectorWrapper.style.display = 'none';\n            Debug.log('FileBrowserManager: Hidden theme selector wrapper', null, 2);\n        }\n\n        // Hide individual theme selector if it exists\n        const themeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        if (themeSelector) {\n            themeSelector.style.display = 'none';\n            Debug.log('FileBrowserManager: Hidden theme selector', themeSelector.id, 2);\n        }\n    }\n}\n\n// Expose to global scope\nif (typeof window !== 'undefined') {\n    // Initialize when DOM is ready\n    document.addEventListener('DOMContentLoaded', function() {\n        window.fileBrowserManager = new FileBrowserManager();\n    });\n}\n","/**\n * Central registry for SVG icons\n * This eliminates the need for external icon libraries\n */\nexport class IconRegistry {\n    /**\n     * Get SVG markup for the specified icon\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Additional options for the icon\n     * @returns {string} SVG markup\n     */\n    static getIcon(iconName, options = {}) {\n        const {\n            classes = '',\n            width = 16,\n            height = 16,\n            title = '',\n            ariaHidden = true\n        } = options;\n\n        // Get the SVG path data\n        const pathData = this._getIconPathData(iconName);\n\n        if (!pathData) {\n            console.warn(`Icon not found: ${iconName}`);\n            return '';\n        }\n\n        // Create title element for accessibility if provided\n        const titleElement = title ? `<title>${title}</title>` : '';\n\n        // Generate the SVG with the right attributes\n        return `<svg\n            class=\"vdm-icon ${classes}\"\n            width=\"${width}\"\n            height=\"${height}\"\n            viewBox=\"${pathData.viewBox || '0 0 512 512'}\"\n            ${ariaHidden ? 'aria-hidden=\"true\"' : 'role=\"img\"'}\n            focusable=\"false\"\n        >\n            ${titleElement}\n            ${pathData.paths}\n        </svg>`;\n    }\n\n    /**\n     * Get the path data for an icon\n     * @private\n     * @param {string} iconName - Name of the icon\n     * @returns {Object|null} Icon path data or null if not found\n     */\n    static _getIconPathData(iconName) {\n        // Map of icon names to their SVG path data\n        const icons = {\n            'chevron-up': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z\"/>'\n            },\n            'chevron-down': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z\"/>'\n            },\n            'eye': {\n                viewBox: '0 0 576 512',\n                paths: '<path d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"/>'\n            },\n            'sun': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z\"/>'\n            },\n            'moon': {\n                viewBox: '0 0 384 512',\n                paths: '<path d=\"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z\"/>'\n            },\n            'file': {\n                viewBox: '0 0 384 512',\n                paths: '<path d=\"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z\"/>'\n            },\n            'file-circle-plus': {\n                viewBox: '0 0 576 512',\n                paths: '<path d=\"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384v38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM288 368a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-80c-8.8 0-16 7.2-16 16v48H368c-8.8 0-16 7.2-16 16s7.2 16 16 16h48v48c0 8.8 7.2 16 16 16s16-7.2 16-16V384h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H448V304c0-8.8-7.2-16-16-16z\"/>'\n            },\n            'file-lines': {\n                viewBox: '0 0 384 512',\n                paths: '<path d=\"M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"/>'\n            },\n            'file-copy': {\n                viewBox: '0 0 576 512',\n                paths: '<path d=\"M384 480h48c20.9 0 38.7-13.4 45.3-32H416c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16h61.3C470.7 157.4 452.9 144 432 144H384V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H384zM128 64H320V144H128V64zM400 240V416H144V192H352c26.5 0 48 21.5 48 48zm176-48c0-8.8-7.2-16-16-16H432c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H560c8.8 0 16-7.2 16-16V192z\"/>'\n            },\n            'plus-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z\"/>'\n            },\n            'exclamation-triangle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\"/>'\n            },\n            'copy': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M272 0H396.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128H192v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z\"/>'\n            },\n            // Add more icons as needed\n            'check-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"/>'\n            },\n            'chevron-right': {\n                viewBox: '0 0 320 512',\n                paths: '<path d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"/>'\n            },\n            'download': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"/>'\n            },\n            'uncheck-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24v112c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm-32 224a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/>'\n            },\n            'info-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"/>'\n            },\n            'exclamation-circle': {\n                viewBox: '0 0 512 512',\n                paths: '<path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM256 128c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/>'\n            },\n            'checkbox-unchecked': {\n                viewBox: '0 0 24 24',\n                paths: '<path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>'\n            },\n            'checkbox-checked': {\n                viewBox: '0 0 24 24',\n                paths: '<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>'\n            }\n        };\n\n        return icons[iconName] || null;\n    }\n\n    /**\n     * Create DOM element for an icon\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Additional options for the icon\n     * @returns {Element} The created SVG element\n     */\n    static createIcon(iconName, options = {}) {\n        const svgString = this.getIcon(iconName, options);\n        if (!svgString) return null;\n\n        const template = document.createElement('template');\n        template.innerHTML = svgString.trim();\n        return template.content.firstChild;\n    }\n}\n","import Selectors from '../constants/Selectors';\n\nimport { Debug } from './Debug';\nimport { IconRegistry } from './IconRegistry';\nimport AlertManager from './AlertManager';\n\n// Cache for DOM queries\nconst elementCache = new Map();\n\n/**\n * Reusable DOM manipulation utilities\n */\nexport class DOMUtils {\n    /**\n     * Set up a button handler with proper cleanup\n     * @param {string} buttonId - Button element ID\n     * @param {Function} handlerFn - Event handler function\n     * @param {string} logName - Name for logging\n     * @returns {Object|null} Handler information or null if element not found\n     */\n    static setupButtonHandler(buttonId, handlerFn, logName = '') {\n        const button = document.getElementById(buttonId);\n        if (!button) {\n            Debug.warn(`DOMUtils: Button ${buttonId} not found`, null, 2);\n            return null;\n        }\n\n        const instanceId = Date.now();\n\n        // Clean up if needed\n        if (button._handlerId && button._handlerId !== instanceId) {\n            // Clone to remove all event listeners\n            const newBtn = button.cloneNode(true);\n            if (button.parentNode) {\n                button.parentNode.replaceChild(newBtn, button);\n            }\n            Debug.log(`DOMUtils: Cleaned up previous handler for ${logName || buttonId}`, null, 2);\n            handlerFn(newBtn);\n            newBtn._handlerId = instanceId;\n            return { element: newBtn, id: instanceId };\n        } else {\n            button._handlerId = instanceId;\n            handlerFn(button);\n            return { element: button, id: instanceId };\n        }\n    }\n\n    /**\n     * Get element by ID with error handling\n     * @param {string} id - Element ID\n     * @returns {Element|null} The found element or null\n     */\n    static getElement(id) {\n        if (!id) {\n            Debug.error('DOMUtils.getElement: Empty ID provided', null, 1);\n            return null;\n        }\n\n        // Check cache first\n        if (elementCache.has(id)) {\n            return elementCache.get(id);\n        }\n\n        // Try direct getElementById first\n        let element = document.getElementById(id);\n\n        // If not found and the id doesn't include a #, try with a selector\n        if (!element) {\n            try {\n                if (!id.includes('#') && !id.includes('.')) {\n                    // If just an ID without # prefix, try with # prefix\n                    element = document.querySelector('#' + id);\n                } else {\n                    // Try as selector\n                    element = document.querySelector(id);\n                }\n            } catch (e) {\n                Debug.error(`DOMUtils.getElement: Error with selector: ${e.message}`, null, 1);\n            }\n        }\n\n        if (!element) {\n            Debug.error(`DOMUtils.getElement: Element with ID '${id}' not found`, null, 1);\n        } else {\n            // Cache the found element\n            elementCache.set(id, element);\n        }\n\n        return element;\n    }\n\n    /**\n     * Update toggle button appearance\n     * @param {string} currentValue - Current toggle value\n     * @param {Object} elements - Object containing button, icon, and text elements\n     * @param {Object} options - Configuration options\n     */\n    static updateToggleButton(currentValue, elements, options) {\n        const { toggleBtn, toggleIcon, toggleText } = elements;\n        const {\n            firstOption, secondOption,\n            firstClass, secondClass,\n            firstText, secondText,\n            firstTooltip, secondTooltip\n        } = options;\n\n        if (!toggleBtn || !toggleIcon || !toggleText) {\n            Debug.warn('DOMUtils: Missing elements for toggle button update');\n            return;\n        }\n\n        Debug.log(`DOMUtils: Updating toggle button to ${currentValue}`, null, 2);\n\n        // Set the button class based on current value\n        if (currentValue === firstOption) {\n            toggleIcon.className = firstClass;\n            toggleText.textContent = firstText;\n            toggleBtn.title = firstTooltip || firstText;\n            toggleBtn.setAttribute('data-value', firstOption);\n        } else if (currentValue === secondOption) {\n            toggleIcon.className = secondClass;\n            toggleText.textContent = secondText;\n            toggleBtn.title = secondTooltip || secondText;\n            toggleBtn.setAttribute('data-value', secondOption);\n        } else {\n            Debug.warn(`DOMUtils: Invalid toggle value: ${currentValue}`);\n        }\n    }\n\n    /**\n     * Show a standardized message in a container\n     * @param {string} containerId - Container element ID\n     * @param {string} message - Message content\n     * @param {string} type - Message type: 'info', 'success', 'warning', 'danger'\n     * @param {Object} options - Additional options\n     * @returns {boolean} Success status\n     */\n    static showMessage(containerId, message, type = 'info', options = {}) {\n        const container = document.getElementById(containerId);\n        if (!container) {\n            Debug.warn(`DOMUtils: Container #${containerId} not found for message`, null, 2);\n            return false;\n        }\n\n        // Default options\n        const {\n            _iconName = null,     // Custom icon name (preserved for backwards compatibility)\n            className = 'mt-5',  // Additional CSS classes\n            elementId = '',      // ID for created element\n            keepExisting = false // Whether to append or replace content\n        } = options;\n\n        // Use AlertManager to create the alert\n        const alertManager = AlertManager.getInstance();\n\n        // Clear existing content unless we're keeping it\n        if (!keepExisting) {\n            container.innerHTML = '';\n        }\n\n        // Check if HAS_ICON exists in UTILITY and provide a fallback if it doesn't\n        let iconClass = '';\n        try {\n            if (Selectors.UTILITY && Selectors.UTILITY.HAS_ICON) {\n                iconClass = Selectors.UTILITY.HAS_ICON.name();\n            } else {\n                // Fallback if HAS_ICON is not defined\n                iconClass = 'vdm-has-icon';\n                Debug.log('DOMUtils: Using fallback icon class because Selectors.UTILITY.HAS_ICON is undefined', null, 2);\n            }\n        } catch (e) {\n            // Fallback if any error occurs\n            iconClass = 'vdm-has-icon';\n            Debug.warn('DOMUtils: Error getting icon class, using fallback', e, 2);\n        }\n\n        // Create the alert with AlertManager\n        const alertElement = alertManager.showAlert(message, type, {\n            timeout: 0, // Don't auto-dismiss\n            translate: false, // Don't translate the message\n            className: `${iconClass} ${className}`\n        });\n\n        // Set ID if specified\n        if (elementId) {\n            alertElement.id = elementId;\n        }\n\n        // Append to container\n        container.appendChild(alertElement);\n\n        return true;\n    }\n\n    /**\n     * Toggle element visibility\n     * @param {string} elementId - Element ID\n     * @param {boolean} visible - Whether element should be visible\n     * @param {string} displayMode - Display mode when visible\n     * @returns {boolean} Success status\n     */\n    static toggleVisibility(elementId, visible, displayMode = 'block') {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for visibility toggle`, null, 2);\n            return false;\n        }\n\n        element.style.display = visible ? displayMode : 'none';\n        return true;\n    }\n\n    /**\n     * Add or remove a class from an element\n     * @param {string} elementId - Element ID\n     * @param {string} className - Class name to toggle\n     * @param {boolean} add - Whether to add or remove the class\n     * @returns {boolean} Success status\n     */\n    static toggleClass(elementId, className, add = true) {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for class toggle`, null, 2);\n            return false;\n        }\n\n        if (add) {\n            element.classList.add(className);\n        } else {\n            element.classList.remove(className);\n        }\n\n        return true;\n    }\n\n    /**\n     * Create an element with specified attributes\n     * @param {string} tagName - Element tag name\n     * @param {string|null} id - Element ID\n     * @param {string|Array} classes - CSS classes\n     * @param {Object} attributes - Additional attributes\n     * @returns {HTMLElement} Created element\n     */\n    static createElement(tagName = 'div', id = null, classes = [], attributes = {}) {\n        const element = document.createElement(tagName);\n\n        // Set ID if provided\n        if (id) {\n            element.id = id;\n        }\n\n        // Add classes - handle both arrays and space-separated strings\n        if (classes) {\n            let classList;\n            if (Array.isArray(classes)) {\n                classList = classes;\n            } else if (typeof classes === 'string') {\n                classList = classes.split(/\\s+/).filter(Boolean);\n            } else {\n                classList = [];\n            }\n\n            if (classList.length > 0) {\n                element.classList.add(...classList);\n            }\n        }\n\n        // Set attributes\n        Object.entries(attributes).forEach(([key, value]) => {\n            if (value !== undefined && value !== null) {\n                element.setAttribute(key, value);\n            }\n        });\n\n        return element;\n    }\n\n    /**\n     * Create and append an element to a container\n     * @param {string} tagName - Element tag name\n     * @param {Element|string} container - Container element or ID\n     * @param {Object} options - Element options\n     * @returns {HTMLElement|null} Created element or null if container not found\n     */\n    static createAndAppendElement(tagName, container, options = {}) {\n        // Get container element if ID was provided\n        const containerElement = typeof container === 'string'\n            ? document.getElementById(container)\n            : container;\n\n        if (!containerElement) {\n            Debug.warn(`DOMUtils: Container not found for createAndAppendElement`, null, 2);\n            return null;\n        }\n\n        // Extract options\n        const { id = null, classes = [], attributes = {}, content = null } = options;\n\n        // Create element\n        const element = DOMUtils.createElement(tagName, id, classes, attributes);\n\n        // Set content if provided\n        if (content !== null) {\n            if (typeof content === 'string') {\n                element.innerHTML = content;\n            } else if (content instanceof Node) {\n                element.appendChild(content);\n            }\n        }\n\n        // Append to container\n        containerElement.appendChild(element);\n\n        return element;\n    }\n\n    /**\n     * Set element content safely\n     * @param {string} elementId - Element ID\n     * @param {string} content - HTML content\n     * @returns {boolean} Success status\n     */\n    static setContent(elementId, content) {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for content update`, null, 2);\n            return false;\n        }\n\n        element.innerHTML = content;\n        return true;\n    }\n\n    /**\n     * Get elements by selector\n     * @param {string} selector - CSS selector\n     * @param {Element|Document|string} context - Search context or ID\n     * @returns {NodeList|null} Selected elements or null if context not found\n     */\n    static getElements(selector, context = document) {\n        // Get context element if ID was provided\n        const contextElement = typeof context === 'string'\n            ? document.getElementById(context)\n            : context;\n\n        if (!contextElement) {\n            Debug.warn(`DOMUtils: Context not found for selector: ${selector}`, null, 2);\n            return null;\n        }\n\n        return contextElement.querySelectorAll(selector);\n    }\n\n    /**\n     * Append HTML content to an element\n     * @param {string} elementId - Element ID\n     * @param {string} content - HTML content to append\n     * @returns {boolean} Success status\n     */\n    static appendContent(elementId, content) {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            Debug.warn(`DOMUtils: Element #${elementId} not found for content append`, null, 2);\n            return false;\n        }\n\n        element.insertAdjacentHTML('beforeend', content);\n        return true;\n    }\n\n    /**\n     * Remove an element safely\n     * @param {string|Element} elementOrId - Element or element ID to remove\n     * @returns {boolean} Success status\n     */\n    static removeElement(elementOrId) {\n        const element = typeof elementOrId === 'string'\n            ? document.getElementById(elementOrId)\n            : element;\n\n        if (!element?.parentNode) {\n            Debug.warn(`DOMUtils: Element not found or has no parent for removal`, null, 2);\n            return false;\n        }\n\n        element.parentNode.removeChild(element);\n        return true;\n    }\n\n    /**\n     * Setup event handlers on elements matching a selector\n     * @param {string} selector - CSS selector to match elements\n     * @param {string} eventType - Event type (e.g., 'click', 'change')\n     * @param {function} handler - Event handler function\n     * @param {Object} options - Additional options\n     * @returns {number} Number of elements that received the handler\n     */\n    static setupEventHandlers(selector, eventType, handler, options = {}) {\n        const {\n            context = document,\n            removeExisting = false,\n            styles = null\n        } = options;\n\n        const elements = DOMUtils.getElements(selector, context);\n        if (!elements) return 0;\n\n        // Remove existing handlers if requested\n        if (removeExisting) {\n            elements.forEach(element => {\n                element.removeEventListener(eventType, handler);\n            });\n        }\n\n        // Add new handlers and apply styles\n        elements.forEach(element => {\n            element.addEventListener(eventType, handler);\n\n            // Apply styles if provided\n            if (styles) {\n                Object.entries(styles).forEach(([property, value]) => {\n                    element.style[property] = value;\n                });\n            }\n        });\n\n        return elements.length;\n    }\n\n    /**\n     * Create an icon element\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Icon options\n     * @returns {Element} SVG icon element\n     */\n    static createIcon(iconName, options = {}) {\n        return IconRegistry.createIcon(iconName, options);\n    }\n\n    /**\n     * Get icon HTML string\n     * @param {string} iconName - Name of the icon\n     * @param {Object} options - Icon options\n     * @returns {string} SVG icon HTML\n     */\n    static getIconHtml(iconName, options = {}) {\n        return IconRegistry.getIcon(iconName, options);\n    }\n}\n","import { Debug } from '../../utils/Debug';\nimport Selectors from '../../constants/Selectors';\nimport { DOMUtils } from '../../utils/DOMUtils';\nimport { TranslationManager } from '../../utils/TranslationManager';\n\n/**\n * Manages browser UI generation for file-browser.php\n * This component handles the dynamic generation of UI elements that were previously\n * hardcoded in the PHP file, ensuring proper use of selectors and translations.\n */\nexport class BrowserUIManager {\n    /**\n     * @param {DiffViewer|Object} diffViewer - Parent diff viewer instance or options object\n     */\n    constructor (diffViewer) {\n        // Handle both DiffViewer instance or options object\n        if (diffViewer && diffViewer.options) {\n            this.diffViewer = diffViewer;\n            this.options = diffViewer.options;\n        } else {\n            this.diffViewer = null;\n            this.options = diffViewer || {};\n        }\n\n        this.container = null;\n        this.elements = {\n            themeSwitcher: null,\n            diffContainer: null,\n            mergeControls: null\n        };\n\n        // Get the translation manager instance\n        this.translationManager = TranslationManager.getInstance();\n\n        // Log translation state for debugging\n        let translationsSource;\n\n        // Extract nested ternary operations into separate statements\n        const hasWindowConfig = !!window.diffConfig?.translations;\n        const hasOptionsTranslations = !!this.options?.translations;\n\n        if (this.translationManager.isInitialized()) {\n            translationsSource = 'TranslationManager';\n        } else if (hasWindowConfig) {\n            translationsSource = 'window.diffConfig';\n        } else if (hasOptionsTranslations) {\n            translationsSource = 'options';\n        } else {\n            translationsSource = 'none';\n        }\n\n        const lang = this.translationManager.getLanguage();\n\n        Debug.log(`BrowserUIManager: Created with \"${lang}\" translations from ${translationsSource}`,\n                 this.translationManager.getAllTranslations(), 2);\n    }\n\n    /**\n     * Set the DiffViewer instance\n     * @param {DiffViewer} diffViewer - The DiffViewer instance\n     */\n    setDiffViewer(diffViewer) {\n        if (diffViewer && diffViewer.options) {\n            this.diffViewer = diffViewer;\n            this.options = diffViewer.options;\n            Debug.log('BrowserUIManager: Updated DiffViewer reference', null, 3);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Get translations from options\n     * @returns {Object} Translations object\n     */\n    getTranslations() {\n        // First, try to get translations from the TranslationManager\n        if (this.translationManager && this.translationManager.isInitialized()) {\n            Debug.log('BrowserUIManager: Using translations from TranslationManager', this.translationManager.getAllTranslations(), 3);\n            return this.translationManager.getAllTranslations();\n        }\n\n        // Second, try to auto-initialize TranslationManager with window.diffConfig\n        if (window.diffConfig?.translations && typeof window.diffConfig.translations === 'object') {\n            Debug.log('BrowserUIManager: Auto-initializing TranslationManager from window.diffConfig', window.diffConfig.translations, 3);\n            this.translationManager.initialize(\n                window.diffConfig.lang || 'en',\n                window.diffConfig.translations\n            );\n            return this.translationManager.getAllTranslations();\n        }\n\n        // Fall back to local options if nothing else works\n        if (this.options?.translations && typeof this.options.translations === 'object') {\n            Debug.log('BrowserUIManager: Using translations from local options', this.options.translations, 3);\n            return this.options.translations;\n        }\n\n        Debug.log('BrowserUIManager: No translations found, using empty object', null, 3);\n        return {};\n    }\n\n    /**\n     * Initialize UI components\n     * @param {string} containerSelector - Container element selector\n     */\n    initialize(containerSelector = Selectors.CONTAINER.WRAPPER) {\n        Debug.log('BrowserUIManager: Initializing UI components', null, 2);\n\n        this.container = document.querySelector(containerSelector);\n\n        if (!this.container) {\n            Debug.error('BrowserUIManager: Container element not found', null, 2);\n            return false;\n        }\n\n        // Change the order of generation - create diff container first\n        this.generateDiffContainer();\n        this.generateThemeSwitcher();\n        this.generateThemeSelector();\n        this.generateMergeControls();\n\n        Debug.log('BrowserUIManager: UI components generated', null, 2);\n        return true;\n    }\n\n    /**\n     * Generate theme switcher UI\n     */\n    generateThemeSwitcher() {\n        Debug.log('BrowserUIManager: Generating theme switcher', null, 3);\n\n        // Get the ID without the # prefix for createElement\n        const themeSwitcherId = Selectors.THEME.SWITCHER.name();\n        const themeLoadingId = Selectors.THEME.LOADING_INDICATOR.name();\n        const themeToggleId = Selectors.THEME.TOGGLE.name();\n\n        // Check if theme switcher already exists and if it's still valid to reuse\n        let themeSwitcher = document.getElementById(themeSwitcherId);\n\n        if (themeSwitcher) {\n            // Verify that the theme switcher is in a proper context (not orphaned)\n            // and that the diff UI is being displayed (not in \"identical files\" mode)\n            const diffContainer = document.getElementById(Selectors.DIFF.CONTAINER.name());\n\n            if (diffContainer || this.container.contains(themeSwitcher)) {\n                Debug.log('BrowserUIManager: Reusing existing theme switcher', themeSwitcherId, 2);\n                // Store reference to existing element\n                this.elements.themeSwitcher = themeSwitcher;\n\n                // Ensure it's properly positioned in the container\n                if (themeSwitcher.parentNode !== this.container) {\n                    this.container.appendChild(themeSwitcher);\n                }\n\n                // Make sure it's visible and properly styled - but don't force display here\n                // as it will be controlled by showThemeElements()/hideThemeElements()\n                themeSwitcher.style.position = 'relative';\n                return;\n            } else {\n                // Theme switcher exists but context is invalid, remove it and create new one\n                Debug.log('BrowserUIManager: Removing orphaned theme switcher', themeSwitcherId, 2);\n                themeSwitcher.remove();\n                themeSwitcher = null;\n            }\n        }\n\n        // Create new theme switcher element\n        Debug.log('BrowserUIManager: Creating new theme switcher', themeSwitcherId, 2);\n        themeSwitcher = document.createElement('div');\n        themeSwitcher.id = themeSwitcherId;\n        themeSwitcher.className = `${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.JUSTIFY_CONTENT_BETWEEN.name()} ${Selectors.UTILITY.PADDING_2.name()}`;\n        themeSwitcher.style.cssText = 'display: none !important; position: relative;';\n\n        // Create theme switcher wrapper\n        const switcherWrapper = document.createElement('div');\n        switcherWrapper.className = Selectors.THEME_SWITCHER.WRAPPER.name();\n\n        // Get SVG icons for light/dark mode\n        const sunIcon = DOMUtils.getIconHtml('sun', { classes: Selectors.UTILITY.MARGIN_END_2.name() });\n        const moonIcon = DOMUtils.getIconHtml('moon', { classes: Selectors.UTILITY.MARGIN_START_2.name() });\n\n        // Create theme switcher content with toggle\n        switcherWrapper.innerHTML = `\n            <span class=\"${Selectors.THEME_SWITCHER.LABEL.name()} ${Selectors.UTILITY.MARGIN_END_2.name()}\">${sunIcon}</span>\n            <label class=\"${Selectors.THEME_SWITCHER.CONTROL.name()}\" for=\"${themeToggleId}\">\n                <input type=\"checkbox\" id=\"${themeToggleId}\" checked>\n                <span class=\"${Selectors.THEME_SWITCHER.SLIDER.name()} ${Selectors.THEME_SWITCHER.SLIDER_ROUND.name()}\"></span>\n            </label>\n            <span class=\"${Selectors.THEME_SWITCHER.LABEL.name()} ${Selectors.UTILITY.MARGIN_START_2.name()} \">${moonIcon}</span>\n        `;\n\n        // Append elements to theme switcher\n        themeSwitcher.appendChild(switcherWrapper);\n\n        // Create a separate container for the loader outside the theme switcher hierarchy\n        const loadingContainer = document.createElement('div');\n        loadingContainer.id = themeLoadingId;\n        loadingContainer.style.display = 'none';\n        loadingContainer.style.position = 'absolute';\n        loadingContainer.style.zIndex = '1000';\n\n        // Append theme switcher to container\n        this.container.appendChild(themeSwitcher);\n\n        // Append loading container to body for proper positioning\n        document.body.appendChild(loadingContainer);\n\n        // Store reference\n        this.elements.themeSwitcher = themeSwitcher;\n        this.elements.themeLoadingContainer = loadingContainer;\n\n        // Watch for the vdm-diff__container to have 'loaded' class\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach(() => {\n                const diffContainer = document.getElementById(Selectors.DIFF.CONTAINER.name());\n                if (diffContainer && diffContainer.classList.contains('loaded')) {\n                    // If the container is loaded, make the theme switcher visible\n                    if (themeSwitcher) {\n                        themeSwitcher.style.cssText = 'display: flex !important; position: relative;';\n                    }\n                    // Disconnect the observer once we've made the change\n                    observer.disconnect();\n                }\n            });\n        });\n\n        // Start observing the container's parent element for child changes\n        const containerParent = this.container || document.body;\n        observer.observe(containerParent, {\n            subtree: true,\n            childList: true,\n            attributes: true,\n            attributeFilter: ['class']\n        });\n    }\n\n    /**\n     * Generate theme selector UI\n     * @returns {Object|null} The theme selector container and select element, or null if creation failed\n     */\n    generateThemeSelector() {\n        Debug.log('BrowserUIManager: Generating theme selector', null, 3);\n\n        // Get the ID without the # prefix for createElement\n        const themeSelectorId = Selectors.THEME.SELECTOR.name();\n        const themeSwitcherId = Selectors.THEME.SWITCHER.name();\n\n        // Check if theme selector already exists and if it's still valid to reuse\n        let existingSelector = document.getElementById(themeSelectorId);\n        let selectorContainer = null;\n\n        if (existingSelector) {\n            selectorContainer = existingSelector.parentNode;\n            // Verify that the theme selector is in a proper context (not orphaned)\n            const themeSwitcher = document.getElementById(themeSwitcherId);\n\n            if (themeSwitcher && themeSwitcher.contains(selectorContainer)) {\n                Debug.log('BrowserUIManager: Reusing existing theme selector', themeSelectorId, 2);\n                // Store reference to existing elements\n                this.elements.themeSelector = existingSelector;\n                this.elements.themeSelectorContainer = selectorContainer;\n                return { container: selectorContainer, selectElement: existingSelector };\n            } else {\n                // Theme selector exists but context is invalid, remove it and create new one\n                Debug.log('BrowserUIManager: Removing orphaned theme selector', themeSelectorId, 2);\n                if (selectorContainer && selectorContainer.parentNode) {\n                    selectorContainer.parentNode.removeChild(selectorContainer);\n                }\n                existingSelector = null;\n                selectorContainer = null;\n            }\n        }\n\n        // Get theme switcher container - theme selector must be inside it\n        const themeSwitcherContainer = document.getElementById(themeSwitcherId);\n        if (!themeSwitcherContainer) {\n            Debug.warn('BrowserUIManager: No theme switcher container found for theme selector', null, 2);\n            return null;\n        }\n\n        // Create new theme selector container and element\n        Debug.log('BrowserUIManager: Creating new theme selector', themeSelectorId, 2);\n\n        // Create the container using utility classes\n        selectorContainer = document.createElement('div');\n        selectorContainer.className = `${Selectors.THEME_SELECTOR.WRAPPER.name()} ${Selectors.UTILITY.MARGIN_END_3.name()}`;\n\n        // Create select element\n        const selectElement = document.createElement('select');\n        selectElement.id = themeSelectorId;\n        selectElement.className = `${Selectors.UTILITY.FORM_SELECT.name()} ${Selectors.UTILITY.FORM_SELECT.name()}`;\n\n        // Append select to container\n        selectorContainer.appendChild(selectElement);\n\n        // Insert the selector container at the beginning of the theme switcher\n        themeSwitcherContainer.insertBefore(selectorContainer, themeSwitcherContainer.firstChild);\n\n        // Store references\n        this.elements.themeSelector = selectElement;\n        this.elements.themeSelectorContainer = selectorContainer;\n\n        Debug.log('BrowserUIManager: Theme selector created and added to DOM', null, 2);\n        return { container: selectorContainer, selectElement: selectElement };\n    }\n\n    /**\n     * Generate diff container UI\n     */\n    generateDiffContainer() {\n        Debug.log('BrowserUIManager: Generating diff container', null, 3);\n\n        // Get IDs without the # prefix for createElement\n        const diffContainerId = Selectors.DIFF.CONTAINER.name();\n        const viewerId = Selectors.DIFF.VIEWER.name();\n\n        // Create diff container\n        const diffContainer = document.createElement('div');\n        diffContainer.id = diffContainerId;\n\n        // Create viewer element\n        const viewerElement = document.createElement('div');\n        viewerElement.id = viewerId;\n        viewerElement.className = Selectors.UTILITY.MARGIN_TOP_2.name();\n        viewerElement.style.display = 'none';\n\n        // Set up a mutation observer to watch for display changes on the viewer element\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (mutation.type === 'attributes' &&\n                    mutation.attributeName === 'style' &&\n                    viewerElement.style.display !== 'none') {\n                    // If viewer becomes visible, show the theme switcher\n                    if (this.elements.themeSwitcher) {\n                        this.elements.themeSwitcher.style.display = 'flex';\n                    }\n                }\n            });\n        });\n\n        // Start observing the viewer element for style changes\n        observer.observe(viewerElement, { attributes: true });\n\n        // Append elements to diff container\n        diffContainer.appendChild(viewerElement);\n\n        // Append diff container to container\n        this.container.appendChild(diffContainer);\n\n        // Store reference and log creation\n        this.elements.diffContainer = diffContainer;\n\n        // Verify the element was created\n        const createdViewer = document.getElementById(viewerId);\n        Debug.log(`BrowserUIManager: Viewer element (${viewerId}) created successfully: ${!!createdViewer}`, null, 3);\n    }\n\n    /**\n     * Generate merge controls UI using translations from DiffViewer\n     */\n    generateMergeControls() {\n        Debug.log('BrowserUIManager: Generating merge controls structure only', null, 3);\n\n        // Get translations from options\n        const translations = this.getTranslations();\n\n        // Get IDs without the # prefix for createElement\n        const previewButtonId = Selectors.MERGE.BUTTON_PREVIEW.name();\n        const toggleButtonId = Selectors.MERGE.DESTINATION_TOGGLE.name();\n        const toggleIconId = Selectors.MERGE.TOGGLE_ICON.name();\n        const toggleTextId = Selectors.MERGE.TOGGLE_TEXT.name();\n        const dropdownId = Selectors.MERGE.DESTINATION_DROPDOWN.name();\n        const applyButtonId = Selectors.MERGE.BUTTON_APPLY.name();\n\n        // Create merge controls container\n        const mergeControls = document.createElement('div');\n        mergeControls.className = `${Selectors.MERGE.CONTROLS_ACTIONS.name()} ${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.ALIGN_ITEMS_CENTER.name()} ${Selectors.UTILITY.JUSTIFY_CONTENT_BETWEEN.name()} ${Selectors.UTILITY.MARGIN_Y_2.name()} ${Selectors.UTILITY.PADDING_2.name()}`;\n\n        // Create preview button section\n        const previewSection = document.createElement('div');\n\n        const previewButton = document.createElement('button');\n        previewButton.id = previewButtonId;\n        previewButton.className = `${Selectors.UTILITY.BUTTON.name()} ${Selectors.UTILITY.BUTTON_INFO.name()}`;\n        previewButton.type = 'button';\n        previewButton.innerHTML = `${DOMUtils.getIconHtml('eye', { classes: Selectors.UTILITY.MARGIN_END_2.name() })}${translations.preview || 'Preview'}`;\n\n        previewSection.appendChild(previewButton);\n\n        // Create merge controls section\n        const mergeSection = document.createElement('div');\n        mergeSection.className = `${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.ALIGN_ITEMS_CENTER.name()}`;\n\n        // Create a group for toggle button and dropdown - using input-group styling approach\n        const toggleGroup = document.createElement('div');\n        toggleGroup.className = `${Selectors.UTILITY.FLEX.name()} ${Selectors.UTILITY.ALIGN_ITEMS_STRETCH.name()} ${Selectors.UTILITY.MARGIN_END_3.name()}`;\n        // Add class for styling instead of inline style\n        toggleGroup.classList.add('vdm-input-group');\n\n        // Create destination toggle button\n        const toggleButton = document.createElement('button');\n        toggleButton.id = toggleButtonId;\n        toggleButton.className = `${Selectors.UTILITY.BUTTON.name()} ${Selectors.UTILITY.BUTTON_FLAT.name()} vdm-input-group__prepend`;\n        toggleButton.type = 'button'; // Explicitly set type to button\n\n        const toggleIcon = document.createElement('span');\n        toggleIcon.id = toggleIconId;\n        toggleIcon.innerHTML = DOMUtils.getIconHtml('plus-circle', { classes: Selectors.UTILITY.MARGIN_END_2.name() });\n\n        const toggleText = document.createElement('span');\n        toggleText.id = toggleTextId;\n        toggleText.setAttribute('title', translations.saveToOriginalTooltip || 'Replace the current file with merged content');\n        toggleText.textContent = translations.saveToOriginal || 'Save to original';\n\n        toggleButton.appendChild(toggleIcon);\n        toggleButton.appendChild(toggleText);\n\n        // Create empty destination dropdown - IMPORTANT CHANGE: No options added\n        const dropdown = document.createElement('select');\n        dropdown.id = dropdownId;\n        dropdown.className = `${Selectors.UTILITY.FORM_SELECT.name()} vdm-input-group__append vdm-select-auto-width`;\n        // No options are added here - This will be handled by MergeUIController\n\n        // Add toggle button and dropdown to the toggle group with no spacing between them\n        toggleGroup.appendChild(toggleButton);\n        toggleGroup.appendChild(dropdown);\n\n        // Create apply merge button\n        const applyButton = document.createElement('button');\n        applyButton.id = applyButtonId;\n        applyButton.className = `${Selectors.UTILITY.BUTTON.name()} ${Selectors.UTILITY.BUTTON_PRIMARY.name()} vdm-nowrap`;\n        applyButton.type = 'button';\n        applyButton.innerHTML = (translations.applyMerge || 'Apply Merge') + ` ${DOMUtils.getIconHtml('file-circle-plus', { classes: Selectors.UTILITY.MARGIN_START_2.name() })}`;\n        applyButton.style.whiteSpace = 'nowrap';\n        applyButton.style.display = 'inline-flex';\n        applyButton.style.alignItems = 'center';\n\n        // Append toggle group and apply button to merge section\n        mergeSection.appendChild(toggleGroup);\n        mergeSection.appendChild(applyButton);\n\n        // Append sections to merge controls\n        mergeControls.appendChild(previewSection);\n        mergeControls.appendChild(mergeSection);\n\n        // Append merge controls to container\n        this.container.appendChild(mergeControls);\n\n        // Store reference\n        this.elements.mergeControls = mergeControls;\n\n        Debug.log('BrowserUIManager: Created empty merge controls structure (options will be populated by MergeUIController)', null, 2);\n    }\n\n    /**\n     * Show theme loading indicator using the LoaderManager\n     */\n    showThemeLoading() {\n        const loadingContainer = this.elements.themeLoadingContainer;\n        const themeSwitcher = this.elements.themeSwitcher;\n\n        if (loadingContainer && themeSwitcher) {\n            // Get the translated message\n            const message = TranslationManager.getInstance().get('loadingTheme', 'Loading theme...');\n\n            // Use proper CSS classes for styling\n            loadingContainer.innerHTML = `\n                <div class=\"vdm-theme__loading-spinner\"></div>\n                <span>${message}</span>\n            `;\n\n            // Add styling for the translucid background and rounded corners\n            loadingContainer.className = 'vdm-theme__loading-indicator';\n\n            // Get the position of the theme switcher\n            const rect = themeSwitcher.getBoundingClientRect();\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n            // Position the loader just above the theme switcher\n            loadingContainer.style.top = (rect.top + scrollTop - 40) + 'px';\n\n            // Make the loader visible\n            loadingContainer.style.display = 'flex';\n        }\n    }\n\n    /**\n     * Hide theme loading indicator\n     */\n    hideThemeLoading() {\n        const loadingContainer = this.elements.themeLoadingContainer;\n        if (loadingContainer) {\n            loadingContainer.style.display = 'none';\n        }\n    }\n\n    /**\n     * Clean up event handlers and resources\n     */\n    destroy() {\n        Debug.log('BrowserUIManager: Destroying UI components', null, 2);\n\n        // Hide any active theme loader\n        this.hideThemeLoading();\n\n        // Remove generated elements (except theme switcher which should be preserved across instances)\n        // Note: Theme switcher is preserved by FileBrowserManager.clearUI() to maintain user experience\n        // if (this.elements.themeSwitcher && this.elements.themeSwitcher.parentNode) {\n        //     this.elements.themeSwitcher.parentNode.removeChild(this.elements.themeSwitcher);\n        // }\n\n        if (this.elements.diffContainer && this.elements.diffContainer.parentNode) {\n            this.elements.diffContainer.parentNode.removeChild(this.elements.diffContainer);\n        }\n\n        if (this.elements.mergeControls && this.elements.mergeControls.parentNode) {\n            this.elements.mergeControls.parentNode.removeChild(this.elements.mergeControls);\n        }\n\n        // Reset references but keep theme switcher and theme selector references if they still exist in DOM\n        const existingThemeSwitcher = document.getElementById(Selectors.THEME.SWITCHER.name());\n        const existingThemeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        const existingThemeSelectorContainer = existingThemeSelector ? existingThemeSelector.parentNode : null;\n\n        this.elements = {\n            themeSwitcher: existingThemeSwitcher || null,  // Keep reference if still in DOM\n            themeSelector: existingThemeSelector || null,  // Keep theme selector reference too\n            themeSelectorContainer: existingThemeSelectorContainer || null,  // Keep container reference\n            diffContainer: null,\n            mergeControls: null\n        };\n\n        // Clear DiffViewer reference\n        this.diffViewer = null;\n\n        Debug.log('BrowserUIManager: UI components destroyed', null, 2);\n    }\n\n    /**\n     * Hide theme UI elements when no diff is being displayed (identical files)\n     */\n    hideThemeElements() {\n        Debug.log('BrowserUIManager: Hiding theme elements for identical content', null, 2);\n\n        if (this.elements.themeSwitcher) {\n            // Use important to ensure hiding works\n            this.elements.themeSwitcher.style.cssText = 'display: none !important; position: relative;';\n            Debug.log('BrowserUIManager: Hidden theme switcher', this.elements.themeSwitcher.id, 2);\n        }\n\n        // Also hide any standalone theme selector\n        const themeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        if (themeSelector) {\n            themeSelector.style.display = 'none';\n            Debug.log('BrowserUIManager: Hidden standalone theme selector', themeSelector.id, 2);\n        }\n    }\n\n    /**\n     * Show theme UI elements when diff is being displayed\n     */\n    showThemeElements() {\n        Debug.log('BrowserUIManager: Showing theme elements for diff content', null, 2);\n\n        if (this.elements.themeSwitcher) {\n            // Use important to override the initial !important hiding\n            this.elements.themeSwitcher.style.cssText = 'display: flex !important; position: relative;';\n            Debug.log('BrowserUIManager: Shown theme switcher', this.elements.themeSwitcher.id, 2);\n        }\n\n        // Also show any standalone theme selector\n        const themeSelector = document.getElementById(Selectors.THEME.SELECTOR.name());\n        if (themeSelector) {\n            themeSelector.style.display = 'block';\n            Debug.log('BrowserUIManager: Shown standalone theme selector', themeSelector.id, 2);\n        }\n    }\n}\n","/**\n * File Browser entry point\n * Exports the FileBrowserManager for use in the file browser example\n */\n\nimport { FileBrowserManager } from './components/browser/FileBrowserManager';\nimport { BrowserUIManager } from './components/viewer/BrowserUIManager';\n\n// Export the FileBrowserManager class for direct use\nexport { FileBrowserManager, BrowserUIManager };\n\n// Also expose to window object for backwards compatibility\nif (typeof window !== 'undefined') {\n    window.FileBrowserManager = FileBrowserManager;\n    window.BrowserUIManager = BrowserUIManager;\n}\n"],"names":["root","factory","exports","module","define","amd","a","i","this","Debug","DebugUtility","_classCallCheck","enabled","logHistory","maxLogHistory","prefix","logLevel","key","value","arguments","length","undefined","console","warn","concat","current","level","attempted","log","_window$diffConfig","window","diffConfig","debug","message","data","shouldLog","_addToHistory","error","maxLevel","_toConsumableArray","filter","entry","type","args","push","timestamp","Date","shift","selectorHandler","get","target","prop","startsWith","substring","Symbol","toPrimitive","String","processSelectors","obj","result","_typeof","Proxy","Object","baseSelectors","CODE","LINE_CONTENT","LINE_EMPTY","LINE_NUMBER","TABLE","CONTAINER","ROOT","WRAPPER","COPY","BUTTON","COPIED","ICON","MODAL","ACTIONS","DIALOG","INSTRUCTIONS","TEXTAREA","TEXTAREA_ELEM","PROCESSING","TEXT","DIFF","CHECK_ALL_BTN","CHUNK","CHUNK_SELECTED","CHUNK_UNSELECTED","CONTENT_WRAPPER","LINE_ADD","LINE_CONTENT_EMPTY","LINE_DELETE","LINE_PLACEHOLDER","LINE_REPLACE_LEFT","LINE_REPLACE_RIGHT","PANE","PANE_CONTENT","PANE_HEADER","PANE_LEFT","PANE_RIGHT","PANES_CONTAINER","PLACEHOLDER","TABLE_WRAPPER","VIEWER","ICONS","COLUMN","MARKER","MARKER_PLACEHOLDER","SELECT","SELECT_LEFT","SELECT_RIGHT","LOADER","ACTIVE","FULLSCREEN","INDICATOR","INLINE","MAIN","SPINNER","MERGE","BUTTON_APPLY","BUTTON_PREVIEW","CONFLICT_MODAL","CONTROLS_ACTIONS","DESTINATION_DROPDOWN","DESTINATION_TOGGLE","GET_MERGED_RESULT_BTN","PREVIEW_CONTENT","PREVIEW_MODAL","TOGGLE_ICON","TOGGLE_TEXT","BACKDROP","CLOSE","CLOSE_BTN","CODE_COPY","CONFIRM","CONFIRMATION_CONTENT","CONTENT","CONTINUE_BTN","COPY_CONTENT","FIXED_FOOTER","FOOTER","HEADER","HEADER_FIXED","MERGE_BTN","MESSAGE","PREVIEW","PREVIEW_CONTENT_ID","PREVIEW_FILENAME","TITLE","NAVIGATION","COUNTER","COUNTER_ELEMENT","HIGHLIGHT","NAV_CHUNK","NEXT_BUTTON","PREV_BUTTON","STATUS","LOADED","RESOLVED","SCROLLED","UNRESOLVED","THEME","DARK","LIGHT","LOADING_INDICATOR","MODE_PREFIX","SELECTOR","SWITCHER","TOGGLE","THEME_SWITCHER","CONTROL","LABEL","SLIDER","SLIDER_ROUND","THEME_SELECTOR","TOOLTIP","ARROW","UTILITY","defaultUtilitySelectors","BUTTON_PRIMARY","BUTTON_SECONDARY","BUTTON_INFO","BUTTON_SUCCESS","BUTTON_WARNING","BUTTON_DANGER","BUTTON_FLAT","BUTTON_SMALL","BUTTON_EXTRA_SMALL","BUTTON_LARGE","ALERT","ALERT_PREFIX","ALERT_INFO","ALERT_SUCCESS","ALERT_WARNING","ALERT_DANGER","FORM_SELECT","FORM_SELECT_SM","FLEX","FLEX_COLUMN","JUSTIFY_CONTENT_BETWEEN","JUSTIFY_CONTENT_CENTER","ALIGN_ITEMS_CENTER","ALIGN_ITEMS_STRETCH","PADDING_2","PADDING_3","MARGIN_2","MARGIN_TOP_2","MARGIN_BOTTOM_2","MARGIN_START_1","MARGIN_START_2","MARGIN_END_2","MARGIN_END_3","MARGIN_X_1","MARGIN_Y_2","MARGIN_END_1","ui","button","buttonPrimary","buttonSecondary","buttonInfo","buttonSuccess","buttonWarning","buttonDanger","buttonFlat","alert","alertInfo","alertSuccess","alertWarning","alertDanger","e","getUtilitySelectors","BaseSingleton","Error","instanceVar","TranslationManager","_BaseSingleton","_this","_callSuper","translations","lang","initialized","_initializeFromGlobalConfig","_inherits","initialize","defaultValue","_objectSpread","_instance","_defineProperty","instance","LoaderManager","activeLoaders","Map","loaderIdCounter","isMainLoaderActive","mainLoaderId","recentlyRemovedLoaders","Set","operationLog","maxLogEntries","verboseLogging","isInitialized","operation","details","toISOString","options","getInstance","translationKey","translatedMessage","loader","document","createElement","className","fullscreen","classList","add","inline","small","container","zIndex","style","spinner","appendChild","messageElement","textContent","updateLoaderMessage","loaderId","loaderElement","_createLoaderElement","setAttribute","HTMLElement","getComputedStyle","getPropertyValue","position","body","set","element","now","_logOperation","id","setTimeout","parentNode","has","currentId","_hideAllInlineLoaders","mainLoaderElement","getElementById","Selectors","name","display","querySelector","newMessageElement","isMainLoader","showLoader","loaderInfo","isEarlyLoader","showMainLoader","providedId","actualMainId","removeChild","success","_hideSpecificLoader","Array","from","entries","_ref","_ref2","_slicedToArray","info","map","_ref3","forEach","querySelectorAll","_removeLoaderElement","_this2","loaderIds","keys","hideMainLoader","_loader$element","remove","_loader$element2","size","clear","_loader$element$query","exists","isMain","age","inDom","wasRemoved","_cleanupOldRemovedLoaders","activeCount","recentlyRemovedCount","mainLoaderActive","operations","loaders","_ref5","_info$element$querySe","_ref6","AlertManager","containerId","activeAlert","timeoutId","_ensureContainer","top","left","transform","width","maxWidth","mergedOptions","timeout","dismissable","translate","targetElement","placement","useContainer","hasTargetElement","alertElement","baseAlertClass","toString","alertClass","typeClass","selectorBase","selectorType","finalMessage","translationManager","innerHTML","closeButton","addEventListener","hideAlert","insertBefore","nextSibling","_this$activeAlert","clearTimeout","showAlert","_regeneratorRuntime","t","r","prototype","n","hasOwnProperty","o","defineProperty","iterator","c","asyncIterator","u","toStringTag","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","apply","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","asyncGeneratorStep","_asyncToGenerator","_next","_throw","_defineProperties","Number","_toPrimitive","_classPrivateMethodInitSpec","_checkPrivateRedeclaration","_assertClassBrand","_DiffConfigManager_brand","WeakSet","DiffConfigManager","_serverConfigLoaded","old","new","_ensureServerConfigLoaded","_callee","apiBaseUrl","scripts","scriptSrc","match","configResponse","serverConfig","_window$diffConfig2","existingServerSaveEnabled","_context","src","fetch","ok","json","serverSaveEnabled","status","t0","_initialize","_callee2","config","_args2","_context2","ensureServerConfigLoaded","preservedValues","preservedCount","preserved","overrides","partialConfig","_mergeDeep","_","source","output","_isObject","item","isArray","FileBrowserManager","compareFileSelect","oldFileSelect","newFileSelect","loaderManager","initAsync","_initAsync","configManager","_args","init","syncFileSelections","form","event","handleComparison","_handleComparison","containerWrapper","fileData","contents","viewerElement","preventDefault","replace","clearUI","contains","showEarlyLoader","cleanupPreviousInstance","getSelectedFilesData","fetchFileContents","handleIdenticalContent","configureDiffData","processDiff","identical","setDiffConfigSafe","fileRefId","oldFileRefId","initializeUIManager","initializeDiffViewer","handleError","_x","diffViewer","destroy","vdmBrowserUIManager","_initializeUIManager","_callee3","_context3","BrowserUIManager","createBasicUIElements","_initializeDiffViewer","_callee4","_window$diffConfig$ne","_window$diffConfig$ne2","_window$diffConfig$ne3","_window$diffConfig$ol","_window$diffConfig$ol2","currentFileRefId","hasFileRefs","viewerContainer","initResult","themeSwitcherId","themeSwitcherExists","_context4","DiffViewer","ref_id","newFileName","filename","oldFileName","demoEnabled","diffData","chunks","hasDiffData","diffDataKeys","generateThemeSwitcher","showThemeElements","enableDiffViewer","selectedIndex","selectedOption","oldRefId","getAttribute","newRefId","oldPath","newPath","path","refId","_fetchFileContents","_callee6","fetchFile","oldContent","newContent","_context6","_callee5","filePath","baseApiUrl","apiUrl","response","_response","_context5","encodeURIComponent","content","text","_x3","_x4","_x2","split","update","filepath","_processDiff","_callee7","diffProcessorEndpoint","_window$diffConfig3","_window$diffConfig4","_window$diffConfig5","_configManager","_baseApiUrl","_context7","vdmEndpointDiscovery","getEndpoint","apiEndpoints","diffProcessor","headers","JSON","stringify","statusText","_result$key","existing","fromServer","_result$config","_window$diffConfig6","_result$config3","translationCount","_result$old","_result$new","lines","_result$config2","theme","apiEndpoint","existingApiBaseUrl","demo","simulated","alertManager","title","demoMessage","showWarning","loadingElement","errorMessage","showError","currentChildren","children","child","tagName","elementsToPreserve","index","finalChildren","resultContainer","matchFound","fileExt","endsWith","hideThemeSelector","hideThemeElements","alertContainer","userContent","after","prepend","showInfo","diffContainer","diffViewerId","diffContainerId","leftPane","rightPane","themeSwitcher","themeSelectorWrapper","themeSelector","fileBrowserManager","IconRegistry","iconName","_options$classes","classes","_options$width","_options$height","height","_options$title","_options$ariaHidden","ariaHidden","pathData","_getIconPathData","titleElement","viewBox","paths","svgString","getIcon","template","trim","firstChild","elementCache","DOMUtils","buttonId","handlerFn","logName","instanceId","_handlerId","newBtn","cloneNode","replaceChild","includes","currentValue","elements","toggleBtn","toggleIcon","toggleText","firstOption","secondOption","firstClass","secondClass","firstText","secondText","firstTooltip","secondTooltip","_iconName","_options$className","_options$elementId","elementId","_options$keepExisting","keepExisting","iconClass","HAS_ICON","visible","displayMode","_element$classList","attributes","Boolean","containerElement","_options$id","_options$attributes","_options$content","Node","selector","context","contextElement","insertAdjacentHTML","elementOrId","eventType","handler","_options$context","_options$removeExisti","removeExisting","_options$styles","styles","getElements","removeEventListener","_ref4","property","createIcon","_this$options","translationsSource","mergeControls","hasWindowConfig","hasOptionsTranslations","getLanguage","getAllTranslations","_this$options2","containerSelector","generateDiffContainer","generateThemeSelector","generateMergeControls","themeLoadingId","themeToggleId","cssText","switcherWrapper","sunIcon","getIconHtml","moonIcon","loadingContainer","themeLoadingContainer","observer","MutationObserver","mutations","disconnect","containerParent","observe","subtree","childList","attributeFilter","themeSelectorId","existingSelector","selectorContainer","themeSelectorContainer","selectElement","themeSwitcherContainer","viewerId","mutation","attributeName","createdViewer","getTranslations","previewButtonId","toggleButtonId","toggleIconId","toggleTextId","dropdownId","applyButtonId","previewSection","previewButton","preview","mergeSection","toggleGroup","toggleButton","saveToOriginalTooltip","saveToOriginal","dropdown","applyButton","applyMerge","whiteSpace","alignItems","rect","getBoundingClientRect","scrollTop","pageYOffset","documentElement","hideThemeLoading","existingThemeSwitcher","existingThemeSelector","existingThemeSelectorContainer"],"sourceRoot":""}